/*! For license information please see 214.a627508d231f6dab7695.js.LICENSE */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[214],{183:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}});t.webpackPolyfill=1}return t}},470:function(t,e,i){(function(t){var s;(function(r,n){"use strict";var a=n(r);if(true&&t!=null&&t.exports){t.exports=a}else if(true){!(s=function(){return a}.call(e,i,e,t),s!==undefined&&(t.exports=s))}else{}})(typeof window!=="undefined"?window:this,(function(t,e){var i;(function(){var t=false,e=/xyz/.test((function(){window.postMessage("xyz")}))?/\b_super\b/:/.*/;i=function(){};i.extend=function i(s){var r=this.prototype;t=true;var n=new this;t=false;for(var a in s){n[a]=typeof s[a]=="function"&&typeof r[a]=="function"&&e.test(s[a])?function(t,e){return function(){var i=this._super;this._super=r[t];var s=e.apply(this,arguments);this._super=i;return s}}(a,s[a]):s[a]}function o(){if(!t&&this.init)this.init.apply(this,arguments)}o.prototype=n;o.prototype.constructor=o;o.extend=i;return o};return i})();(function(){function t(t,i){i=i||{bubbles:false,cancelable:false,detail:e};var s=document.createEvent("CustomEvent");s.initCustomEvent(t,i.bubbles,i.cancelable,i.detail);return s}t.prototype=window.Event.prototype;window.CustomEvent=t})();(function(){var t=0;var e=["ms","moz","webkit","o"];for(var i=0;i<e.length&&!window.requestAnimationFrame;++i){window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(e,i){var s=(new Date).getTime();var r=Math.max(0,16-(s-t));var n=window.setTimeout((function(){e(s+r)}),r);t=s+r;return n};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(t){clearTimeout(t)}})();(function(){if(!Array.isArray){Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}})();var s=function(t){if(typeof t!=="object"||t.nodeType||t!==null&&t===t.window){return false}if(t.constructor&&!Object.prototype.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf")){return false}return true};var r=function(t){var e,i,n;for(i=1;i<arguments.length;i++){e=arguments[i];for(n in e){if(!e.hasOwnProperty(n))continue;if(e[n]&&s(e[n])){if(!t.hasOwnProperty(n))t[n]={};r(t[n],e[n])}else{t[n]=e[n]}}}return t};var n=function(t,e){if(!t||typeof t!=="object")return;var i;if(Array.isArray(t)||typeof t.length==="number"&&t.length>0&&t.length-1 in t){for(i=0;i<t.length;i++){if(e(i,t[i])===false)return}}else{if(Object.keys){var s=Object.keys(t);for(i=0;i<s.length;i++){if(e(s[i],t[s[i]])===false)return}}else{for(i in t){if(!t.hasOwnProperty(i))continue;if(e(i,t[i])===false)return}}}};var a=function(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,true,true);t.dispatchEvent(i)};var o=function(t,e){var i=new CustomEvent(e,{bubbles:true,cancelable:true});t.dispatchEvent(i)};var l=function(t,e){if(!(t instanceof Element)){throw new Error("element should be an instance of Element")}e=r({},l.defaults.options,e||{});this.element=t;this.options=e;this.init()};l.prototype={constructor:l,init:function(){var t=this;this.ready=false;this.copyClipboard=null;var e=l.defaults.themes[this.options.theme||l.defaults.theme];if(!e)throw"Unknown theme "+(this.options.theme||l.defaults.theme);this.schema=this.options.schema;this.theme=new e;this.template=this.options.template;this.refs=this.options.refs||{};this.uuid=0;this.__data={};var i=l.defaults.iconlibs[this.options.iconlib||l.defaults.iconlib];if(i)this.iconlib=new i;this.root_container=this.theme.getContainer();this.element.appendChild(this.root_container);this.translate=this.options.translate||l.defaults.translate;this._loadExternalRefs(this.schema,(function(){t._getDefinitions(t.schema);var e={};if(t.options.custom_validators){e.custom_validators=t.options.custom_validators}t.validator=new l.Validator(t,null,e);var i=t.expandRefs(t.schema);var s=t.getEditorClass(i);t.root=t.createEditor(s,{jsoneditor:t,schema:i,required:true,container:t.root_container});t.root.preBuild();t.root.build();t.root.postBuild();if(t.options.hasOwnProperty("startval"))t.root.setValue(t.options.startval);t.validation_results=t.validator.validate(t.root.getValue());t.root.showValidationErrors(t.validation_results);t.ready=true;window.requestAnimationFrame((function(){if(!t.ready)return;t.validation_results=t.validator.validate(t.root.getValue());t.root.showValidationErrors(t.validation_results);t.trigger("ready");t.trigger("change")}))}))},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(t){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";this.root.setValue(t);return this},validate:function(t){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";if(arguments.length===1){return this.validator.validate(t)}else{return this.validation_results}},destroy:function(){if(this.destroyed)return;if(!this.ready)return;this.schema=null;this.options=null;this.root.destroy();this.root=null;this.root_container=null;this.validator=null;this.validation_results=null;this.theme=null;this.iconlib=null;this.template=null;this.__data=null;this.ready=false;this.element.innerHTML="";this.destroyed=true},on:function(t,e){this.callbacks=this.callbacks||{};this.callbacks[t]=this.callbacks[t]||[];this.callbacks[t].push(e);return this},off:function(t,e){if(t&&e){this.callbacks=this.callbacks||{};this.callbacks[t]=this.callbacks[t]||[];var i=[];for(var s=0;s<this.callbacks[t].length;s++){if(this.callbacks[t][s]===e)continue;i.push(this.callbacks[t][s])}this.callbacks[t]=i}else if(t){this.callbacks=this.callbacks||{};this.callbacks[t]=[]}else{this.callbacks={}}return this},trigger:function(t){if(this.callbacks&&this.callbacks[t]&&this.callbacks[t].length){for(var e=0;e<this.callbacks[t].length;e++){this.callbacks[t][e].apply(this,[])}}return this},setOption:function(t,e){if(t==="show_errors"){this.options.show_errors=e;this.onChange()}else{throw"Option "+t+" must be set during instantiation and cannot be changed later"}return this},getEditorClass:function(t){var e;t=this.expandSchema(t);n(l.defaults.resolvers,(function(i,s){var r=s(t);if(r){if(l.defaults.editors[r]){e=r;return false}}}));if(!e)throw"Unknown editor for schema "+JSON.stringify(t);if(!l.defaults.editors[e])throw"Unknown editor "+e;return l.defaults.editors[e]},createEditor:function(t,e){e=r({},t.options||{},e);return new t(e)},onChange:function(){if(!this.ready)return;if(this.firing_change)return;this.firing_change=true;var t=this;window.requestAnimationFrame((function(){t.firing_change=false;if(!t.ready)return;t.validation_results=t.validator.validate(t.root.getValue());if(t.options.show_errors!=="never"){t.root.showValidationErrors(t.validation_results)}else{t.root.showValidationErrors([])}t.trigger("change")}));return this},compileTemplate:function(t,e){e=e||l.defaults.template;var i;if(typeof e==="string"){if(!l.defaults.templates[e])throw"Unknown template engine "+e;i=l.defaults.templates[e]();if(!i)throw"Template engine "+e+" missing required library."}else{i=e}if(!i)throw"No template engine set";if(!i.compile)throw"Invalid template engine set";return i.compile(t)},_data:function(t,e,i){if(arguments.length===3){var s;if(t.hasAttribute("data-jsoneditor-"+e)){s=t.getAttribute("data-jsoneditor-"+e)}else{s=this.uuid++;t.setAttribute("data-jsoneditor-"+e,s)}this.__data[s]=i}else{if(!t.hasAttribute("data-jsoneditor-"+e))return null;return this.__data[t.getAttribute("data-jsoneditor-"+e)]}},registerEditor:function(t){this.editors=this.editors||{};this.editors[t.path]=t;return this},unregisterEditor:function(t){this.editors=this.editors||{};this.editors[t.path]=null;return this},getEditor:function(t){if(!this.editors)return;return this.editors[t]},watch:function(t,e){this.watchlist=this.watchlist||{};this.watchlist[t]=this.watchlist[t]||[];this.watchlist[t].push(e);return this},unwatch:function(t,e){if(!this.watchlist||!this.watchlist[t])return this;if(!e){this.watchlist[t]=null;return this}var i=[];for(var s=0;s<this.watchlist[t].length;s++){if(this.watchlist[t][s]===e)continue;else i.push(this.watchlist[t][s])}this.watchlist[t]=i.length?i:null;return this},notifyWatchers:function(t){if(!this.watchlist||!this.watchlist[t])return this;for(var e=0;e<this.watchlist[t].length;e++){this.watchlist[t][e]()}},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(t,e){e=e||"#/definitions/";if(t.definitions){for(var i in t.definitions){if(!t.definitions.hasOwnProperty(i))continue;this.refs[e+i]=t.definitions[i];if(t.definitions[i].definitions){this._getDefinitions(t.definitions[i],e+i+"/definitions/")}}}},_getExternalRefs:function(t){var e={};var i=function(t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=true}}};if(t.$ref&&typeof t.$ref!=="object"&&t.$ref.substr(0,1)!=="#"&&!this.refs[t.$ref]){e[t.$ref]=true}for(var s in t){if(!t.hasOwnProperty(s))continue;if(t[s]&&typeof t[s]==="object"&&Array.isArray(t[s])){for(var r=0;r<t[s].length;r++){if(t[s][r]&&typeof t[s][r]==="object"){i(this._getExternalRefs(t[s][r]))}}}else if(t[s]&&typeof t[s]==="object"){i(this._getExternalRefs(t[s]))}}return e},_getFileBase:function(){var t=this.options.ajaxBase;if(typeof t==="undefined"){t=this._getFileBaseFromFileLocation(document.location.toString())}return t},_getFileBaseFromFileLocation:function(t){var e=t.split("/");e.pop();return e.join("/")+"/"},_loadExternalRefs:function(t,e,i){i=i||this._getFileBase();var s=this;var r=this._getExternalRefs(t);var a=0,o=0,l=false;n(r,(function(t){if(s.refs[t])return;if(!s.options.ajax)throw"Must set ajax option to true to load external ref "+t;s.refs[t]="loading";o++;var r=t;if(i!=t.substr(0,i.length)&&"http"!=t.substr(0,4)&&"/"!=t.substr(0,1))r=i+t;var n=new XMLHttpRequest;n.open("GET",r,true);if(s.options.ajaxCredentials)n.withCredentials=s.options.ajaxCredentials;n.onreadystatechange=function(){if(n.readyState!=4)return;if(n.status===200){var i;try{i=JSON.parse(n.responseText)}catch(t){window.console.log(t);throw"Failed to parse external ref "+r}if(!i||typeof i!=="object")throw"External ref does not contain a valid schema - "+r;s.refs[t]=i;s._loadExternalRefs(i,(function(){a++;if(a>=o&&!l){l=true;e()}}),s._getFileBaseFromFileLocation(r))}else{window.console.log(n);throw"Failed to fetch ref via ajax- "+t}};n.send()}));if(!o){e()}},expandRefs:function(t){t=r({},t);while(t.$ref){var e=t.$ref;delete t.$ref;if(!this.refs[e])e=decodeURIComponent(e);t=this.extendSchemas(t,this.refs[e])}return t},expandSchema:function(t){var e=this;var i=r({},t);var s;if(typeof t.type==="object"){if(Array.isArray(t.type)){n(t.type,(function(i,s){if(typeof s==="object"){t.type[i]=e.expandSchema(s)}}))}else{t.type=e.expandSchema(t.type)}}if(typeof t.disallow==="object"){if(Array.isArray(t.disallow)){n(t.disallow,(function(i,s){if(typeof s==="object"){t.disallow[i]=e.expandSchema(s)}}))}else{t.disallow=e.expandSchema(t.disallow)}}if(t.anyOf){n(t.anyOf,(function(i,s){t.anyOf[i]=e.expandSchema(s)}))}if(t.dependencies){n(t.dependencies,(function(i,s){if(typeof s==="object"&&!Array.isArray(s)){t.dependencies[i]=e.expandSchema(s)}}))}if(t.not){t.not=this.expandSchema(t.not)}if(t.allOf){for(s=0;s<t.allOf.length;s++){i=this.extendSchemas(i,this.expandSchema(t.allOf[s]))}delete i.allOf}if(t["extends"]){if(!Array.isArray(t["extends"])){i=this.extendSchemas(i,this.expandSchema(t["extends"]))}else{for(s=0;s<t["extends"].length;s++){i=this.extendSchemas(i,this.expandSchema(t["extends"][s]))}}delete i["extends"]}if(t.oneOf){var a=r({},i);delete a.oneOf;for(s=0;s<t.oneOf.length;s++){i.oneOf[s]=this.extendSchemas(this.expandSchema(t.oneOf[s]),a)}}return this.expandRefs(i)},extendSchemas:function(t,e){t=r({},t);e=r({},e);var i=this;var s={};n(t,(function(t,r){if(typeof e[t]!=="undefined"){if((t==="required"||t==="defaultProperties")&&typeof r==="object"&&Array.isArray(r)){s[t]=r.concat(e[t]).reduce((function(t,e){if(t.indexOf(e)<0)t.push(e);return t}),[])}else if(t==="type"&&(typeof r==="string"||Array.isArray(r))){if(typeof r==="string")r=[r];if(typeof e.type==="string")e.type=[e.type];if(!e.type||!e.type.length){s.type=r}else{s.type=r.filter((function(t){return e.type.indexOf(t)!==-1}))}if(s.type.length===1&&typeof s.type[0]==="string"){s.type=s.type[0]}else if(s.type.length===0){delete s.type}}else if(typeof r==="object"&&Array.isArray(r)){s[t]=r.filter((function(i){return e[t].indexOf(i)!==-1}))}else if(typeof r==="object"&&r!==null){s[t]=i.extendSchemas(r,e[t])}else{s[t]=r}}else{s[t]=r}}));n(e,(function(e,i){if(typeof t[e]==="undefined"){s[e]=i}}));return s},setCopyClipboardContents:function(t){this.copyClipboard=t},getCopyClipboardContents:function(){return this.copyClipboard}};l.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]};l.Validator=i.extend({init:function(t,e,i){this.jsoneditor=t;this.schema=e||this.jsoneditor.schema;this.options=i||{};this.translate=this.jsoneditor.translate||l.defaults.translate},validate:function(t){return this._validateSchema(this.schema,t)},_validateSchema:function(t,i,s){var a=this;var o=[];var h,d,u;var c=JSON.stringify(i);s=s||"root";t=r({},this.jsoneditor.expandRefs(t));if(typeof i==="undefined"){if(typeof t.required!=="undefined"&&t.required===true||typeof t.required==="undefined"&&this.jsoneditor.options.required_by_default===true){o.push({path:s,property:"required",message:this.translate("error_notset")})}return o}if(t["enum"]){h=false;for(d=0;d<t["enum"].length;d++){if(c===JSON.stringify(t["enum"][d]))h=true}if(!h){o.push({path:s,property:"enum",message:this.translate("error_enum")})}}if(t["extends"]){for(d=0;d<t["extends"].length;d++){o=o.concat(this._validateSchema(t["extends"][d],i,s))}}if(t.allOf){for(d=0;d<t.allOf.length;d++){o=o.concat(this._validateSchema(t.allOf[d],i,s))}}if(t.anyOf){h=false;for(d=0;d<t.anyOf.length;d++){if(!this._validateSchema(t.anyOf[d],i,s).length){h=true;break}}if(!h){o.push({path:s,property:"anyOf",message:this.translate("error_anyOf")})}}if(t.oneOf){h=0;var p=[];for(d=0;d<t.oneOf.length;d++){var f=this._validateSchema(t.oneOf[d],i,s);if(!f.length){h++}for(u=0;u<f.length;u++){f[u].path=s+".oneOf["+d+"]"+f[u].path.substr(s.length)}p=p.concat(f)}if(h!==1){o.push({path:s,property:"oneOf",message:this.translate("error_oneOf",[h])});o=o.concat(p)}}if(t.not){if(!this._validateSchema(t.not,i,s).length){o.push({path:s,property:"not",message:this.translate("error_not")})}}if(t.type){if(Array.isArray(t.type)){h=false;for(d=0;d<t.type.length;d++){if(this._checkType(t.type[d],i)){h=true;break}}if(!h){o.push({path:s,property:"type",message:this.translate("error_type_union")})}}else{if(["date","time","datetime-local"].indexOf(t.format)!=-1&&t.type=="integer"){if(!this._checkType("string",""+i)){o.push({path:s,property:"type",message:this.translate("error_type",[t.format])})}}else if(!this._checkType(t.type,i)){o.push({path:s,property:"type",message:this.translate("error_type",[t.type])})}}}if(t.disallow){if(Array.isArray(t.disallow)){h=true;for(d=0;d<t.disallow.length;d++){if(this._checkType(t.disallow[d],i)){h=false;break}}if(!h){o.push({path:s,property:"disallow",message:this.translate("error_disallow_union")})}}else{if(this._checkType(t.disallow,i)){o.push({path:s,property:"disallow",message:this.translate("error_disallow",[t.disallow])})}}}if(typeof i==="number"){if(t.multipleOf||t.divisibleBy){var m=t.multipleOf||t.divisibleBy;h=i/m===Math.floor(i/m);if(window.math){h=window.math.mod(window.math.bignumber(i),window.math.bignumber(m)).equals(0)}else if(window.Decimal){h=new window.Decimal(i).mod(new window.Decimal(m)).equals(0)}if(!h){o.push({path:s,property:t.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[m])})}}if(t.hasOwnProperty("maximum")){h=t.exclusiveMaximum?i<t.maximum:i<=t.maximum;if(window.math){h=window.math[t.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(i),window.math.bignumber(t.maximum))}else if(window.Decimal){h=new window.Decimal(i)[t.exclusiveMaximum?"lt":"lte"](new window.Decimal(t.maximum))}if(!h){o.push({path:s,property:"maximum",message:this.translate(t.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[t.maximum])})}}if(t.hasOwnProperty("minimum")){h=t.exclusiveMinimum?i>t.minimum:i>=t.minimum;if(window.math){h=window.math[t.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(i),window.math.bignumber(t.minimum))}else if(window.Decimal){h=new window.Decimal(i)[t.exclusiveMinimum?"gt":"gte"](new window.Decimal(t.minimum))}if(!h){o.push({path:s,property:"minimum",message:this.translate(t.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[t.minimum])})}}}else if(typeof i==="string"){if(t.maxLength){if((i+"").length>t.maxLength){o.push({path:s,property:"maxLength",message:this.translate("error_maxLength",[t.maxLength])})}}if(t.minLength){if((i+"").length<t.minLength){o.push({path:s,property:"minLength",message:this.translate(t.minLength===1?"error_notempty":"error_minLength",[t.minLength])})}}if(t.pattern){if(!new RegExp(t.pattern).test(i)){o.push({path:s,property:"pattern",message:this.translate("error_pattern",[t.pattern])})}}}else if(typeof i==="object"&&i!==null&&Array.isArray(i)){if(t.items){if(Array.isArray(t.items)){for(d=0;d<i.length;d++){if(t.items[d]){o=o.concat(this._validateSchema(t.items[d],i[d],s+"."+d))}else if(t.additionalItems===true){break}else if(t.additionalItems){o=o.concat(this._validateSchema(t.additionalItems,i[d],s+"."+d))}else if(t.additionalItems===false){o.push({path:s,property:"additionalItems",message:this.translate("error_additionalItems")});break}else{break}}}else{for(d=0;d<i.length;d++){o=o.concat(this._validateSchema(t.items,i[d],s+"."+d))}}}if(t.maxItems){if(i.length>t.maxItems){o.push({path:s,property:"maxItems",message:this.translate("error_maxItems",[t.maxItems])})}}if(t.minItems){if(i.length<t.minItems){o.push({path:s,property:"minItems",message:this.translate("error_minItems",[t.minItems])})}}if(t.uniqueItems){var g={};for(d=0;d<i.length;d++){h=JSON.stringify(i[d]);if(g[h]){o.push({path:s,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}g[h]=true}}}else if(typeof i==="object"&&i!==null){if(t.maxProperties){h=0;for(d in i){if(!i.hasOwnProperty(d))continue;h++}if(h>t.maxProperties){o.push({path:s,property:"maxProperties",message:this.translate("error_maxProperties",[t.maxProperties])})}}if(t.minProperties){h=0;for(d in i){if(!i.hasOwnProperty(d))continue;h++}if(h<t.minProperties){o.push({path:s,property:"minProperties",message:this.translate("error_minProperties",[t.minProperties])})}}if(typeof t.required!=="undefined"&&Array.isArray(t.required)){for(d=0;d<t.required.length;d++){if(typeof i[t.required[d]]==="undefined"){o.push({path:s,property:"required",message:this.translate("error_required",[t.required[d]])})}}}var v={};for(d in t.properties){if(!t.properties.hasOwnProperty(d))continue;v[d]=true;o=o.concat(this._validateSchema(t.properties[d],i[d],s+"."+d))}if(t.patternProperties){for(d in t.patternProperties){if(!t.patternProperties.hasOwnProperty(d))continue;var y=new RegExp(d);for(u in i){if(!i.hasOwnProperty(u))continue;if(y.test(u)){v[u]=true;o=o.concat(this._validateSchema(t.patternProperties[d],i[u],s+"."+u))}}}}if(typeof t.additionalProperties==="undefined"&&this.jsoneditor.options.no_additional_properties&&!t.oneOf&&!t.anyOf){t.additionalProperties=false}if(typeof t.additionalProperties!=="undefined"){for(d in i){if(!i.hasOwnProperty(d))continue;if(!v[d]){if(!t.additionalProperties){o.push({path:s,property:"additionalProperties",message:this.translate("error_additional_properties",[d])});break}else if(t.additionalProperties===true){break}else{o=o.concat(this._validateSchema(t.additionalProperties,i[d],s+"."+d))}}}}if(t.dependencies){for(d in t.dependencies){if(!t.dependencies.hasOwnProperty(d))continue;if(typeof i[d]==="undefined")continue;if(Array.isArray(t.dependencies[d])){for(u=0;u<t.dependencies[d].length;u++){if(typeof i[t.dependencies[d][u]]==="undefined"){o.push({path:s,property:"dependencies",message:this.translate("error_dependency",[t.dependencies[d][u]])})}}}else{o=o.concat(this._validateSchema(t.dependencies[d],i,s))}}}}if(["date","time","datetime-local"].indexOf(t.format)!=-1){var b={date:/^(\d{4}\D\d{2}\D\d{2})?$/,time:/^(\d{2}:\d{2}(?::\d{2})?)?$/,"datetime-local":/^(\d{4}\D\d{2}\D\d{2} \d{2}:\d{2}(?::\d{2})?)?$/};var _={date:'"YYYY-MM-DD"',time:'"HH:MM"',"datetime-local":'"YYYY-MM-DD HH:MM"'};var w=this.jsoneditor.getEditor(s);var C=w.flatpickr?w.flatpickr.config.dateFormat:_[w.format];if(t.type=="integer"){if(i*1<1){o.push({path:s,property:"format",message:this.translate("error_invalid_epoch")})}else if(i!=Math.abs(parseInt(i))){o.push({path:s,property:"format",message:this.translate("error_"+w.format.replace(/-/g,"_"),[C])})}}else if(!w.flatpickr){if(!b[w.format].test(i)){o.push({path:s,property:"format",message:this.translate("error_"+w.format.replace(/-/g,"_"),[_[w.format]])})}}else{if(i!==""){var x;if(w.flatpickr.config.mode!="single"){var E=w.flatpickr.config.mode=="range"?w.flatpickr.l10n.rangeSeparator:", ";var T=w.flatpickr.selectedDates.map((function(t){return w.flatpickr.formatDate(t,w.flatpickr.config.dateFormat)}));x=T.join(E)}try{if(x){if(x!=i)throw w.flatpickr.config.mode+" mismatch"}else if(w.flatpickr.formatDate(w.flatpickr.parseDate(i,w.flatpickr.config.dateFormat),w.flatpickr.config.dateFormat)!=i)throw"mismatch"}catch(t){var L=w.flatpickr.config.errorDateFormat!==e?w.flatpickr.config.errorDateFormat:w.flatpickr.config.dateFormat;o.push({path:s,property:"format",message:this.translate("error_"+w.format.replace(/-/g,"_"),[L])})}}}}n(l.defaults.custom_validators,(function(e,r){o=o.concat(r.call(a,t,i,s))}));if(this.options.custom_validators){n(this.options.custom_validators,(function(e,r){o=o.concat(r.call(a,t,i,s))}))}return o},_checkType:function(t,e){if(typeof t==="string"){if(t==="string")return typeof e==="string";else if(t==="number")return typeof e==="number";else if(t==="integer")return typeof e==="number"&&e===Math.floor(e);else if(t==="boolean")return typeof e==="boolean";else if(t==="array")return Array.isArray(e);else if(t==="object")return e!==null&&!Array.isArray(e)&&typeof e==="object";else if(t==="null")return e===null;else return true}else{return!this._validateSchema(t,e).length}}});l.AbstractEditor=i.extend({onChildEditorChange:function(t){this.onChange(true)},notify:function(){if(this.path)this.jsoneditor.notifyWatchers(this.path)},change:function(){if(this.parent)this.parent.onChildEditorChange(this);else if(this.jsoneditor)this.jsoneditor.onChange()},onChange:function(t){this.notify();if(this.watch_listener)this.watch_listener();if(t)this.change()},register:function(){this.jsoneditor.registerEditor(this);this.onChange()},unregister:function(){if(!this.jsoneditor)return;this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(t){this.jsoneditor=t.jsoneditor;this.theme=this.jsoneditor.theme;this.template_engine=this.jsoneditor.template;this.iconlib=this.jsoneditor.iconlib;this.translate=this.jsoneditor.translate||l.defaults.translate;this.original_schema=t.schema;this.schema=this.jsoneditor.expandSchema(this.original_schema);this.options=r({},this.options||{},this.schema.options||{},t.schema.options||{},t);if(!t.path&&!this.schema.id)this.schema.id="root";this.path=t.path||"root";this.formname=t.formname||this.path.replace(/\.([^.]+)/g,"[$1]");if(this.jsoneditor.options.form_name_root)this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[");this.key=this.path.split(".").pop();this.parent=t.parent;this.link_watchers=[];if(t.container)this.setContainer(t.container);this.registerDependencies()},registerDependencies:function(){this.dependenciesFulfilled=true;var t=this.options.dependencies;if(!t){return}var e=this;Object.keys(t).forEach((function(i){var s=e.path.split(".");s[s.length-1]=i;s=s.join(".");var r=t[i];e.jsoneditor.watch(s,(function(){e.checkDependency(s,r)}))}))},checkDependency:function(t,i){var s=this.control||this.container;if(this.path===t||!s){return}var r=this;var n=this.jsoneditor.getEditor(t);var a=n?n.getValue():e;var o=this.dependenciesFulfilled;this.dependenciesFulfilled=false;if(!n||!n.dependenciesFulfilled){this.dependenciesFulfilled=false}else if(Array.isArray(i)){i.some((function(t){if(a===t){r.dependenciesFulfilled=true;return true}}))}else if(typeof i==="object"){if(typeof a!=="object"){this.dependenciesFulfilled=i===a}else{Object.keys(i).some((function(t){if(!i.hasOwnProperty(t)){return false}if(!a.hasOwnProperty(t)||i[t]!==a[t]){r.dependenciesFulfilled=false;return true}r.dependenciesFulfilled=true}))}}else if(typeof i==="string"||typeof i==="number"){this.dependenciesFulfilled=a===i}else if(typeof i==="boolean"){if(i){this.dependenciesFulfilled=a&&a.length>0}else{this.dependenciesFulfilled=!a||a.length===0}}if(this.dependenciesFulfilled!==o){this.notify()}if(this.dependenciesFulfilled){s.style.display="block"}else{s.style.display="none"}},setContainer:function(t){this.container=t;if(this.schema.id)this.container.setAttribute("data-schemaid",this.schema.id);if(this.schema.type&&typeof this.schema.type==="string")this.container.setAttribute("data-schematype",this.schema.type);this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners();this.addLinks();this.setValue(this.getDefault(),true);this.updateHeaderText();this.register();this.onWatchedFieldChange()},setupWatchListeners:function(){var t=this;this.watched={};if(this.schema.vars)this.schema.watch=this.schema.vars;this.watched_values={};this.watch_listener=function(){if(t.refreshWatchedFieldValues()){t.onWatchedFieldChange()}};if(this.schema.hasOwnProperty("watch")){var e,i,s,r,n;for(var a in this.schema.watch){if(!this.schema.watch.hasOwnProperty(a))continue;e=this.schema.watch[a];if(Array.isArray(e)){if(e.length<2)continue;i=[e[0]].concat(e[1].split("."))}else{i=e.split(".");if(!t.theme.closest(t.container,'[data-schemaid="'+i[0]+'"]'))i.unshift("#")}s=i.shift();if(s==="#")s=t.jsoneditor.schema.id||"root";r=t.theme.closest(t.container,'[data-schemaid="'+s+'"]');if(!r)throw"Could not find ancestor node with id "+s;n=r.getAttribute("data-schemapath")+"."+i.join(".");t.jsoneditor.watch(n,t.watch_listener);t.watched[a]=n}}if(this.schema.headerTemplate){this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine)}},addLinks:function(){if(!this.no_link_holder){this.link_holder=this.theme.getLinksHolder();this.container.appendChild(this.link_holder);if(this.schema.links){for(var t=0;t<this.schema.links.length;t++){this.addLink(this.getLink(this.schema.links[t]))}}}},getButton:function(t,e,i){var s="json-editor-btn-"+e;if(!this.iconlib)e=null;else e=this.iconlib.getIcon(e);if(!e&&i){t=i;i=null}var r=this.theme.getButton(t,e,i);r.classList.add(s);return r},setButtonText:function(t,e,i,s){if(!this.iconlib)i=null;else i=this.iconlib.getIcon(i);if(!i&&s){e=s;s=null}return this.theme.setButtonText(t,e,i,s)},addLink:function(t){if(this.link_holder)this.link_holder.appendChild(t)},getLink:function(t){var e,i;var s=t.mediaType||"application/javascript";var r=s.split("/")[0];var n=this.jsoneditor.compileTemplate(t.href,this.template_engine);var a=this.jsoneditor.compileTemplate(t.rel?t.rel:t.href,this.template_engine);var o=null;if(t.download)o=t.download;if(o&&o!==true){o=this.jsoneditor.compileTemplate(o,this.template_engine)}if(r==="image"){e=this.theme.getBlockLinkHolder();i=document.createElement("a");i.setAttribute("target","_blank");var l=document.createElement("img");this.theme.createImageLink(e,i,l);this.link_watchers.push((function(t){var e=n(t);var s=a(t);i.setAttribute("href",e);i.setAttribute("title",s||e);l.setAttribute("src",e)}))}else if(["audio","video"].indexOf(r)>=0){e=this.theme.getBlockLinkHolder();i=this.theme.getBlockLink();i.setAttribute("target","_blank");var h=document.createElement(r);h.setAttribute("controls","controls");this.theme.createMediaLink(e,i,h);this.link_watchers.push((function(t){var e=n(t);var s=a(t);i.setAttribute("href",e);i.textContent=s||e;h.setAttribute("src",e)}))}else{i=e=this.theme.getBlockLink();e.setAttribute("target","_blank");e.textContent=t.rel;this.link_watchers.push((function(t){var i=n(t);var s=a(t);e.setAttribute("href",i);e.textContent=s||i}))}if(o&&i){if(o===true){i.setAttribute("download","")}else{this.link_watchers.push((function(t){i.setAttribute("download",o(t))}))}}if(t.class)i.classList.add(t.class);return e},refreshWatchedFieldValues:function(){if(!this.watched_values)return;var t={};var e=false;var i=this;if(this.watched){var s,r;for(var n in this.watched){if(!this.watched.hasOwnProperty(n))continue;r=i.jsoneditor.getEditor(this.watched[n]);s=r?r.getValue():null;if(i.watched_values[n]!==s)e=true;t[n]=s}}t.self=this.getValue();if(this.watched_values.self!==t.self)e=true;this.watched_values=t;return e},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header){if(this.header.children.length){for(var t=0;t<this.header.childNodes.length;t++){if(this.header.childNodes[t].nodeType===3){this.header.childNodes[t].nodeValue=this.getHeaderText();break}}}else{this.header.textContent=this.getHeaderText()}}},getHeaderText:function(t){if(this.header_text)return this.header_text;else if(t)return this.schema.title;else return this.getTitle()},onWatchedFieldChange:function(){var t;if(this.header_template){t=r(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:this.key*1,i1:this.key*1+1,title:this.getTitle()});var e=this.header_template(t);if(e!==this.header_text){this.header_text=e;this.updateHeaderText();this.notify()}}if(this.link_watchers.length){t=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++){this.link_watchers[i](t)}}},setValue:function(t){this.value=t},getValue:function(){if(!this.dependenciesFulfilled){return e}return this.value},refreshValue:function(){},getChildEditors:function(){return false},destroy:function(){var t=this;this.unregister(this);n(this.watched,(function(e,i){t.jsoneditor.unwatch(i,t.watch_listener)}));this.watched=null;this.watched_values=null;this.watch_listener=null;this.header_text=null;this.header_template=null;this.value=null;if(this.container&&this.container.parentNode)this.container.parentNode.removeChild(this.container);this.container=null;this.jsoneditor=null;this.schema=null;this.path=null;this.key=null;this.parent=null},getDefault:function(){if(typeof this.schema["default"]!=="undefined"){return this.schema["default"]}if(typeof this.schema["enum"]!=="undefined"){return this.schema["enum"][0]}var t=this.schema.type||this.schema.oneOf;if(t&&Array.isArray(t))t=t[0];if(t&&typeof t==="object")t=t.type;if(t&&Array.isArray(t))t=t[0];if(typeof t==="string"){if(t==="number")return 0;if(t==="boolean")return false;if(t==="integer")return 0;if(t==="string")return"";if(t==="object")return{};if(t==="array")return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=false},disable:function(){this.disabled=true},isEnabled:function(){return!this.disabled},isRequired:function(){if(typeof this.schema.required==="boolean")return this.schema.required;else if(this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required))return this.parent.schema.required.indexOf(this.key)>-1;else if(this.jsoneditor.options.required_by_default)return true;else return false},getDisplayText:function(t){var e=[];var i={};n(t,(function(t,e){if(e.title){i[e.title]=i[e.title]||0;i[e.title]++}if(e.description){i[e.description]=i[e.description]||0;i[e.description]++}if(e.format){i[e.format]=i[e.format]||0;i[e.format]++}if(e.type){i[e.type]=i[e.type]||0;i[e.type]++}}));n(t,(function(t,s){var r;if(typeof s==="string")r=s;else if(s.title&&i[s.title]<=1)r=s.title;else if(s.format&&i[s.format]<=1)r=s.format;else if(s.type&&i[s.type]<=1)r=s.type;else if(s.description&&i[s.description]<=1)r=s.descripton;else if(s.title)r=s.title;else if(s.format)r=s.format;else if(s.type)r=s.type;else if(s.description)r=s.description;else if(JSON.stringify(s).length<500)r=JSON.stringify(s);else r="type";e.push(r)}));var s={};n(e,(function(t,r){s[r]=s[r]||0;s[r]++;if(i[r]>1)e[t]=r+" "+s[r]}));return e},getValidId:function(t){t=t===e?"":t.toString();return t.replace(/\s+/g,"-")},getOption:function(t){try{throw"getOption is deprecated"}catch(t){window.console.error(t)}return this.options[t]},showValidationErrors:function(t){}});l.defaults.editors["null"]=l.AbstractEditor.extend({getValue:function(){if(!this.dependenciesFulfilled){return e}return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}});l.defaults.editors.string=l.AbstractEditor.extend({register:function(){this._super();if(!this.input)return;this.input.setAttribute("name",this.formname)},unregister:function(){this._super();if(!this.input)return;this.input.removeAttribute("name")},setValue:function(t,e,i){var s=this;if(this.template&&!i){return}if(t===null||typeof t==="undefined")t="";else if(typeof t==="object")t=JSON.stringify(t);else if(typeof t!=="string")t=""+t;if(t===this.serialized)return;var r=this.sanitize(t);if(this.input.value===r){return}this.input.value=r;if(this.sceditor_instance){this.sceditor_instance.val(r)}else if(this.SimpleMDE){this.SimpleMDE.value(r)}else if(this.ace_editor){this.ace_editor.setValue(r)}var n=i||this.getValue()!==t;this.refreshValue();if(e)this.is_dirty=false;else if(this.jsoneditor.options.show_errors==="change")this.is_dirty=true;if(this.adjust_height)this.adjust_height(this.input);this.onChange(n)},getNumColumns:function(){var t=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);var e;if(this.input_type==="textarea")e=6;else if(["text","email"].indexOf(this.input_type)>=0)e=4;else e=2;return Math.min(12,Math.max(t,e))},build:function(){var t=this,e;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);if(this.options.infoText)this.infoButton=this.theme.getInfoButton(this.options.infoText);this.format=this.schema.format;if(!this.format&&this.schema.media&&this.schema.media.type){this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")}if(!this.format&&this.options.default_format){this.format=this.options.default_format}if(this.options.format){this.format=this.options.format}if(this.format){if(this.format==="textarea"){this.input_type="textarea";this.input=this.theme.getTextareaInput()}else if(this.format==="range"){this.input_type="range";var i=this.schema.minimum||0;var s=this.schema.maximum||Math.max(100,i+1);var r=1;if(this.schema.multipleOf){if(i%this.schema.multipleOf)i=Math.ceil(i/this.schema.multipleOf)*this.schema.multipleOf;if(s%this.schema.multipleOf)s=Math.floor(s/this.schema.multipleOf)*this.schema.multipleOf;r=this.schema.multipleOf}this.input=this.theme.getRangeInput(i,s,r)}else if(["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0){this.input_type=this.format;this.source_code=true;this.input=this.theme.getTextareaInput()}else{this.input_type=this.format;this.input=this.theme.getFormInputField(this.input_type)}}else{this.input_type="text";this.input=this.theme.getFormInputField(this.input_type)}if(typeof this.schema.maxLength!=="undefined")this.input.setAttribute("maxlength",this.schema.maxLength);if(typeof this.schema.pattern!=="undefined")this.input.setAttribute("pattern",this.schema.pattern);else if(typeof this.schema.minLength!=="undefined")this.input.setAttribute("pattern",".{"+this.schema.minLength+",}");if(this.options.compact){this.container.classList.add("compact")}else{if(this.options.input_width)this.input.style.width=this.options.input_width}if(this.schema.readOnly||this.schema.readonly||this.schema.template){this.always_disabled=true;this.input.setAttribute("readonly","true")}if(this.schema.options&&this.schema.options.inputAttributes&&this.schema.options.inputAttributes.length>0){var n=this.input;this.schema.options.inputAttributes.forEach((function(t){n.setAttribute(t.name,t.value)}))}this.input.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();if(t.schema.template){this.value=t.value;return}var i=this.value;var s=t.sanitize(i);if(i!==s){this.value=s}t.is_dirty=true;t.refreshValue();t.onChange(true)}));if(this.options.input_height)this.input.style.height=this.options.input_height;if(this.options.expand_height){this.adjust_height=function(t){if(!t)return;var e,i=t.offsetHeight;if(t.offsetHeight<t.scrollHeight){e=0;while(t.offsetHeight<t.scrollHeight+3){if(e>100)break;e++;i++;t.style.height=i+"px"}}else{e=0;while(t.offsetHeight>=t.scrollHeight+3){if(e>100)break;e++;i--;t.style.height=i+"px"}t.style.height=i+1+"px"}};this.input.addEventListener("keyup",(function(e){t.adjust_height(this)}));this.input.addEventListener("change",(function(e){t.adjust_height(this)}));this.adjust_height()}if(this.format)this.input.setAttribute("data-schemaformat",this.format);this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton);if(this.format==="range"){var a=document.createElement("output");a.setAttribute("class","range-output");this.control.appendChild(a);a.value=this.schema.default;this.input.addEventListener("change",(function(){a.value=t.input.value}));this.input.addEventListener("input",(function(){a.value=t.input.value}))}this.container.appendChild(this.control);window.requestAnimationFrame((function(){if(t.input.parentNode)t.afterInputReady();if(t.adjust_height)t.adjust_height(t.input)}));if(this.schema.template){this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine);this.refreshValue()}else{this.refreshValue()}},enable:function(){if(!this.always_disabled){this.input.disabled=false;this._super()}},disable:function(t){if(t)this.always_disabled=true;this.input.disabled=true;this._super()},afterInputReady:function(){var t=this,e;if(this.source_code){if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor){e=r({},{plugins:t.input_type==="html"?"xhtml":"bbcode",emoticonsEnabled:false,width:"100%",height:300},l.plugins.sceditor,t.options.sceditor_options||{});window.jQuery(t.input).sceditor(e);t.sceditor_instance=window.jQuery(t.input).sceditor("instance");t.sceditor_instance.blur((function(){var e=window.jQuery("<div>"+t.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",e).remove();t.input.value=e.html();t.value=t.input.value;t.is_dirty=true;t.onChange(true)}))}else if(this.input_type==="markdown"&&window.SimpleMDE){e=r({},l.plugins.SimpleMDE,{element:this.input});this.SimpleMDE=new window.SimpleMDE(e);this.SimpleMDE.codemirror.on("change",(function(){t.value=t.SimpleMDE.value();t.is_dirty=true;t.onChange(true)}))}else if(window.ace){var i=this.input_type;if(i==="cpp"||i==="c++"||i==="c"){i="c_cpp"}this.ace_container=document.createElement("div");this.ace_container.style.width="100%";this.ace_container.style.position="relative";this.ace_container.style.height="400px";this.input.parentNode.insertBefore(this.ace_container,this.input);this.input.style.display="none";this.ace_editor=window.ace.edit(this.ace_container);this.ace_editor.setValue(this.getValue());if(l.plugins.ace.theme)this.ace_editor.setTheme("ace/theme/"+l.plugins.ace.theme);this.ace_editor.getSession().setMode("ace/mode/"+this.schema.format);this.ace_editor.on("change",(function(){var e=t.ace_editor.getValue();t.input.value=e;t.refreshValue();t.is_dirty=true;t.onChange(true)}))}}t.theme.afterInputReady(t.input)},refreshValue:function(){this.value=this.input.value;if(typeof this.value!=="string")this.value="";this.serialized=this.value},destroy:function(){if(this.sceditor_instance){this.sceditor_instance.destroy()}else if(this.SimpleMDE){this.SimpleMDE.destroy()}else if(this.ace_editor){this.ace_editor.destroy()}this.template=null;if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);if(this.label&&this.label.parentNode)this.label.parentNode.removeChild(this.label);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);this._super()},sanitize:function(t){return t},onWatchedFieldChange:function(){var t=this,e,i;if(this.template){e=this.getWatchedFieldValues();this.setValue(this.template(e),false,true)}this._super()},showValidationErrors:function(t){var e=this;if(this.jsoneditor.options.show_errors==="always"){}else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var i=[];n(t,(function(t,s){if(s.path===e.path){i.push(s.message)}}));if(i.length){this.theme.addInputError(this.input,i.join(". ")+".")}else{this.theme.removeInputError(this.input)}}});l.defaults.editors.hidden=l.AbstractEditor.extend({register:function(){this._super();if(!this.input)return;this.input.setAttribute("name",this.formname)},unregister:function(){this._super();if(!this.input)return;this.input.removeAttribute("name")},setValue:function(t,e,i){var s=this;if(this.template&&!i){return}if(t===null||typeof t==="undefined")t="";else if(typeof t==="object")t=JSON.stringify(t);else if(typeof t!=="string")t=""+t;if(t===this.serialized)return;var r=this.sanitize(t);if(this.input.value===r){return}this.input.value=r;var n=i||this.getValue()!==t;this.refreshValue();if(e)this.is_dirty=false;else if(this.jsoneditor.options.show_errors==="change")this.is_dirty=true;if(this.adjust_height)this.adjust_height(this.input);this.onChange(n)},getNumColumns:function(){return 2},enable:function(){this._super()},disable:function(){this._super()},refreshValue:function(){this.value=this.input.value;if(typeof this.value!=="string")this.value="";this.serialized=this.value},destroy:function(){this.template=null;if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);if(this.label&&this.label.parentNode)this.label.parentNode.removeChild(this.label);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);this._super()},sanitize:function(t){return t},onWatchedFieldChange:function(){var t=this,e,i;if(this.template){e=this.getWatchedFieldValues();this.setValue(this.template(e),false,true)}this._super()},build:function(){var t=this;this.format=this.schema.format;if(!this.format&&this.options.default_format){this.format=this.options.default_format}if(this.options.format){this.format=this.options.format}this.input_type="hidden";this.input=this.theme.getFormInputField(this.input_type);if(this.format)this.input.setAttribute("data-schemaformat",this.format);this.container.appendChild(this.input);if(this.schema.template){this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine);this.refreshValue()}else{this.refreshValue()}}});l.defaults.editors.number=l.defaults.editors.string.extend({build:function(){this._super();if(typeof this.schema.minimum!=="undefined"){var t=this.schema.minimum;if(typeof this.schema.exclusiveMinimum!=="undefined"){t+=1}this.input.setAttribute("min",t)}if(typeof this.schema.maximum!=="undefined"){var e=this.schema.maximum;if(typeof this.schema.exclusiveMaximum!=="undefined"){e-=1}this.input.setAttribute("max",e)}if(typeof this.schema.step!=="undefined"){var i=this.schema.step||1;this.input.setAttribute("step",i)}},sanitize:function(t){return(t+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){if(!this.dependenciesFulfilled){return e}return this.value===""?e:this.value*1}});l.defaults.editors.integer=l.defaults.editors.number.extend({sanitize:function(t){t=t+"";return t.replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}});l.defaults.editors.rating=l.defaults.editors.integer.extend({build:function(){var t=this,e;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);var i="json-editor-style-rating";var s=document.getElementById(i);if(!s){var r=document.createElement("style");r.id=i;r.type="text/css";r.innerHTML="      .rating-container {"+"        display: inline-block;"+"        clear: both;"+"      }"+"      "+"      .rating {"+"        float:left;"+"      }"+"      "+"      /* :not(:checked) is a filter, so that browsers that don’t support :checked don’t"+"         follow these rules. Every browser that supports :checked also supports :not(), so"+"         it doesn’t make the test unnecessarily selective */"+"      .rating:not(:checked) > input {"+"        position:absolute;"+"        top:-9999px;"+"        clip:rect(0,0,0,0);"+"      }"+"      "+"      .rating:not(:checked) > label {"+"        float:right;"+"        width:1em;"+"        padding:0 .1em;"+"        overflow:hidden;"+"        white-space:nowrap;"+"        cursor:pointer;"+"        color:#ddd;"+"      }"+"      "+"      .rating:not(:checked) > label:before {"+"        content: '★ ';"+"      }"+"      "+"      .rating > input:checked ~ label {"+"        color: #FFB200;"+"      }"+"      "+"      .rating:not([readOnly]):not(:checked) > label:hover,"+"      .rating:not([readOnly]):not(:checked) > label:hover ~ label {"+"        color: #FFDA00;"+"      }"+"      "+"      .rating:not([readOnly]) > input:checked + label:hover,"+"      .rating:not([readOnly]) > input:checked + label:hover ~ label,"+"      .rating:not([readOnly]) > input:checked ~ label:hover,"+"      .rating:not([readOnly]) > input:checked ~ label:hover ~ label,"+"      .rating:not([readOnly]) > label:hover ~ input:checked ~ label {"+"        color: #FF8C0D;"+"      }"+"      "+"      .rating:not([readOnly])  > label:active {"+"        position:relative;"+"        top:2px;"+"        left:2px;"+"      }";document.getElementsByTagName("head")[0].appendChild(r)}this.input=this.theme.getFormInputField("hidden");this.container.appendChild(this.input);var a=document.createElement("div");a.classList.add("rating-container");var o=document.createElement("div");o.setAttribute("name",this.formname);o.classList.add("rating");a.appendChild(o);if(this.options.compact)this.container.setAttribute("class",this.container.getAttribute("class")+" compact");var l=this.schema.maximum?this.schema.maximum:5;if(this.schema.exclusiveMaximum)l--;this.inputs=[];for(e=l;e>0;e--){var h=this.formname+e;var d=this.theme.getFormInputField("radio");d.setAttribute("id",h);d.setAttribute("value",e);d.setAttribute("name",this.formname);o.appendChild(d);this.inputs.push(d);var u=document.createElement("label");u.setAttribute("for",h);u.appendChild(document.createTextNode(e+(e==1?" star":" stars")));o.appendChild(u)}if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;n(this.inputs,(function(t,e){o.setAttribute("readOnly","readOnly");e.disabled=true}))}a.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();t.input.value=e.srcElement.value;t.is_dirty=true;t.refreshValue();t.watch_listener();t.jsoneditor.notifyWatchers(t.path);if(t.parent)t.parent.onChildEditorChange(t);else t.jsoneditor.onChange()}));this.control=this.theme.getFormControl(this.label,a,this.description);this.container.appendChild(this.control);this.refreshValue()},setValue:function(t){var e=this.sanitize(t);if(this.value===e){return}var i=this;n(this.inputs,(function(t,s){if(s.value===e){s.checked=true;i.value=e;i.input.value=i.value;i.watch_listener();i.jsoneditor.notifyWatchers(i.path);return false}}))}});l.defaults.editors.object=l.AbstractEditor.extend({getDefault:function(){return r({},this.schema["default"]||{})},getChildEditors:function(){return this.editors},register:function(){this._super();if(this.editors){for(var t in this.editors){if(!this.editors.hasOwnProperty(t))continue;this.editors[t].register()}}},unregister:function(){this._super();if(this.editors){for(var t in this.editors){if(!this.editors.hasOwnProperty(t))continue;this.editors[t].unregister()}}},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(!this.always_disabled){if(this.editjson_button)this.editjson_button.disabled=false;if(this.addproperty_button)this.addproperty_button.disabled=false;this._super();if(this.editors){for(var t in this.editors){if(!this.editors.hasOwnProperty(t))continue;this.editors[t].enable()}}}},disable:function(t){if(t)this.always_disabled=true;if(this.editjson_button)this.editjson_button.disabled=true;if(this.addproperty_button)this.addproperty_button.disabled=true;this.hideEditJSON();this._super();if(this.editors){for(var e in this.editors){if(!this.editors.hasOwnProperty(e))continue;this.editors[e].disable(t)}}},layoutEditors:function(){var t=this,e,i;if(!this.row_container)return;this.property_order=Object.keys(this.editors);this.property_order=this.property_order.sort((function(e,i){var s=t.editors[e].schema.propertyOrder;var r=t.editors[i].schema.propertyOrder;if(typeof s!=="number")s=1e3;if(typeof r!=="number")r=1e3;return s-r}));var s=document.createElement("div");var r=this.format==="categories";if(this.format==="grid"){var o=[];n(this.property_order,(function(e,i){var s=t.editors[i];if(s.property_removed)return;var r=false;var n=s.options.hidden?0:s.options.grid_columns||s.getNumColumns();var a=s.options.hidden?0:s.container.offsetHeight;for(var l=0;l<o.length;l++){if(o[l].width+n<=12){if(!a||o[l].minh*.5<a&&o[l].maxh*2>a){r=l}}}if(r===false){o.push({width:0,minh:999999,maxh:0,editors:[]});r=o.length-1}o[r].editors.push({key:i,width:n,height:a});o[r].width+=n;o[r].minh=Math.min(o[r].minh,a);o[r].maxh=Math.max(o[r].maxh,a)}));for(e=0;e<o.length;e++){if(o[e].width<12){var l=false;var h=0;for(i=0;i<o[e].editors.length;i++){if(l===false)l=i;else if(o[e].editors[i].width>o[e].editors[l].width)l=i;o[e].editors[i].width*=12/o[e].width;o[e].editors[i].width=Math.floor(o[e].editors[i].width);h+=o[e].editors[i].width}if(h<12)o[e].editors[l].width+=12-h;o[e].width=12}}if(this.layout===JSON.stringify(o))return false;this.layout=JSON.stringify(o);for(e=0;e<o.length;e++){var d=this.theme.getGridRow();s.appendChild(d);for(i=0;i<o[e].editors.length;i++){var u=o[e].editors[i].key;var c=this.editors[u];if(c.options.hidden)c.container.style.display="none";else this.theme.setGridColumnSize(c.container,o[e].editors[i].width);d.appendChild(c.container)}}}else if(r){var p=document.createElement("div");var f=this.theme.getTopTabHolder(this.schema.title);var m=this.theme.getTopTabContentHolder(f);n(this.property_order,(function(e,i){var s=t.editors[i];if(s.property_removed)return;var r=t.theme.getTabContent();var n=s.schema&&(s.schema.type==="object"||s.schema.type==="array");r.isObjOrArray=n;var a=t.theme.getGridRow();if(!s.tab){if(typeof t.basicPane==="undefined"){t.addRow(s,f,r)}else{t.addRow(s,f,t.basicPane)}}r.id=t.getValidId(s.tab_text.textContent);if(!n){p.appendChild(a);if(m.childElementCount>0){if(m.firstChild.isObjOrArray){r.appendChild(p);m.insertBefore(r,m.firstChild);t.theme.insertBasicTopTab(s.tab,f);s.basicPane=r}else{}}else{r.appendChild(p);m.appendChild(r);t.theme.addTopTab(f,s.tab);s.basicPane=r}}else{r.appendChild(a);m.appendChild(r);t.theme.addTopTab(f,s.tab)}if(s.options.hidden)s.container.style.display="none";else t.theme.setGridColumnSize(s.container,12);a.appendChild(s.container);s.container=r}));while(this.tabPanesContainer.firstChild){this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild)}var g=this.tabs_holder.parentNode;g.removeChild(g.firstChild);g.appendChild(f);this.tabPanesContainer=m;this.tabs_holder=f;var v=this.theme.getFirstTab(this.tabs_holder);if(v){a(v,"click")}return}else{n(this.property_order,(function(e,i){var r=t.editors[i];if(r.property_removed)return;var n=t.theme.getGridRow();s.appendChild(n);if(r.options.hidden)r.container.style.display="none";else t.theme.setGridColumnSize(r.container,12);n.appendChild(r.container)}))}while(this.row_container.firstChild){this.row_container.removeChild(this.row_container.firstChild)}this.row_container.appendChild(s)},getPropertySchema:function(t){var e=this.schema.properties[t]||{};e=r({},e);var i=this.schema.properties[t]?true:false;if(this.schema.patternProperties){for(var s in this.schema.patternProperties){if(!this.schema.patternProperties.hasOwnProperty(s))continue;var n=new RegExp(s);if(n.test(t)){e.allOf=e.allOf||[];e.allOf.push(this.schema.patternProperties[s]);i=true}}}if(!i&&this.schema.additionalProperties&&typeof this.schema.additionalProperties==="object"){e=r({},this.schema.additionalProperties)}return e},preBuild:function(){this._super();this.editors={};this.cached_editors={};var t=this;this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal";this.schema.properties=this.schema.properties||{};this.minwidth=0;this.maxwidth=0;if(this.options.table_row){n(this.schema.properties,(function(e,i){var s=t.jsoneditor.getEditorClass(i);t.editors[e]=t.jsoneditor.createEditor(s,{jsoneditor:t.jsoneditor,schema:i,path:t.path+"."+e,parent:t,compact:true,required:true});t.editors[e].preBuild();var r=t.editors[e].options.hidden?0:t.editors[e].options.grid_columns||t.editors[e].getNumColumns();t.minwidth+=r;t.maxwidth+=r}));this.no_link_holder=true}else if(this.options.table){throw"Not supported yet"}else{if(!this.schema.defaultProperties){if(this.jsoneditor.options.display_required_only||this.options.display_required_only){this.schema.defaultProperties=[];n(this.schema.properties,(function(e,i){if(t.isRequired({key:e,schema:i})){t.schema.defaultProperties.push(e)}}))}else{t.schema.defaultProperties=Object.keys(t.schema.properties)}}t.maxwidth+=1;n(this.schema.defaultProperties,(function(e,i){t.addObjectProperty(i,true);if(t.editors[i]){t.minwidth=Math.max(t.minwidth,t.editors[i].options.grid_columns||t.editors[i].getNumColumns());t.maxwidth+=t.editors[i].options.grid_columns||t.editors[i].getNumColumns()}}))}this.property_order=Object.keys(this.editors);this.property_order=this.property_order.sort((function(e,i){var s=t.editors[e].schema.propertyOrder;var r=t.editors[i].schema.propertyOrder;if(typeof s!=="number")s=1e3;if(typeof r!=="number")r=1e3;return s-r}))},addTab:function(t){var e=this;var i=e.rows[t].schema&&(e.rows[t].schema.type==="object"||e.rows[t].schema.type==="array");if(e.tabs_holder){e.rows[t].tab_text=document.createElement("span");if(!i){e.rows[t].tab_text.textContent=typeof e.schema.basicCategoryTitle==="undefined"?"Basic":e.schema.basicCategoryTitle}else{e.rows[t].tab_text.textContent=e.rows[t].getHeaderText()}e.rows[t].tab=e.theme.getTopTab(e.rows[t].tab_text,this.getValidId(e.rows[t].tab_text.textContent));e.rows[t].tab.addEventListener("click",(function(i){e.active_tab=e.rows[t].tab;e.refreshTabs();i.preventDefault();i.stopPropagation()}))}},addRow:function(t,e,i){var s=this;var r=this.rows.length;var n=t.schema.type==="object"||t.schema.type==="array";s.rows[r]=t;s.rows[r].container=i;if(!n){if(typeof s.basicTab==="undefined"){s.addTab(r);s.basicTab=r;s.basicPane=i;s.theme.addTopTab(e,s.rows[r].tab)}else{s.rows[r].tab=s.rows[s.basicTab].tab;s.rows[r].tab_text=s.rows[s.basicTab].tab_text;s.rows[r].container=s.rows[s.basicTab].container}}else{s.addTab(r);s.theme.addTopTab(e,s.rows[r].tab)}},refreshTabs:function(t){var e=this;var i=typeof e.basicTab!=="undefined";var s=false;n(this.rows,(function(r,n){if(!n.tab||!n.container||!n.container.parentNode)return;if(i&&n.tab==e.rows[e.basicTab].tab&&s)return;if(t){n.tab_text.textContent=n.getHeaderText()}else{if(i&&n.tab==e.rows[e.basicTab].tab)s=true;if(n.tab===e.active_tab){e.theme.markTabActive(n)}else{e.theme.markTabInactive(n)}}}))},build:function(){var t=this;var e=this.format==="categories";this.rows=[];this.active_tab=null;if(this.options.table_row){this.editor_holder=this.container;n(this.editors,(function(e,i){var s=t.theme.getTableCell();t.editor_holder.appendChild(s);i.setContainer(s);i.build();i.postBuild();if(t.editors[e].options.hidden){s.style.display="none"}if(t.editors[e].options.input_width){s.style.width=t.editors[e].options.input_width}}))}else if(this.options.table){throw"Not supported yet"}else{this.header=document.createElement("span");this.header.textContent=this.getTitle();this.title=this.theme.getHeader(this.header);this.container.appendChild(this.title);this.container.style.position="relative";this.editjson_holder=this.theme.getModal();this.editjson_textarea=this.theme.getTextareaInput();this.editjson_textarea.style.height="170px";this.editjson_textarea.style.width="300px";this.editjson_textarea.style.display="block";this.editjson_save=this.getButton("Save","save","Save");this.editjson_save.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();t.saveJSON()}));this.editjson_cancel=this.getButton("Cancel","cancel","Cancel");this.editjson_cancel.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();t.hideEditJSON()}));this.editjson_holder.appendChild(this.editjson_textarea);this.editjson_holder.appendChild(this.editjson_save);this.editjson_holder.appendChild(this.editjson_cancel);this.addproperty_holder=this.theme.getModal();this.addproperty_list=document.createElement("div");this.addproperty_list.style.width="295px";this.addproperty_list.style.maxHeight="160px";this.addproperty_list.style.padding="5px 0";this.addproperty_list.style.overflowY="auto";this.addproperty_list.style.overflowX="hidden";this.addproperty_list.style.paddingLeft="5px";this.addproperty_list.setAttribute("class","property-selector");this.addproperty_add=this.getButton("add","add","add");this.addproperty_input=this.theme.getFormInputField("text");this.addproperty_input.setAttribute("placeholder","Property name...");this.addproperty_input.style.width="220px";this.addproperty_input.style.marginBottom="0";this.addproperty_input.style.display="inline-block";this.addproperty_add.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(t.addproperty_input.value){if(t.editors[t.addproperty_input.value]){window.alert("there is already a property with that name");return}t.addObjectProperty(t.addproperty_input.value);if(t.editors[t.addproperty_input.value]){t.editors[t.addproperty_input.value].disable()}t.onChange(true)}}));this.addproperty_holder.appendChild(this.addproperty_list);this.addproperty_holder.appendChild(this.addproperty_input);this.addproperty_holder.appendChild(this.addproperty_add);var i=document.createElement("div");i.style.clear="both";this.addproperty_holder.appendChild(i);if(this.schema.description){this.description=this.theme.getDescription(this.schema.description);this.container.appendChild(this.description)}this.error_holder=document.createElement("div");this.container.appendChild(this.error_holder);this.editor_holder=this.theme.getIndentedPanel();this.container.appendChild(this.editor_holder);this.row_container=this.theme.getGridContainer();if(e){this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.schema.title));this.tabPanesContainer=this.theme.getTopTabContentHolder(this.tabs_holder);this.editor_holder.appendChild(this.tabs_holder)}else{this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.schema.title));this.tabPanesContainer=this.theme.getTabContentHolder(this.tabs_holder);this.editor_holder.appendChild(this.row_container)}n(this.editors,(function(i,s){var r=t.theme.getTabContent();var n=t.theme.getGridColumn();var a=s.schema&&(s.schema.type==="object"||s.schema.type==="array")?true:false;r.isObjOrArray=a;if(e){if(a){var o=t.theme.getGridContainer();o.appendChild(n);r.appendChild(o);t.tabPanesContainer.appendChild(r);t.row_container=o}else{if(typeof t.row_container_basic==="undefined"){t.row_container_basic=t.theme.getGridContainer();r.appendChild(t.row_container_basic);if(t.tabPanesContainer.childElementCount==0){t.tabPanesContainer.appendChild(r)}else{t.tabPanesContainer.insertBefore(r,t.tabPanesContainer.childNodes[1])}}t.row_container_basic.appendChild(n)}t.addRow(s,t.tabs_holder,r);r.id=t.getValidId(s.schema.title)}else{t.row_container.appendChild(n)}s.setContainer(n);s.build();s.postBuild()}));if(this.rows[0]){a(this.rows[0].tab,"click")}this.title_controls=this.theme.getHeaderButtonHolder();this.editjson_controls=this.theme.getHeaderButtonHolder();this.addproperty_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);this.title.appendChild(this.editjson_controls);this.title.appendChild(this.addproperty_controls);this.collapsed=false;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls.appendChild(this.toggle_button);this.toggle_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(t.collapsed){t.editor_holder.style.display="";t.collapsed=false;t.setButtonText(t.toggle_button,"","collapse",t.translate("button_collapse"))}else{t.editor_holder.style.display="none";t.collapsed=true;t.setButtonText(t.toggle_button,"","expand",t.translate("button_expand"))}}));if(this.options.collapsed){a(this.toggle_button,"click")}if(this.schema.options&&typeof this.schema.options.disable_collapse!=="undefined"){if(this.schema.options.disable_collapse)this.toggle_button.style.display="none"}else if(this.jsoneditor.options.disable_collapse){this.toggle_button.style.display="none"}this.editjson_button=this.getButton("JSON","edit","Edit JSON");this.editjson_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();t.toggleEditJSON()}));this.editjson_controls.appendChild(this.editjson_button);this.editjson_controls.appendChild(this.editjson_holder);if(this.schema.options&&typeof this.schema.options.disable_edit_json!=="undefined"){if(this.schema.options.disable_edit_json)this.editjson_button.style.display="none"}else if(this.jsoneditor.options.disable_edit_json){this.editjson_button.style.display="none"}this.addproperty_button=this.getButton("Properties","edit","Object Properties");this.addproperty_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();t.toggleAddProperty()}));this.addproperty_controls.appendChild(this.addproperty_button);this.addproperty_controls.appendChild(this.addproperty_holder);this.refreshAddProperties()}if(this.options.table_row){this.editor_holder=this.container;n(this.property_order,(function(e,i){t.editor_holder.appendChild(t.editors[i].container)}))}else{this.layoutEditors();this.layoutEditors()}},showEditJSON:function(){if(!this.editjson_holder)return;this.hideAddProperty();this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px";this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px";this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2);this.disable();this.editjson_holder.style.display="";this.editjson_button.disabled=false;this.editing_json=true},hideEditJSON:function(){if(!this.editjson_holder)return;if(!this.editing_json)return;this.editjson_holder.style.display="none";this.enable();this.editing_json=false},saveJSON:function(){if(!this.editjson_holder)return;try{var t=JSON.parse(this.editjson_textarea.value);this.setValue(t);this.hideEditJSON()}catch(t){window.alert("invalid JSON");throw t}},toggleEditJSON:function(){if(this.editing_json)this.hideEditJSON();else this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(t,e,i){var s;if(this.schema.properties[t])s=this.schema.properties[t].propertyOrder;if(typeof s!=="number")s=1e3;e.propertyOrder=s;for(var r=0;r<i.childNodes.length;r++){var n=i.childNodes[r];if(e.propertyOrder<n.propertyOrder){this.addproperty_list.insertBefore(e,n);e=null;break}}if(e){this.addproperty_list.appendChild(e)}},addPropertyCheckbox:function(t){var e=this;var i,s,r,n;i=e.theme.getCheckbox();i.style.width="auto";if(this.schema.properties[t]&&this.schema.properties[t].title)r=this.schema.properties[t].title;else r=t;s=e.theme.getCheckboxLabel(r);n=e.theme.getFormControl(s,i);n.style.paddingBottom=n.style.marginBottom=n.style.paddingTop=n.style.marginTop=0;n.style.height="auto";this.insertPropertyControlUsingPropertyOrder(t,n,this.addproperty_list);i.checked=t in this.editors;i.addEventListener("change",(function(){if(i.checked){e.addObjectProperty(t)}else{e.removeObjectProperty(t)}e.onChange(true)}));e.addproperty_checkboxes[t]=i;return i},showAddProperty:function(){if(!this.addproperty_holder)return;this.hideEditJSON();this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px";this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px";this.disable();this.adding_property=true;this.addproperty_button.disabled=false;this.addproperty_holder.style.display="";this.refreshAddProperties()},hideAddProperty:function(){if(!this.addproperty_holder)return;if(!this.adding_property)return;this.addproperty_holder.style.display="none";this.enable();this.adding_property=false},toggleAddProperty:function(){if(this.adding_property)this.hideAddProperty();else this.showAddProperty()},removeObjectProperty:function(t){if(this.editors[t]){this.editors[t].unregister();delete this.editors[t];this.refreshValue();this.layoutEditors()}},addObjectProperty:function(t,e){var i=this;if(this.editors[t])return;if(this.cached_editors[t]){this.editors[t]=this.cached_editors[t];if(e)return;this.editors[t].register()}else{if(!this.canHaveAdditionalProperties()&&(!this.schema.properties||!this.schema.properties[t])){return}var s=i.getPropertySchema(t);if(typeof s.propertyOrder!=="number"){s.propertyOrder=Object.keys(i.editors).length+1e3}var r=i.jsoneditor.getEditorClass(s);i.editors[t]=i.jsoneditor.createEditor(r,{jsoneditor:i.jsoneditor,schema:s,path:i.path+"."+t,parent:i});i.editors[t].preBuild();if(!e){var n=i.theme.getChildEditorHolder();i.editor_holder.appendChild(n);i.editors[t].setContainer(n);i.editors[t].build();i.editors[t].postBuild()}i.cached_editors[t]=i.editors[t]}if(!e){i.refreshValue();i.layoutEditors()}},onChildEditorChange:function(t){this.refreshValue();this._super(t)},canHaveAdditionalProperties:function(){if(typeof this.schema.additionalProperties==="boolean"){return this.schema.additionalProperties}return!this.jsoneditor.options.no_additional_properties},destroy:function(){n(this.cached_editors,(function(t,e){e.destroy()}));if(this.editor_holder)this.editor_holder.innerHTML="";if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.error_holder&&this.error_holder.parentNode)this.error_holder.parentNode.removeChild(this.error_holder);this.editors=null;this.cached_editors=null;if(this.editor_holder&&this.editor_holder.parentNode)this.editor_holder.parentNode.removeChild(this.editor_holder);this.editor_holder=null;this._super()},getValue:function(){if(!this.dependenciesFulfilled){return e}var t=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties){for(var i in t){if(t.hasOwnProperty(i)){if(typeof t[i]==="undefined"||t[i]===""||t[i]===Object(t[i])&&Object.keys(t[i]).length==0&&t[i].constructor==Object){delete t[i]}}}}return t},refreshValue:function(){this.value={};var t=this;for(var e in this.editors){if(!this.editors.hasOwnProperty(e))continue;this.value[e]=this.editors[e].getValue()}if(this.adding_property)this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||this.options.disable_properties!==false&&this.jsoneditor.options.disable_properties){this.addproperty_controls.style.display="none";return}var t=false,e=false,i=0,s,r=false;for(s in this.editors){if(!this.editors.hasOwnProperty(s))continue;i++}t=this.canHaveAdditionalProperties()&&!(typeof this.schema.maxProperties!=="undefined"&&i>=this.schema.maxProperties);if(this.addproperty_checkboxes){this.addproperty_list.innerHTML=""}this.addproperty_checkboxes={};for(s in this.cached_editors){if(!this.cached_editors.hasOwnProperty(s))continue;this.addPropertyCheckbox(s);if(this.isRequired(this.cached_editors[s])&&s in this.editors){this.addproperty_checkboxes[s].disabled=true}if(typeof this.schema.minProperties!=="undefined"&&i<=this.schema.minProperties){this.addproperty_checkboxes[s].disabled=this.addproperty_checkboxes[s].checked;if(!this.addproperty_checkboxes[s].checked)r=true}else if(!(s in this.editors)){if(!t&&!this.schema.properties.hasOwnProperty(s)){this.addproperty_checkboxes[s].disabled=true}else{this.addproperty_checkboxes[s].disabled=false;r=true}}else{r=true;e=true}}if(this.canHaveAdditionalProperties()){r=true}for(s in this.schema.properties){if(!this.schema.properties.hasOwnProperty(s))continue;if(this.cached_editors[s])continue;r=true;this.addPropertyCheckbox(s)}if(!r){this.hideAddProperty();this.addproperty_controls.style.display="none"}else if(!this.canHaveAdditionalProperties()){this.addproperty_add.style.display="none";this.addproperty_input.style.display="none"}else if(!t){this.addproperty_add.disabled=true}else{this.addproperty_add.disabled=false}},isRequired:function(t){if(typeof t.schema.required==="boolean")return t.schema.required;else if(Array.isArray(this.schema.required))return this.schema.required.indexOf(t.key)>-1;else if(this.jsoneditor.options.required_by_default)return true;else return false},setValue:function(t,e){var i=this;t=t||{};if(typeof t!=="object"||Array.isArray(t))t={};n(this.cached_editors,(function(s,r){if(typeof t[s]!=="undefined"){i.addObjectProperty(s);r.setValue(t[s],e)}else if(!e&&!i.isRequired(r)){i.removeObjectProperty(s)}else{r.setValue(r.getDefault(),e)}}));n(t,(function(t,s){if(!i.cached_editors[t]){i.addObjectProperty(t);if(i.editors[t])i.editors[t].setValue(s,e)}}));this.refreshValue();this.layoutEditors();this.onChange()},showValidationErrors:function(t){var e=this;var i=[];var s=[];n(t,(function(t,r){if(r.path===e.path){i.push(r)}else{s.push(r)}}));if(this.error_holder){if(i.length){var r=[];this.error_holder.innerHTML="";this.error_holder.style.display="";n(i,(function(t,i){e.error_holder.appendChild(e.theme.getErrorMessage(i.message))}))}else{this.error_holder.style.display="none"}}if(this.options.table_row){if(i.length){this.theme.addTableRowError(this.container)}else{this.theme.removeTableRowError(this.container)}}n(this.editors,(function(t,e){e.showValidationErrors(s)}))}});l.defaults.editors.array=l.AbstractEditor.extend({askConfirmation:function(){if(this.jsoneditor.options.prompt_before_delete===true){if(confirm("Are you sure you want to remove this node?")===false){return false}}return true},getDefault:function(){return this.schema["default"]||[]},register:function(){this._super();if(this.rows){for(var t=0;t<this.rows.length;t++){this.rows[t].register()}}},unregister:function(){this._super();if(this.rows){for(var t=0;t<this.rows.length;t++){this.rows[t].unregister()}}},getNumColumns:function(){var t=this.getItemInfo(0);if(this.tabs_holder&&this.schema.format!=="tabs-top"){return Math.max(Math.min(12,t.width+2),4)}else{return t.width}},enable:function(){if(!this.always_disabled){if(this.add_row_button)this.add_row_button.disabled=false;if(this.remove_all_rows_button)this.remove_all_rows_button.disabled=false;if(this.delete_last_row_button)this.delete_last_row_button.disabled=false;if(this.rows){for(var t=0;t<this.rows.length;t++){this.rows[t].enable();if(this.rows[t].moveup_button)this.rows[t].moveup_button.disabled=false;if(this.rows[t].movedown_button)this.rows[t].movedown_button.disabled=false;if(this.rows[t].delete_button)this.rows[t].delete_button.disabled=false}}this._super()}},disable:function(t){if(t)this.always_disabled=true;if(this.add_row_button)this.add_row_button.disabled=true;if(this.remove_all_rows_button)this.remove_all_rows_button.disabled=true;if(this.delete_last_row_button)this.delete_last_row_button.disabled=true;if(this.rows){for(var e=0;e<this.rows.length;e++){this.rows[e].disable(t);if(this.rows[e].moveup_button)this.rows[e].moveup_button.disabled=true;if(this.rows[e].movedown_button)this.rows[e].movedown_button.disabled=true;if(this.rows[e].delete_button)this.rows[e].delete_button.disabled=true}}this._super()},preBuild:function(){this._super();this.rows=[];this.row_cache=[];this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete;this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows;this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row;this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder;this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add;this.show_copy_button=this.options.enable_array_copy||this.jsoneditor.options.enable_array_copy;this.array_controls_top=this.options.array_controls_top||this.jsoneditor.options.array_controls_top},build:function(){var t=this;if(!this.options.compact){this.header=document.createElement("span");this.header.textContent=this.getTitle();this.title=this.theme.getHeader(this.header);this.container.appendChild(this.title);this.title_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);if(this.schema.description){this.description=this.theme.getDescription(this.schema.description);this.container.appendChild(this.description)}this.error_holder=document.createElement("div");this.container.appendChild(this.error_holder);if(this.schema.format==="tabs-top"){this.controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.controls);this.tabs_holder=this.theme.getTopTabHolder(this.getValidId(this.getItemTitle()));this.container.appendChild(this.tabs_holder);this.row_holder=this.theme.getTopTabContentHolder(this.tabs_holder);this.active_tab=null}else if(this.schema.format==="tabs"){this.controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.controls);this.tabs_holder=this.theme.getTabHolder(this.getValidId(this.getItemTitle()));this.container.appendChild(this.tabs_holder);this.row_holder=this.theme.getTabContentHolder(this.tabs_holder);this.active_tab=null}else{this.panel=this.theme.getIndentedPanel();this.container.appendChild(this.panel);this.row_holder=document.createElement("div");this.panel.appendChild(this.row_holder);this.controls=this.theme.getButtonHolder();if(this.array_controls_top){this.title.appendChild(this.controls)}else{this.panel.appendChild(this.controls)}}}else{this.panel=this.theme.getIndentedPanel();this.container.appendChild(this.panel);this.title_controls=this.theme.getHeaderButtonHolder();this.panel.appendChild(this.title_controls);this.controls=this.theme.getButtonHolder();this.panel.appendChild(this.controls);this.row_holder=document.createElement("div");this.panel.appendChild(this.row_holder)}this.addControls()},onChildEditorChange:function(t){this.refreshValue();this.refreshTabs(true);this._super(t)},getItemTitle:function(){if(!this.item_title){if(this.schema.items&&!Array.isArray(this.schema.items)){var t=this.jsoneditor.expandRefs(this.schema.items);this.item_title=t.title||"item"}else{this.item_title="item"}}return this.item_title},getItemSchema:function(t){if(Array.isArray(this.schema.items)){if(t>=this.schema.items.length){if(this.schema.additionalItems===true){return{}}else if(this.schema.additionalItems){return r({},this.schema.additionalItems)}}else{return r({},this.schema.items[t])}}else if(this.schema.items){return r({},this.schema.items)}else{return{}}},getItemInfo:function(t){var e=this.getItemSchema(t);this.item_info=this.item_info||{};var i=JSON.stringify(e);if(typeof this.item_info[i]!=="undefined")return this.item_info[i];e=this.jsoneditor.expandRefs(e);this.item_info[i]={title:e.title||"item",default:e["default"],width:12,child_editors:e.properties||e.items};return this.item_info[i]},getElementEditor:function(t){var e=this.getItemInfo(t);var i=this.getItemSchema(t);i=this.jsoneditor.expandRefs(i);i.title=e.title+" "+(t+1);var s=this.jsoneditor.getEditorClass(i);var r;if(this.tabs_holder){if(this.schema.format==="tabs-top"){r=this.theme.getTopTabContent()}else{r=this.theme.getTabContent()}r.id=this.path+"."+t}else if(e.child_editors){r=this.theme.getChildEditorHolder()}else{r=this.theme.getIndentedPanel()}this.row_holder.appendChild(r);var n=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:i,container:r,path:this.path+"."+t,parent:this,required:true});n.preBuild();n.build();n.postBuild();if(!n.title_controls){n.array_controls=this.theme.getButtonHolder();r.appendChild(n.array_controls)}return n},destroy:function(){this.empty(true);if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);if(this.row_holder&&this.row_holder.parentNode)this.row_holder.parentNode.removeChild(this.row_holder);if(this.controls&&this.controls.parentNode)this.controls.parentNode.removeChild(this.controls);if(this.panel&&this.panel.parentNode)this.panel.parentNode.removeChild(this.panel);this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null;this._super()},empty:function(t){if(!this.rows)return;var e=this;n(this.rows,(function(i,s){if(t){if(s.tab&&s.tab.parentNode)s.tab.parentNode.removeChild(s.tab);e.destroyRow(s,true);e.row_cache[i]=null}e.rows[i]=null}));e.rows=[];if(t)e.row_cache=[]},destroyRow:function(t,e){var i=t.container;if(e){t.destroy();if(i.parentNode)i.parentNode.removeChild(i);if(t.tab&&t.tab.parentNode)t.tab.parentNode.removeChild(t.tab)}else{if(t.tab)t.tab.style.display="none";i.style.display="none";t.unregister()}},getMax:function(){if(Array.isArray(this.schema.items)&&this.schema.additionalItems===false){return Math.min(this.schema.items.length,this.schema.maxItems||Infinity)}else{return this.schema.maxItems||Infinity}},refreshTabs:function(t){var e=this;n(this.rows,(function(i,s){if(!s.tab)return;if(t){s.tab_text.textContent=s.getHeaderText()}else{if(s.tab===e.active_tab){e.theme.markTabActive(s)}else{e.theme.markTabInactive(s)}}}))},setValue:function(t,e){t=t||[];if(!Array.isArray(t))t=[t];var i=JSON.stringify(t);if(i===this.serialized)return;if(this.schema.minItems){while(t.length<this.schema.minItems){t.push(this.getItemInfo(t.length)["default"])}}if(this.getMax()&&t.length>this.getMax()){t=t.slice(0,this.getMax())}var s=this;n(t,(function(t,i){if(s.rows[t]){s.rows[t].setValue(i,e)}else if(s.row_cache[t]){s.rows[t]=s.row_cache[t];s.rows[t].setValue(i,e);s.rows[t].container.style.display="";if(s.rows[t].tab)s.rows[t].tab.style.display="";s.rows[t].register()}else{s.addRow(i,e)}}));for(var r=t.length;r<s.rows.length;r++){s.destroyRow(s.rows[r]);s.rows[r]=null}s.rows=s.rows.slice(0,t.length);var a=null;n(s.rows,(function(t,e){if(e.tab===s.active_tab){a=e.tab;return false}}));if(!a&&s.rows.length)a=s.rows[0].tab;s.active_tab=a;s.refreshValue(e);s.refreshTabs(true);s.refreshTabs();s.onChange()},refreshValue:function(t){var e=this;var i=this.value?this.value.length:0;this.value=[];n(this.rows,(function(t,i){e.value[t]=i.getValue()}));if(i!==this.value.length||t){var s=this.schema.minItems&&this.schema.minItems>=this.rows.length;n(this.rows,(function(t,i){if(i.movedown_button){if(t===e.rows.length-1){i.movedown_button.style.display="none"}else{i.movedown_button.style.display=""}}if(i.delete_button){if(s){i.delete_button.style.display="none"}else{i.delete_button.style.display=""}}e.value[t]=i.getValue()}));var r=false;if(!this.value.length){this.delete_last_row_button.style.display="none";this.remove_all_rows_button.style.display="none"}else if(this.value.length===1){this.remove_all_rows_button.style.display="none";if(s||this.hide_delete_last_row_buttons){this.delete_last_row_button.style.display="none"}else{this.delete_last_row_button.style.display="";r=true}}else{if(s||this.hide_delete_last_row_buttons){this.delete_last_row_button.style.display="none"}else{this.delete_last_row_button.style.display="";r=true}if(s||this.hide_delete_all_rows_buttons){this.remove_all_rows_button.style.display="none"}else{this.remove_all_rows_button.style.display="";r=true}}if(this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button){this.add_row_button.style.display="none"}else{this.add_row_button.style.display="";r=true}if(!this.collapsed&&r){this.controls.style.display="inline-block"}else{this.controls.style.display="none"}}},addRow:function(t,e){var i=this;var s=this.rows.length;i.rows[s]=this.getElementEditor(s);i.row_cache[s]=i.rows[s];if(i.tabs_holder){i.rows[s].tab_text=document.createElement("span");i.rows[s].tab_text.textContent=i.rows[s].getHeaderText();if(i.schema.format==="tabs-top"){i.rows[s].tab=i.theme.getTopTab(i.rows[s].tab_text,this.getValidId(i.rows[s].path));i.theme.addTopTab(i.tabs_holder,i.rows[s].tab)}else{i.rows[s].tab=i.theme.getTab(i.rows[s].tab_text,this.getValidId(i.rows[s].path));i.theme.addTab(i.tabs_holder,i.rows[s].tab)}i.rows[s].tab.addEventListener("click",(function(t){i.active_tab=i.rows[s].tab;i.refreshTabs();t.preventDefault();t.stopPropagation()}))}var r=i.rows[s].title_controls||i.rows[s].array_controls;if(!i.hide_delete_buttons){i.rows[s].delete_button=this.getButton(i.getItemTitle(),"delete",this.translate("button_delete_row_title",[i.getItemTitle()]));i.rows[s].delete_button.classList.add("delete");i.rows[s].delete_button.setAttribute("data-i",s);i.rows[s].delete_button.addEventListener("click",(function(t){t.preventDefault();t.stopPropagation();if(!i.askConfirmation()){return false}var e=this.getAttribute("data-i")*1;var s=i.getValue();var r=[];var a=null;n(s,(function(t,i){if(t!==e){r.push(i)}}));i.empty(true);i.setValue(r);if(i.rows[e]){a=i.rows[e].tab}else if(i.rows[e-1]){a=i.rows[e-1].tab}if(a){i.active_tab=a;i.refreshTabs()}i.onChange(true)}));if(r){r.appendChild(i.rows[s].delete_button)}}if(i.show_copy_button){i.rows[s].copy_button=this.getButton(i.getItemTitle(),"copy","Copy "+i.getItemTitle());i.rows[s].copy_button.classList.add("copy");i.rows[s].copy_button.setAttribute("data-i",s);i.rows[s].copy_button.addEventListener("click",(function(t){var e=i.getValue();t.preventDefault();t.stopPropagation();var s=this.getAttribute("data-i")*1;n(e,(function(t,i){if(t===s){e.push(i)}}));i.setValue(e);i.refreshValue(true);i.onChange(true)}));r.appendChild(i.rows[s].copy_button)}if(s&&!i.hide_move_buttons){i.rows[s].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title"));i.rows[s].moveup_button.classList.add("moveup");i.rows[s].moveup_button.setAttribute("data-i",s);i.rows[s].moveup_button.addEventListener("click",(function(t){t.preventDefault();t.stopPropagation();var e=this.getAttribute("data-i")*1;if(e<=0)return;var s=i.getValue();var r=s[e-1];s[e-1]=s[e];s[e]=r;i.setValue(s);i.active_tab=i.rows[e-1].tab;i.refreshTabs();i.onChange(true)}));if(r){r.appendChild(i.rows[s].moveup_button)}}if(!i.hide_move_buttons){i.rows[s].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title"));i.rows[s].movedown_button.classList.add("movedown");i.rows[s].movedown_button.setAttribute("data-i",s);i.rows[s].movedown_button.addEventListener("click",(function(t){t.preventDefault();t.stopPropagation();var e=this.getAttribute("data-i")*1;var s=i.getValue();if(e>=s.length-1)return;var r=s[e+1];s[e+1]=s[e];s[e]=r;i.setValue(s);i.active_tab=i.rows[e+1].tab;i.refreshTabs();i.onChange(true)}));if(r){r.appendChild(i.rows[s].movedown_button)}}if(t)i.rows[s].setValue(t,e);i.refreshTabs()},addControls:function(){var t=this;this.collapsed=false;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls.appendChild(this.toggle_button);var e=t.row_holder.style.display;var i=t.controls.style.display;this.toggle_button.addEventListener("click",(function(s){s.preventDefault();s.stopPropagation();if(t.collapsed){t.collapsed=false;if(t.panel)t.panel.style.display="";t.row_holder.style.display=e;if(t.tabs_holder)t.tabs_holder.style.display="";t.controls.style.display=i;t.setButtonText(this,"","collapse",t.translate("button_collapse"))}else{t.collapsed=true;t.row_holder.style.display="none";if(t.tabs_holder)t.tabs_holder.style.display="none";t.controls.style.display="none";if(t.panel)t.panel.style.display="none";t.setButtonText(this,"","expand",t.translate("button_expand"))}}));if(this.options.collapsed){a(this.toggle_button,"click")}if(this.schema.options&&typeof this.schema.options.disable_collapse!=="undefined"){if(this.schema.options.disable_collapse)this.toggle_button.style.display="none"}else if(this.jsoneditor.options.disable_collapse){this.toggle_button.style.display="none"}this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()]));this.add_row_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();var i=t.rows.length;if(t.row_cache[i]){t.rows[i]=t.row_cache[i];t.rows[i].setValue(t.rows[i].getDefault(),true);t.rows[i].container.style.display="";if(t.rows[i].tab)t.rows[i].tab.style.display="";t.rows[i].register()}else{t.addRow()}t.active_tab=t.rows[i].tab;t.refreshTabs();t.refreshValue();t.onChange(true)}));t.controls.appendChild(this.add_row_button);this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()]));this.delete_last_row_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(!t.askConfirmation()){return false}var i=t.getValue();var s=null;i.pop();t.empty(true);t.setValue(i);if(t.rows[t.rows.length-1]){s=t.rows[t.rows.length-1].tab}if(s){t.active_tab=s;t.refreshTabs()}t.onChange(true)}));t.controls.appendChild(this.delete_last_row_button);this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title"));this.remove_all_rows_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(!t.askConfirmation()){return false}t.empty(true);t.setValue([]);t.onChange(true)}));t.controls.appendChild(this.remove_all_rows_button);if(t.tabs){this.add_row_button.style.width="100%";this.add_row_button.style.textAlign="left";this.add_row_button.style.marginBottom="3px";this.delete_last_row_button.style.width="100%";this.delete_last_row_button.style.textAlign="left";this.delete_last_row_button.style.marginBottom="3px";this.remove_all_rows_button.style.width="100%";this.remove_all_rows_button.style.textAlign="left";this.remove_all_rows_button.style.marginBottom="3px"}},showValidationErrors:function(t){var e=this;var i=[];var s=[];n(t,(function(t,r){if(r.path===e.path){i.push(r)}else{s.push(r)}}));if(this.error_holder){if(i.length){var r=[];this.error_holder.innerHTML="";this.error_holder.style.display="";n(i,(function(t,i){e.error_holder.appendChild(e.theme.getErrorMessage(i.message))}))}else{this.error_holder.style.display="none"}}n(this.rows,(function(t,e){e.showValidationErrors(s)}))}});l.defaults.editors.table=l.defaults.editors.array.extend({register:function(){this._super();if(this.rows){for(var t=0;t<this.rows.length;t++){this.rows[t].register()}}},unregister:function(){this._super();if(this.rows){for(var t=0;t<this.rows.length;t++){this.rows[t].unregister()}}},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var t=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=t.title||"row";this.item_default=t["default"]||null;this.item_has_child_editors=t.properties||t.items;this.width=12;this._super()},build:function(){var t=this;this.table=this.theme.getTable();this.container.appendChild(this.table);this.thead=this.theme.getTableHead();this.table.appendChild(this.thead);this.header_row=this.theme.getTableRow();this.thead.appendChild(this.header_row);this.row_holder=this.theme.getTableBody();this.table.appendChild(this.row_holder);var e=this.getElementEditor(0,true);this.item_default=e.getDefault();this.width=e.getNumColumns()+2;if(!this.options.compact){this.title=this.theme.getHeader(this.getTitle());this.container.appendChild(this.title);this.title_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);if(this.schema.description){this.description=this.theme.getDescription(this.schema.description);this.container.appendChild(this.description)}this.panel=this.theme.getIndentedPanel();this.container.appendChild(this.panel);this.error_holder=document.createElement("div");this.panel.appendChild(this.error_holder)}else{this.panel=document.createElement("div");this.container.appendChild(this.panel)}this.panel.appendChild(this.table);this.controls=this.theme.getButtonHolder();this.panel.appendChild(this.controls);if(this.item_has_child_editors){var i=e.getChildEditors();var s=e.property_order||Object.keys(i);for(var r=0;r<s.length;r++){var n=t.theme.getTableHeaderCell(i[s[r]].getTitle());if(i[s[r]].options.hidden)n.style.display="none";t.header_row.appendChild(n)}}else{t.header_row.appendChild(t.theme.getTableHeaderCell(this.item_title))}e.destroy();this.row_holder.innerHTML="";this.controls_header_cell=t.theme.getTableHeaderCell(" ");t.header_row.appendChild(this.controls_header_cell);this.addControls()},onChildEditorChange:function(t){this.refreshValue();this._super()},getItemDefault:function(){return r({},{default:this.item_default})["default"]},getItemTitle:function(){return this.item_title},getElementEditor:function(t,e){var i=r({},this.schema.items);var s=this.jsoneditor.getEditorClass(i,this.jsoneditor);var n=this.row_holder.appendChild(this.theme.getTableRow());var a=n;if(!this.item_has_child_editors){a=this.theme.getTableCell();n.appendChild(a)}var o=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:i,container:a,path:this.path+"."+t,parent:this,compact:true,table_row:true});o.preBuild();if(!e){o.build();o.postBuild();o.controls_cell=n.appendChild(this.theme.getTableCell());o.row=n;o.table_controls=this.theme.getButtonHolder();o.controls_cell.appendChild(o.table_controls);o.table_controls.style.margin=0;o.table_controls.style.padding=0}return o},destroy:function(){this.innerHTML="";if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);if(this.row_holder&&this.row_holder.parentNode)this.row_holder.parentNode.removeChild(this.row_holder);if(this.table&&this.table.parentNode)this.table.parentNode.removeChild(this.table);if(this.panel&&this.panel.parentNode)this.panel.parentNode.removeChild(this.panel);this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null;this._super()},setValue:function(t,e){t=t||[];if(this.schema.minItems){while(t.length<this.schema.minItems){t.push(this.getItemDefault())}}if(this.schema.maxItems&&t.length>this.schema.maxItems){t=t.slice(0,this.schema.maxItems)}var i=JSON.stringify(t);if(i===this.serialized)return;var s=false;var r=this;n(t,(function(t,e){if(r.rows[t]){r.rows[t].setValue(e)}else{r.addRow(e);s=true}}));for(var a=t.length;a<r.rows.length;a++){var o=r.rows[a].container;if(!r.item_has_child_editors){r.rows[a].row.parentNode.removeChild(r.rows[a].row)}r.rows[a].destroy();if(o.parentNode)o.parentNode.removeChild(o);r.rows[a]=null;s=true}r.rows=r.rows.slice(0,t.length);r.refreshValue();if(s||e)r.refreshRowButtons();r.onChange()},refreshRowButtons:function(){var t=this;var e=this.schema.minItems&&this.schema.minItems>=this.rows.length;var i=false;n(this.rows,(function(s,r){if(r.movedown_button){if(s===t.rows.length-1){r.movedown_button.style.display="none"}else{i=true;r.movedown_button.style.display=""}}if(r.delete_button){if(e){r.delete_button.style.display="none"}else{i=true;r.delete_button.style.display=""}}if(r.moveup_button){i=true}}));n(this.rows,(function(t,e){if(i){e.controls_cell.style.display=""}else{e.controls_cell.style.display="none"}}));if(i){this.controls_header_cell.style.display=""}else{this.controls_header_cell.style.display="none"}var s=false;if(!this.value.length){this.delete_last_row_button.style.display="none";this.remove_all_rows_button.style.display="none";this.table.style.display="none"}else if(this.value.length===1){this.table.style.display="";this.remove_all_rows_button.style.display="none";if(e||this.hide_delete_last_row_buttons){this.delete_last_row_button.style.display="none"}else{this.delete_last_row_button.style.display="";s=true}}else{this.table.style.display="";if(e||this.hide_delete_last_row_buttons){this.delete_last_row_button.style.display="none"}else{this.delete_last_row_button.style.display="";s=true}if(e||this.hide_delete_all_rows_buttons){this.remove_all_rows_button.style.display="none"}else{this.remove_all_rows_button.style.display="";s=true}}if(this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button){this.add_row_button.style.display="none"}else{this.add_row_button.style.display="";s=true}if(!s){this.controls.style.display="none"}else{this.controls.style.display=""}},refreshValue:function(){var t=this;this.value=[];n(this.rows,(function(e,i){t.value[e]=i.getValue()}));this.serialized=JSON.stringify(this.value)},addRow:function(t){var e=this;var i=this.rows.length;e.rows[i]=this.getElementEditor(i);var s=e.rows[i].table_controls;if(!this.hide_delete_buttons){e.rows[i].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short"));e.rows[i].delete_button.classList.add("delete");e.rows[i].delete_button.setAttribute("data-i",i);e.rows[i].delete_button.addEventListener("click",(function(t){t.preventDefault();t.stopPropagation();if(!e.askConfirmation()){return false}var i=this.getAttribute("data-i")*1;var s=e.getValue();var r=[];n(s,(function(t,e){if(t===i)return;r.push(e)}));e.setValue(r);e.onChange(true)}));s.appendChild(e.rows[i].delete_button)}if(i&&!this.hide_move_buttons){e.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title"));e.rows[i].moveup_button.classList.add("moveup");e.rows[i].moveup_button.setAttribute("data-i",i);e.rows[i].moveup_button.addEventListener("click",(function(t){t.preventDefault();t.stopPropagation();var i=this.getAttribute("data-i")*1;if(i<=0)return;var s=e.getValue();var r=s[i-1];s[i-1]=s[i];s[i]=r;e.setValue(s);e.onChange(true)}));s.appendChild(e.rows[i].moveup_button)}if(!this.hide_move_buttons){e.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title"));e.rows[i].movedown_button.classList.add("movedown");e.rows[i].movedown_button.setAttribute("data-i",i);e.rows[i].movedown_button.addEventListener("click",(function(t){t.preventDefault();t.stopPropagation();var i=this.getAttribute("data-i")*1;var s=e.getValue();if(i>=s.length-1)return;var r=s[i+1];s[i+1]=s[i];s[i]=r;e.setValue(s);e.onChange(true)}));s.appendChild(e.rows[i].movedown_button)}if(t)e.rows[i].setValue(t)},addControls:function(){var t=this;this.collapsed=false;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));if(this.title_controls){this.title_controls.appendChild(this.toggle_button);this.toggle_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(t.collapsed){t.collapsed=false;t.panel.style.display="";t.setButtonText(this,"","collapse",t.translate("button_collapse"))}else{t.collapsed=true;t.panel.style.display="none";t.setButtonText(this,"","expand",t.translate("button_expand"))}}));if(this.options.collapsed){a(this.toggle_button,"click")}if(this.schema.options&&typeof this.schema.options.disable_collapse!=="undefined"){if(this.schema.options.disable_collapse)this.toggle_button.style.display="none"}else if(this.jsoneditor.options.disable_collapse){this.toggle_button.style.display="none"}}this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()]));this.add_row_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();t.addRow();t.refreshValue();t.refreshRowButtons();t.onChange(true)}));t.controls.appendChild(this.add_row_button);this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()]));this.delete_last_row_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(!t.askConfirmation()){return false}var i=t.getValue();i.pop();t.setValue(i);t.onChange(true)}));t.controls.appendChild(this.delete_last_row_button);this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title"));this.remove_all_rows_button.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();if(!t.askConfirmation()){return false}t.setValue([]);t.onChange(true)}));t.controls.appendChild(this.remove_all_rows_button)}});l.defaults.editors.multiple=l.AbstractEditor.extend({register:function(){if(this.editors){for(var t=0;t<this.editors.length;t++){if(!this.editors[t])continue;this.editors[t].unregister()}if(this.editors[this.type])this.editors[this.type].register()}this._super()},unregister:function(){this._super();if(this.editors){for(var t=0;t<this.editors.length;t++){if(!this.editors[t])continue;this.editors[t].unregister()}}},getNumColumns:function(){if(!this.editors[this.type])return 4;return Math.max(this.editors[this.type].getNumColumns(),4)},enable:function(){if(!this.always_disabled){if(this.editors){for(var t=0;t<this.editors.length;t++){if(!this.editors[t])continue;this.editors[t].enable()}}this.switcher.disabled=false;this._super()}},disable:function(t){if(t)this.always_disabled=true;if(this.editors){for(var e=0;e<this.editors.length;e++){if(!this.editors[e])continue;this.editors[e].disable(t)}}this.switcher.disabled=true;this._super()},switchEditor:function(t){var e=this;if(!this.editors[t]){this.buildChildEditor(t)}var i=e.getValue();e.type=t;e.register();n(e.editors,(function(t,s){if(!s)return;if(e.type===t){if(e.keep_values)s.setValue(i,true);s.container.style.display=""}else s.container.style.display="none"}));e.refreshValue();e.refreshHeaderText()},buildChildEditor:function(t){var e=this;var i=this.types[t];var s=e.theme.getChildEditorHolder();e.editor_holder.appendChild(s);var n;if(typeof i==="string"){n=r({},e.schema);n.type=i}else{n=r({},e.schema,i);n=e.jsoneditor.expandRefs(n);if(i&&i.required&&Array.isArray(i.required)&&e.schema.required&&Array.isArray(e.schema.required)){n.required=e.schema.required.concat(i.required)}}var a=e.jsoneditor.getEditorClass(n);e.editors[t]=e.jsoneditor.createEditor(a,{jsoneditor:e.jsoneditor,schema:n,container:s,path:e.path,parent:e,required:true});e.editors[t].preBuild();e.editors[t].build();e.editors[t].postBuild();if(e.editors[t].header)e.editors[t].header.style.display="none";e.editors[t].option=e.switcher_options[t];s.addEventListener("change_header_text",(function(){e.refreshHeaderText()}));if(t!==e.type)s.style.display="none"},preBuild:function(){var t=this;this.types=[];this.type=0;this.editors=[];this.validators=[];this.keep_values=true;if(typeof this.jsoneditor.options.keep_oneof_values!=="undefined")this.keep_values=this.jsoneditor.options.keep_oneof_values;if(typeof this.options.keep_oneof_values!=="undefined")this.keep_values=this.options.keep_oneof_values;if(this.schema.oneOf){this.oneOf=true;this.types=this.schema.oneOf;delete this.schema.oneOf}else if(this.schema.anyOf){this.anyOf=true;this.types=this.schema.anyOf;delete this.schema.anyOf}else{if(!this.schema.type||this.schema.type==="any"){this.types=["string","number","integer","boolean","object","array","null"];if(this.schema.disallow){var e=this.schema.disallow;if(typeof e!=="object"||!Array.isArray(e)){e=[e]}var i=[];n(this.types,(function(t,s){if(e.indexOf(s)===-1)i.push(s)}));this.types=i}}else if(Array.isArray(this.schema.type)){this.types=this.schema.type}else{this.types=[this.schema.type]}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var t=this;var e=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.container.appendChild(this.header);this.switcher=this.theme.getSwitcher(this.display_text);e.appendChild(this.switcher);this.switcher.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();t.switchEditor(t.display_text.indexOf(this.value));t.onChange(true)}));this.editor_holder=document.createElement("div");e.appendChild(this.editor_holder);var i={};if(t.jsoneditor.options.custom_validators){i.custom_validators=t.jsoneditor.options.custom_validators}this.switcher_options=this.theme.getSwitcherOptions(this.switcher);n(this.types,(function(e,s){t.editors[e]=false;var n;if(typeof s==="string"){n=r({},t.schema);n.type=s}else{n=r({},t.schema,s);if(s.required&&Array.isArray(s.required)&&t.schema.required&&Array.isArray(t.schema.required)){n.required=t.schema.required.concat(s.required)}}t.validators[e]=new l.Validator(t.jsoneditor,n,i)}));this.switchEditor(0)},onChildEditorChange:function(t){if(this.editors[this.type]){this.refreshValue();this.refreshHeaderText()}this._super()},refreshHeaderText:function(){var t=this.getDisplayText(this.types);n(this.switcher_options,(function(e,i){i.textContent=t[e]}))},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(t,e){var i=this;var s=this.type;n(this.validators,(function(e,s){if(!s.validate(t).length){i.type=e;i.switcher.value=i.display_text[e];return false}}));var r=this.type!=s;if(r){this.switchEditor(this.type)}this.editors[this.type].setValue(t,e);this.refreshValue();i.onChange(r)},destroy:function(){n(this.editors,(function(t,e){if(e)e.destroy()}));if(this.editor_holder&&this.editor_holder.parentNode)this.editor_holder.parentNode.removeChild(this.editor_holder);if(this.switcher&&this.switcher.parentNode)this.switcher.parentNode.removeChild(this.switcher);this._super()},showValidationErrors:function(t){var e=this;if(this.oneOf||this.anyOf){var i=this.oneOf?"oneOf":"anyOf";n(this.editors,(function(s,a){if(!a)return;var o=e.path+"."+i+"["+s+"]";var l=[];n(t,(function(t,i){if(i.path.substr(0,o.length)===o){var s=r({},i);s.path=e.path+s.path.substr(o.length);l.push(s)}}));a.showValidationErrors(l)}))}else{n(this.editors,(function(e,i){if(!i)return;i.showValidationErrors(t)}))}}});l.defaults.editors["enum"]=l.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var t=this.container;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.container.appendChild(this.title);this.options.enum_titles=this.options.enum_titles||[];this["enum"]=this.schema["enum"];this.selected=0;this.select_options=[];this.html_values=[];var e=this;for(var i=0;i<this["enum"].length;i++){this.select_options[i]=this.options.enum_titles[i]||"Value "+(i+1);this.html_values[i]=this.getHTML(this["enum"][i])}this.switcher=this.theme.getSwitcher(this.select_options);this.container.appendChild(this.switcher);this.display_area=this.theme.getIndentedPanel();this.container.appendChild(this.display_area);if(this.options.hide_display)this.display_area.style.display="none";this.switcher.addEventListener("change",(function(){e.selected=e.select_options.indexOf(this.value);e.value=e["enum"][e.selected];e.refreshValue();e.onChange(true)}));this.value=this["enum"][0];this.refreshValue();if(this["enum"].length===1)this.switcher.style.display="none"},refreshValue:function(){var t=this;t.selected=-1;var e=JSON.stringify(this.value);n(this["enum"],(function(i,s){if(e===JSON.stringify(s)){t.selected=i;return false}}));if(t.selected<0){t.setValue(t["enum"][0]);return}this.switcher.value=this.select_options[this.selected];this.display_area.innerHTML=this.html_values[this.selected]},enable:function(){if(!this.always_disabled){this.switcher.disabled=false;this._super()}},disable:function(t){if(t)this.always_disabled=true;this.switcher.disabled=true;this._super()},getHTML:function(t){var e=this;if(t===null){return"<em>null</em>"}else if(typeof t==="object"){var i="";n(t,(function(s,r){var n=e.getHTML(r);if(!Array.isArray(t)){n="<div><em>"+s+"</em>: "+n+"</div>"}i+="<li>"+n+"</li>"}));if(Array.isArray(t))i="<ol>"+i+"</ol>";else i="<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+i+"</ul>";return i}else if(typeof t==="boolean"){return t?"true":"false"}else if(typeof t==="string"){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else{return t}},setValue:function(t){if(this.value!==t){this.value=t;this.refreshValue();this.onChange()}},destroy:function(){if(this.display_area&&this.display_area.parentNode)this.display_area.parentNode.removeChild(this.display_area);if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.switcher&&this.switcher.parentNode)this.switcher.parentNode.removeChild(this.switcher);this._super()}});l.defaults.editors.select=l.AbstractEditor.extend({setValue:function(t,e){t=this.typecast(t||"");var i=t;if(this.enum_values.indexOf(i)<0){i=this.enum_values[0]}if(this.value===i){return}if(e)this.is_dirty=false;else if(this.jsoneditor.options.show_errors==="change")this.is_dirty=true;this.input.value=this.enum_options[this.enum_values.indexOf(i)];if(this.select2){if(this.select2v4)this.select2.val(this.input.value).trigger("change");else this.select2.select2("val",this.input.value)}this.value=i;this.onChange();this.change()},register:function(){this._super();if(!this.input)return;this.input.setAttribute("name",this.formname)},unregister:function(){this._super();if(!this.input)return;this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;var t=this.getTitle().length;for(var e=0;e<this.enum_options.length;e++){t=Math.max(t,this.enum_options[e].length+4)}return Math.min(12,Math.max(t/7,2))},typecast:function(t){if(this.schema.type==="boolean"){return!!t}else if(this.schema.type==="number"){return 1*t}else if(this.schema.type==="integer"){return Math.floor(t*1)}else{return""+t}},getValue:function(){if(!this.dependenciesFulfilled){return e}return this.typecast(this.value)},preBuild:function(){var t=this;this.input_type="select";this.enum_options=[];this.enum_values=[];this.enum_display=[];var i;if(this.schema["enum"]){var s=this.schema.options&&this.schema.options.enum_titles||[];n(this.schema["enum"],(function(e,i){t.enum_options[e]=""+i;t.enum_display[e]=""+(s[e]||i);t.enum_values[e]=t.typecast(i)}));if(!this.isRequired()){t.enum_display.unshift(" ");t.enum_options.unshift("undefined");t.enum_values.unshift(e)}}else if(this.schema.type==="boolean"){t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"];t.enum_options=["1",""];t.enum_values=[true,false];if(!this.isRequired()){t.enum_display.unshift(" ");t.enum_options.unshift("undefined");t.enum_values.unshift(e)}}else if(this.schema.enumSource){this.enumSource=[];this.enum_display=[];this.enum_options=[];this.enum_values=[];if(!Array.isArray(this.schema.enumSource)){if(this.schema.enumValue){this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]}else{this.enumSource=[{source:this.schema.enumSource}]}}else{for(i=0;i<this.schema.enumSource.length;i++){if(typeof this.schema.enumSource[i]==="string"){this.enumSource[i]={source:this.schema.enumSource[i]}}else if(!Array.isArray(this.schema.enumSource[i])){this.enumSource[i]=r({},this.schema.enumSource[i])}else{this.enumSource[i]=this.schema.enumSource[i]}}}for(i=0;i<this.enumSource.length;i++){if(this.enumSource[i].value){this.enumSource[i].value=this.jsoneditor.compileTemplate(this.enumSource[i].value,this.template_engine)}if(this.enumSource[i].title){this.enumSource[i].title=this.jsoneditor.compileTemplate(this.enumSource[i].title,this.template_engine)}if(this.enumSource[i].filter){this.enumSource[i].filter=this.jsoneditor.compileTemplate(this.enumSource[i].filter,this.template_engine)}}}else{throw"'select' editor requires the enum property to be set."}},build:function(){var t=this;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);if(this.options.infoText)this.infoButton=this.theme.getInfoButton(this.options.infoText);if(this.options.compact)this.container.classList.add("compact");this.input=this.theme.getSelectInput(this.enum_options);this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;this.input.disabled=true}this.input.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();t.onInputChange()}));this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton);this.container.appendChild(this.control);this.value=this.enum_values[0]},onInputChange:function(){var t=this.typecast(this.input.value);var e;if(this.enum_values.indexOf(t)===-1){e=this.enum_values[0]}else{e=this.enum_values[this.enum_values.indexOf(t)]}if(e===this.value)return;this.is_dirty=true;this.value=e;this.onChange(true)},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var t=r({},l.plugins.select2);if(this.schema.options&&this.schema.options.select2_options)t=r(t,this.schema.options.select2_options);this.select2=window.jQuery(this.input).select2(t);this.select2v4=this.select2.select2.hasOwnProperty("amd");var e=this;this.select2.on("select2-blur",(function(){if(e.select2v4)e.input.value=e.select2.val();else e.input.value=e.select2.select2("val");e.onInputChange()}));this.select2.on("change",(function(){if(e.select2v4)e.input.value=e.select2.val();else e.input.value=e.select2.select2("val");e.onInputChange()}))}else{this.select2=null}},postBuild:function(){this._super();this.theme.afterInputReady(this.input);this.setupSelect2()},onWatchedFieldChange:function(){var t=this,e,i;if(this.enumSource){e=this.getWatchedFieldValues();var s=[];var r=[];for(var n=0;n<this.enumSource.length;n++){if(Array.isArray(this.enumSource[n])){s=s.concat(this.enumSource[n]);r=r.concat(this.enumSource[n])}else{var a=[];if(Array.isArray(this.enumSource[n].source)){a=this.enumSource[n].source}else{a=e[this.enumSource[n].source]}if(a){if(this.enumSource[n].slice){a=Array.prototype.slice.apply(a,this.enumSource[n].slice)}if(this.enumSource[n].filter){var o=[];for(i=0;i<a.length;i++){if(this.enumSource[n].filter({i:i,item:a[i],watched:e}))o.push(a[i])}a=o}var l=[];var h=[];for(i=0;i<a.length;i++){var d=a[i];if(this.enumSource[n].value){h[i]=this.enumSource[n].value({i:i,item:d})}else{h[i]=a[i]}if(this.enumSource[n].title){l[i]=this.enumSource[n].title({i:i,item:d})}else{l[i]=h[i]}}s=s.concat(h);r=r.concat(l)}}}var u=this.value;this.theme.setSelectOptions(this.input,s,r);this.enum_options=s;this.enum_display=r;this.enum_values=s;if(this.select2){this.select2.select2("destroy")}if(s.indexOf(u)!==-1){this.input.value=u;this.value=u}else{this.input.value=s[0];this.value=this.typecast(s[0]||"");if(this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange();this.jsoneditor.notifyWatchers(this.path)}this.setupSelect2()}this._super()},enable:function(){if(!this.always_disabled){this.input.disabled=false;if(this.select2){if(this.select2v4)this.select2.prop("disabled",false);else this.select2.select2("enable",true)}}this._super()},disable:function(t){if(t)this.always_disabled=true;this.input.disabled=true;if(this.select2){if(this.select2v4)this.select2.prop("disabled",true);else this.select2.select2("enable",false)}this._super()},destroy:function(){if(this.label&&this.label.parentNode)this.label.parentNode.removeChild(this.label);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);if(this.select2){this.select2.select2("destroy");this.select2=null}this._super()},showValidationErrors:function(t){var e=this;if(this.jsoneditor.options.show_errors==="always"){}else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var i=[];n(t,(function(t,s){if(s.path===e.path){i.push(s.message)}}));if(i.length){this.theme.addInputError(this.input,i.join(". ")+".")}else{this.theme.removeInputError(this.input)}}});l.defaults.editors.selectize=l.AbstractEditor.extend({setValue:function(t,e){t=this.typecast(t||"");var i=t;if(this.enum_values.indexOf(i)<0){i=this.enum_values[0]}if(this.value===i){return}this.input.value=this.enum_options[this.enum_values.indexOf(i)];if(this.selectize){this.selectize[0].selectize.addItem(i)}this.value=i;this.onChange()},register:function(){this._super();if(!this.input)return;this.input.setAttribute("name",this.formname)},unregister:function(){this._super();if(!this.input)return;this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;var t=this.getTitle().length;for(var e=0;e<this.enum_options.length;e++){t=Math.max(t,this.enum_options[e].length+4)}return Math.min(12,Math.max(t/7,2))},typecast:function(t){if(this.schema.type==="boolean"){return!!t}else if(this.schema.type==="number"){return 1*t}else if(this.schema.type==="integer"){return Math.floor(t*1)}else{return""+t}},getValue:function(){if(!this.dependenciesFulfilled){return e}return this.value},preBuild:function(){var t=this;this.input_type="select";this.enum_options=[];this.enum_values=[];this.enum_display=[];var e;if(this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];n(this.schema.enum,(function(e,s){t.enum_options[e]=""+s;t.enum_display[e]=""+(i[e]||s);t.enum_values[e]=t.typecast(s)}))}else if(this.schema.type==="boolean"){t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"];t.enum_options=["1","0"];t.enum_values=[true,false]}else if(this.schema.enumSource){this.enumSource=[];this.enum_display=[];this.enum_options=[];this.enum_values=[];if(!Array.isArray(this.schema.enumSource)){if(this.schema.enumValue){this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]}else{this.enumSource=[{source:this.schema.enumSource}]}}else{for(e=0;e<this.schema.enumSource.length;e++){if(typeof this.schema.enumSource[e]==="string"){this.enumSource[e]={source:this.schema.enumSource[e]}}else if(!Array.isArray(this.schema.enumSource[e])){this.enumSource[e]=r({},this.schema.enumSource[e])}else{this.enumSource[e]=this.schema.enumSource[e]}}}for(e=0;e<this.enumSource.length;e++){if(this.enumSource[e].value){this.enumSource[e].value=this.jsoneditor.compileTemplate(this.enumSource[e].value,this.template_engine)}if(this.enumSource[e].title){this.enumSource[e].title=this.jsoneditor.compileTemplate(this.enumSource[e].title,this.template_engine)}if(this.enumSource[e].filter){this.enumSource[e].filter=this.jsoneditor.compileTemplate(this.enumSource[e].filter,this.template_engine)}}}else{throw"'select' editor requires the enum property to be set."}},build:function(){var t=this;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);if(this.options.infoText)this.infoButton=this.theme.getInfoButton(this.options.infoText);if(this.options.compact)this.container.classList.add("compact");this.input=this.theme.getSelectInput(this.enum_options);this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;this.input.disabled=true}this.input.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();t.onInputChange()}));this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton);this.container.appendChild(this.control);this.value=this.enum_values[0]},onInputChange:function(){var t=this.input.value;var e=t;if(this.enum_options.indexOf(t)===-1){e=this.enum_options[0]}this.value=t;this.onChange(true)},setupSelectize:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)){var i=r({},l.plugins.selectize);if(this.schema.options&&this.schema.options.selectize_options)i=r(i,this.schema.options.selectize_options);this.selectize=window.jQuery(this.input).selectize(r(i,{create:i.create===e?true:i.create,onChange:function(){t.onInputChange()}}))}else{this.selectize=null}},postBuild:function(){this._super();this.theme.afterInputReady(this.input);this.setupSelectize()},onWatchedFieldChange:function(){var t=this,i,s;if(this.enumSource){i=this.getWatchedFieldValues();var r=[];var n=[];for(var a=0;a<this.enumSource.length;a++){if(Array.isArray(this.enumSource[a])){r=r.concat(this.enumSource[a]);n=n.concat(this.enumSource[a])}else if(i[this.enumSource[a].source]){var o=i[this.enumSource[a].source];if(this.enumSource[a].slice){o=Array.prototype.slice.apply(o,this.enumSource[a].slice)}if(this.enumSource[a].filter){var l=[];for(s=0;s<o.length;s++){if(this.enumSource[a].filter({i:s,item:o[s]}))l.push(o[s])}o=l}var h=[];var d=[];for(s=0;s<o.length;s++){var u=o[s];if(this.enumSource[a].value){d[s]=this.enumSource[a].value({i:s,item:u})}else{d[s]=o[s]}if(this.enumSource[a].title){h[s]=this.enumSource[a].title({i:s,item:u})}else{h[s]=d[s]}}r=r.concat(d);n=n.concat(h)}}var c=this.value;if(c!==e&&c!==""&&r.indexOf(c)===-1){r=r.concat(c);n=n.concat(c)}this.theme.setSelectOptions(this.input,r,n);this.enum_options=r;this.enum_display=n;this.enum_values=r;if(r.indexOf(c)!==-1){this.input.value=c;this.value=c}else{this.input.value=r[0];this.value=r[0]||"";if(this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange();this.jsoneditor.notifyWatchers(this.path)}if(this.selectize){this.updateSelectizeOptions(r)}else{this.setupSelectize()}this._super()}},updateSelectizeOptions:function(t){var e=this.selectize[0].selectize,i=this;e.off();e.clearOptions();for(var s in t){e.addOption({value:t[s],text:t[s]})}e.addItem(this.value);e.on("change",(function(){i.onInputChange()}))},enable:function(){if(!this.always_disabled){this.input.disabled=false;if(this.selectize){this.selectize[0].selectize.unlock()}this._super()}},disable:function(t){if(t)this.always_disabled=true;this.input.disabled=true;if(this.selectize){this.selectize[0].selectize.lock()}this._super()},destroy:function(){if(this.label&&this.label.parentNode)this.label.parentNode.removeChild(this.label);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);if(this.selectize){this.selectize[0].selectize.destroy();this.selectize=null}this._super()}});l.defaults.editors.multiselect=l.AbstractEditor.extend({preBuild:function(){this._super();var t;this.select_options={};this.select_values={};var e=this.jsoneditor.expandRefs(this.schema.items||{});var i=e["enum"]||[];var s=e.options?e.options.enum_titles||[]:[];this.option_keys=[];this.option_titles=[];for(t=0;t<i.length;t++){if(this.sanitize(i[t])!==i[t])continue;this.option_keys.push(i[t]+"");this.option_titles.push((s[t]||i[t])+"");this.select_values[i[t]+""]=i[t]}},build:function(){var t=this,e;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);if(!this.schema.format&&this.option_keys.length<8||this.schema.format==="checkbox"){this.input_type="checkboxes";this.inputs={};this.controls={};for(e=0;e<this.option_keys.length;e++){this.inputs[this.option_keys[e]]=this.theme.getCheckbox();this.select_options[this.option_keys[e]]=this.inputs[this.option_keys[e]];var i=this.theme.getCheckboxLabel(this.option_titles[e]);this.controls[this.option_keys[e]]=this.theme.getFormControl(i,this.inputs[this.option_keys[e]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{this.input_type="select";this.input=this.theme.getSelectInput(this.option_keys);this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles);this.input.multiple=true;this.input.size=Math.min(10,this.option_keys.length);for(e=0;e<this.option_keys.length;e++){this.select_options[this.option_keys[e]]=this.input.children[e]}if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;this.input.disabled=true}this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control);this.control.addEventListener("change",(function(i){i.preventDefault();i.stopPropagation();var s=[];for(e=0;e<t.option_keys.length;e++){if(t.select_options[t.option_keys[e]].selected||t.select_options[t.option_keys[e]].checked)s.push(t.select_values[t.option_keys[e]])}t.updateValue(s);t.onChange(true)}))},setValue:function(t,e){var i;t=t||[];if(typeof t!=="object")t=[t];else if(!Array.isArray(t))t=[];for(i=0;i<t.length;i++){if(typeof t[i]!=="string")t[i]+=""}for(i in this.select_options){if(!this.select_options.hasOwnProperty(i))continue;this.select_options[i][this.input_type==="select"?"selected":"checked"]=t.indexOf(i)!==-1}this.updateValue(t);this.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){var t=window.jQuery.extend({},l.plugins.select2);if(this.schema.options&&this.schema.options.select2_options)t=r(t,this.schema.options.select2_options);this.select2=window.jQuery(this.input).select2(t);this.select2v4=this.select2.select2.hasOwnProperty("amd");var e=this;this.select2.on("select2-blur",(function(){if(e.select2v4)e.value=e.select2.val();else e.value=e.select2.select2("val");e.onChange(true)}));this.select2.on("change",(function(){if(e.select2v4)e.value=e.select2.val();else e.value=e.select2.select2("val");e.onChange(true)}))}else{this.select2=null}},onInputChange:function(){this.value=this.input.value;this.onChange(true)},postBuild:function(){this._super();this.setupSelect2()},register:function(){this._super();if(!this.input)return;this.input.setAttribute("name",this.formname)},unregister:function(){this._super();if(!this.input)return;this.input.removeAttribute("name")},getNumColumns:function(){var t=this.getTitle().length;for(var e in this.select_values){if(!this.select_values.hasOwnProperty(e))continue;t=Math.max(t,(this.select_values[e]+"").length+4)}return Math.min(12,Math.max(t/7,2))},updateValue:function(t){var e=false;var i=[];for(var s=0;s<t.length;s++){if(!this.select_options[t[s]+""]){e=true;continue}var r=this.sanitize(this.select_values[t[s]]);i.push(r);if(r!==t[s])e=true}this.value=i;if(this.select2){if(this.select2v4)this.select2.val(this.value).trigger("change");else this.select2.select2("val",this.value)}return e},sanitize:function(t){if(this.schema.items.type==="number"){return 1*t}else if(this.schema.items.type==="integer"){return Math.floor(t*1)}else{return""+t}},enable:function(){if(!this.always_disabled){if(this.input){this.input.disabled=false}else if(this.inputs){for(var t in this.inputs){if(!this.inputs.hasOwnProperty(t))continue;this.inputs[t].disabled=false}}if(this.select2){if(this.select2v4)this.select2.prop("disabled",false);else this.select2.select2("enable",true)}this._super()}},disable:function(t){if(t)this.always_disabled=true;if(this.input){this.input.disabled=true}else if(this.inputs){for(var e in this.inputs){if(!this.inputs.hasOwnProperty(e))continue;this.inputs[e].disabled=true}}if(this.select2){if(this.select2v4)this.select2.prop("disabled",true);else this.select2.select2("enable",false)}this._super()},destroy:function(){if(this.select2){this.select2.select2("destroy");this.select2=null}this._super()}});l.defaults.editors.base64=l.AbstractEditor.extend({getNumColumns:function(){return 4},setFileReaderListener:function(t){var e=this;t.addEventListener("load",(function(t){if(e.count==e.current_item_index){e.value[e.count][e.key]=t.target.result}else{var i={};for(var s in e.parent.schema.properties){i[s]=""}i[e.key]=t.target.result;e.value.splice(e.count,0,i)}e.count+=1;if(e.count==e.total+e.current_item_index){e.arrayEditor.setValue(e.value)}}))},build:function(){var t=this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.options.infoText)this.infoButton=this.theme.getInfoButton(this.options.infoText);this.input=this.theme.getFormInputField("hidden");this.container.appendChild(this.input);if(!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file");if(t.schema.options&&t.schema.options.multiple&&t.schema.options.multiple==true&&t.parent&&t.parent.schema.type=="object"&&t.parent.parent&&t.parent.parent.schema.type=="array"){this.uploader.setAttribute("multiple","")}this.uploader.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();if(this.files&&this.files.length){if(this.files.length>1&&t.schema.options&&t.schema.options.multiple&&t.schema.options.multiple==true&&t.parent&&t.parent.schema.type=="object"&&t.parent.parent&&t.parent.parent.schema.type=="array"){t.arrayEditor=t.jsoneditor.getEditor(t.parent.parent.path);t.value=t.arrayEditor.getValue();t.total=this.files.length;t.current_item_index=parseInt(t.parent.key);t.count=t.current_item_index;for(var i=0;i<t.total;i++){var s=new FileReader;t.setFileReaderListener(s);s.readAsDataURL(this.files[i])}}else{var r=new FileReader;r.onload=function(e){t.value=e.target.result;t.refreshPreview();t.onChange(true);r=null};r.readAsDataURL(this.files[0])}}}))}this.preview=this.theme.getFormInputDescription(this.schema.description);this.container.appendChild(this.preview);this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton);this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview===this.value)return;this.last_preview=this.value;this.preview.innerHTML="";if(!this.value)return;var t=this.value.match(/^data:([^;,]+)[;,]/);if(t)t=t[1];if(!t){this.preview.innerHTML="<em>Invalid data URI</em>"}else{this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes";if(t.substr(0,5)==="image"){this.preview.innerHTML+="<br>";var e=document.createElement("img");e.style.maxWidth="100%";e.style.maxHeight="100px";e.src=this.value;this.preview.appendChild(e)}}},enable:function(){if(!this.always_disabled){if(this.uploader)this.uploader.disabled=false;this._super()}},disable:function(t){if(t)this.always_disabled=true;if(this.uploader)this.uploader.disabled=true;this._super()},setValue:function(t){if(this.value!==t){this.value=t;this.input.value=this.value;this.refreshPreview();this.onChange()}},destroy:function(){if(this.preview&&this.preview.parentNode)this.preview.parentNode.removeChild(this.preview);if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);if(this.uploader&&this.uploader.parentNode)this.uploader.parentNode.removeChild(this.uploader);this._super()}});l.defaults.editors.upload=l.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var t=this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.input=this.theme.getFormInputField("hidden");this.container.appendChild(this.input);if(!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file");this.uploader.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();if(this.files&&this.files.length){var i=new FileReader;i.onload=function(e){t.preview_value=e.target.result;t.refreshPreview();t.onChange(true);i=null};i.readAsDataURL(this.files[0])}}))}var e=this.schema.description;if(!e)e="";this.preview=this.theme.getFormInputDescription(e);this.container.appendChild(this.preview);this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview);this.container.appendChild(this.control);window.requestAnimationFrame((function(){if(t.value){var e=document.createElement("img");e.style.maxWidth="100%";e.style.maxHeight="100px";e.onload=function(i){t.preview.appendChild(e)};e.onerror=function(t){console.error("upload error",t)};e.src=t.container.querySelector("a").href}}))},refreshPreview:function(){if(this.last_preview===this.preview_value)return;this.last_preview=this.preview_value;this.preview.innerHTML="";if(!this.preview_value)return;var t=this;var e=this.preview_value.match(/^data:([^;,]+)[;,]/);if(e)e=e[1];if(!e)e="unknown";var i=this.uploader.files[0];this.preview.innerHTML="<strong>Type:</strong> "+e+", <strong>Size:</strong> "+i.size+" bytes";if(e.substr(0,5)==="image"){this.preview.innerHTML+="<br>";var s=document.createElement("img");s.style.maxWidth="100%";s.style.maxHeight="100px";s.src=this.preview_value;this.preview.appendChild(s)}this.preview.innerHTML+="<br>";var r=this.getButton("Upload","upload","Upload");this.preview.appendChild(r);r.addEventListener("click",(function(e){e.preventDefault();r.setAttribute("disabled","disabled");t.theme.removeInputError(t.uploader);if(t.theme.getProgressBar){t.progressBar=t.theme.getProgressBar();t.preview.appendChild(t.progressBar)}t.jsoneditor.options.upload(t.path,i,{success:function(e){t.setValue(e);if(t.parent)t.parent.onChildEditorChange(t);else t.jsoneditor.onChange();if(t.progressBar)t.preview.removeChild(t.progressBar);r.removeAttribute("disabled")},failure:function(e){t.theme.addInputError(t.uploader,e);if(t.progressBar)t.preview.removeChild(t.progressBar);r.removeAttribute("disabled")},updateProgress:function(e){if(t.progressBar){if(e)t.theme.updateProgressBar(t.progressBar,e);else t.theme.updateProgressBarUnknown(t.progressBar)}}})}));if(this.jsoneditor.options.auto_upload||this.schema.options.auto_upload){r.dispatchEvent(new MouseEvent("click"));this.preview.removeChild(r)}},enable:function(){if(!this.always_disabled){if(this.uploader)this.uploader.disabled=false;this._super()}},disable:function(t){if(t)this.always_disabled=true;if(this.uploader)this.uploader.disabled=true;this._super()},setValue:function(t){if(this.value!==t){this.value=t;this.input.value=this.value;this.onChange()}},destroy:function(){if(this.preview&&this.preview.parentNode)this.preview.parentNode.removeChild(this.preview);if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);if(this.uploader&&this.uploader.parentNode)this.uploader.parentNode.removeChild(this.uploader);this._super()}});l.defaults.editors.checkbox=l.AbstractEditor.extend({setValue:function(t,e){this.value=!!t;this.input.checked=this.value;this.onChange()},register:function(){this._super();if(!this.input)return;this.input.setAttribute("name",this.formname)},unregister:function(){this._super();if(!this.input)return;this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var t=this;if(!this.options.compact){this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())}if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);if(this.options.infoText)this.infoButton=this.theme.getInfoButton(this.options.infoText);if(this.options.compact)this.container.classList.add("compact");this.input=this.theme.getCheckbox();this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton);if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;this.input.disabled=true}this.input.addEventListener("change",(function(e){e.preventDefault();e.stopPropagation();t.value=this.checked;t.onChange(true)}));this.container.appendChild(this.control)},enable:function(){if(!this.always_disabled){this.input.disabled=false;this._super()}},disable:function(t){if(t)this.always_disabled=true;this.input.disabled=true;this._super()},destroy:function(){if(this.label&&this.label.parentNode)this.label.parentNode.removeChild(this.label);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);this._super()},showValidationErrors:function(t){var e=this;if(this.jsoneditor.options.show_errors==="always"){}else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors){return}this.previous_error_setting=this.jsoneditor.options.show_errors;var i=[];n(t,(function(t,s){if(s.path===e.path){i.push(s.message)}}));this.input.controlgroup=this.control;if(i.length){this.theme.addInputError(this.input,i.join(". ")+".")}else{this.theme.removeInputError(this.input)}}});l.defaults.editors.arraySelectize=l.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle());this.title_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);this.error_holder=document.createElement("div");if(this.schema.description){this.description=this.theme.getDescription(this.schema.description)}this.input=document.createElement("select");this.input.setAttribute("multiple","multiple");var t=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(t);this.container.appendChild(this.error_holder);window.jQuery(this.input).selectize({delimiter:false,createOnBlur:true,create:true})},postBuild:function(){var t=this;this.input.selectize.on("change",(function(e){t.refreshValue();t.onChange(true)}))},destroy:function(){this.empty(true);if(this.title&&this.title.parentNode)this.title.parentNode.removeChild(this.title);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);if(this.input&&this.input.parentNode)this.input.parentNode.removeChild(this.input);this._super()},empty:function(t){},setValue:function(t,e){var i=this;t=t||[];if(!Array.isArray(t))t=[t];this.input.selectize.clearOptions();this.input.selectize.clear(true);t.forEach((function(t){i.input.selectize.addOption({text:t,value:t})}));this.input.selectize.setValue(t);this.refreshValue(e)},refreshValue:function(t){this.value=this.input.selectize.getValue()},showValidationErrors:function(t){var e=this;var i=[];var s=[];n(t,(function(t,r){if(r.path===e.path){i.push(r)}else{s.push(r)}}));if(this.error_holder){if(i.length){var r=[];this.error_holder.innerHTML="";this.error_holder.style.display="";n(i,(function(t,i){e.error_holder.appendChild(e.theme.getErrorMessage(i.message))}))}else{this.error_holder.style.display="none"}}}});l.defaults.editors.starrating=l.defaults.editors.string.extend({build:function(){var t=this;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);if(this.options.infoText)this.infoButton=this.theme.getInfoButton(this.options.infoText);if(this.options.compact)this.container.classList.add("compact");this.ratingContainer=document.createElement("div");this.ratingContainer.classList.add("starrating");this.enum_values=this.schema.enum;this.radioGroup=[];var e=function(e){e.preventDefault();e.stopPropagation();t.setValue(this.value);t.onChange(true)};for(var i=this.enum_values.length-1;i>-1;i--){var s=this.key+"-"+i;var r=this.theme.getFormInputField("radio");r.name=this.formname+"[starrating]";r.value=this.enum_values[i];r.id=s;r.addEventListener("change",e,false);this.radioGroup.push(r);var n=document.createElement("label");n.htmlFor=s;n.title=this.enum_values[i];if(this.options.displayValue){n.classList.add("starrating-display-enabled")}this.ratingContainer.appendChild(r);this.ratingContainer.appendChild(n)}if(this.options.displayValue){this.displayRating=document.createElement("div");this.displayRating.classList.add("starrating-display");this.displayRating.innerText=this.enum_values[0];this.ratingContainer.appendChild(this.displayRating)}if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;for(var a=0;i<this.radioGroup.length;a++){this.radioGroup[a].disabled=true}this.ratingContainer.classList.add("readonly")}var o=this.theme.getContainer();o.appendChild(this.ratingContainer);this.input=o;this.control=this.theme.getFormControl(this.label,o,this.description,this.infoButton);this.container.appendChild(this.control)},enable:function(){if(!this.always_disabled){for(var t=0;t<this.radioGroup.length;t++){this.radioGroup[t].disabled=false}this.ratingContainer.classList.remove("readonly");this._super()}},disable:function(t){if(t)this.always_disabled=true;for(var e=0;e<this.radioGroup.length;e++){this.radioGroup[e].disabled=true}this.ratingContainer.classList.add("readonly");this._super()},destroy:function(){if(this.ratingContainer.parentNode&&this.ratingContainer.parentNode.parentNode)this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode);if(this.label&&this.label.parentNode)this.label.parentNode.removeChild(this.label);if(this.description&&this.description.parentNode)this.description.parentNode.removeChild(this.description);this._super()},getNumColumns:function(){return 2},setValue:function(t){for(var e=0;e<this.radioGroup.length;e++){if(this.radioGroup[e].value==t){this.radioGroup[e].checked=true;this.value=t;if(this.options.displayValue){this.displayRating.innerHTML=this.value}this.onChange();break}}}});l.defaults.editors.datetime=l.defaults.editors.string.extend({build:function(){this._super();if(!this.input)return;if(this.options.placeholder!==e)this.input.setAttribute("placeholder",this.options.placeholder);if(window.flatpickr&&typeof this.options.flatpickr=="object"){this.options.flatpickr.enableTime=this.schema.format=="date"?false:true;this.options.flatpickr.noCalendar=this.schema.format=="time"?true:false;if(this.schema.type=="integer")this.options.flatpickr.mode="single";this.input.setAttribute("data-input","");var t=this.input;if(this.options.flatpickr.wrap===true){var i=[];if(this.options.flatpickr.showToggleButton!==false){var s=this.getButton("",this.schema.format=="time"?"time":"calendar",this.translate("flatpickr_toggle_button"));s.setAttribute("data-toggle","");i.push(s)}if(this.options.flatpickr.showClearButton!==false){var r=this.getButton("","clear",this.translate("flatpickr_clear_button"));r.setAttribute("data-clear","");i.push(r)}var n=this.input.parentNode,a=this.input.nextSibling;var o=this.theme.getInputGroup(this.input,i);if(o!==e){this.options.flatpickr.inline=false;n.insertBefore(o,a);t=o}else{this.options.flatpickr.wrap=false}}this.flatpickr=window.flatpickr(t,this.options.flatpickr);if(this.options.flatpickr.inline===true&&this.options.flatpickr.inlineHideInput===true){this.input.setAttribute("type","hidden")}}},getValue:function(){if(!this.dependenciesFulfilled){return e}if(this.schema.type=="string"){return this.value}if(this.value===""||this.value===e){return e}var t=this.schema.format=="time"?"1970-01-01 "+this.value:this.value;return parseInt(new Date(t).getTime()/1e3)},setValue:function(t,e,i){if(this.schema.type=="string"){this._super(t,e,i)}else if(t>0){var s,r=new Date(t*1e3),n=r.getFullYear(),a=this.zeroPad(r.getMonth()+1),o=this.zeroPad(r.getDate()),l=this.zeroPad(r.getHours()),h=this.zeroPad(r.getMinutes()),d=this.zeroPad(r.getSeconds()),u=[n,a,o].join("-"),c=[l,h,d].join(":");if(this.schema.format=="date")s=u;else if(this.schema.format=="time")s=c;else s=u+" "+c;this.input.value=s}},destroy:function(){if(this.flatpickr)this.flatpickr.destroy();this.flatpickr=null;this._super()},zeroPad:function(t){return("0"+t).slice(-2)}});l.defaults.editors.signature=l.defaults.editors.string.extend({build:function(){var t=this,e;if(!this.options.compact)this.header=this.label=this.theme.getFormInputLabel(this.getTitle());if(this.schema.description)this.description=this.theme.getFormInputDescription(this.schema.description);var i=this.formname.replace(/\W/g,"");if(typeof SignaturePad=="function"){var s="json-editor-style-signature";var r=document.getElementById(s);this.input=this.theme.getFormInputField("hidden");this.container.appendChild(this.input);var a=document.createElement("div");a.classList.add("signature-container");var o=document.createElement("canvas");o.setAttribute("name",i);o.classList.add("signature");a.appendChild(o);t.signaturePad=new window.SignaturePad(o,{onEnd:function(){if(!t.signaturePad.isEmpty()){t.input.value=t.signaturePad.toDataURL()}else{t.input.value=""}t.is_dirty=true;t.refreshValue();t.watch_listener();t.jsoneditor.notifyWatchers(t.path);if(t.parent)t.parent.onChildEditorChange(t);else t.jsoneditor.onChange()}});var l=document.createElement("div");var h=document.createElement("button");h.classList.add("tiny","button");h.innerHTML="Clear signature";l.appendChild(h);a.appendChild(l);if(this.options.compact)this.container.setAttribute("class",this.container.getAttribute("class")+" compact");if(this.schema.readOnly||this.schema.readonly){this.always_disabled=true;n(this.inputs,(function(t,e){o.setAttribute("readOnly","readOnly");e.disabled=true}))}h.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();t.signaturePad.clear();t.signaturePad.strokeEnd()}));this.control=this.theme.getFormControl(this.label,a,this.description);this.container.appendChild(this.control);this.refreshValue();o.width=a.offsetWidth;if(t.options&&t.options.canvas_height){o.height=t.options.canvas_height}else{o.height="300"}}else{var d=document.createElement("p");d.innerHTML="Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad";this.container.appendChild(d)}},setValue:function(t){var e=this,i;if(typeof SignaturePad=="function"){var s=this.formname.replace(/\W/g,"");var r=this.sanitize(t);if(this.value===r){return}e.value=r;e.input.value=e.value;e.signaturePad.clear();if(t&&t!=""){e.signaturePad.fromDataURL(t)}e.watch_listener();e.jsoneditor.notifyWatchers(e.path);return false}},destroy:function(){var t=this,e;var i=this.formname.replace(/\W/g,"");t.signaturePad.off();delete t.signaturePad}});var h=function(){var t=document.documentElement;if(t.matches)return"matches";else if(t.webkitMatchesSelector)return"webkitMatchesSelector";else if(t.mozMatchesSelector)return"mozMatchesSelector";else if(t.msMatchesSelector)return"msMatchesSelector";else if(t.oMatchesSelector)return"oMatchesSelector"}();l.AbstractTheme=i.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var t=document.createElement("div");t.style=t.style||{};t.style.cssFloat="right";t.style.marginLeft="10px";return t},getModal:function(){var t=document.createElement("div");t.style.backgroundColor="white";t.style.border="1px solid black";t.style.boxShadow="3px 3px black";t.style.position="absolute";t.style.zIndex="10";t.style.display="none";return t},getGridContainer:function(){var t=document.createElement("div");return t},getGridRow:function(){var t=document.createElement("div");t.classList.add("row");return t},getGridColumn:function(){var t=document.createElement("div");return t},setGridColumnSize:function(t,e){},getLink:function(t){var e=document.createElement("a");e.setAttribute("href","#");e.appendChild(document.createTextNode(t));return e},disableHeader:function(t){t.style.color="#ccc"},disableLabel:function(t){t.style.color="#ccc"},enableHeader:function(t){t.style.color=""},enableLabel:function(t){t.style.color=""},getInfoButton:function(t){var e=document.createElement("span");e.innerText="ⓘ";e.style.fontSize="16px";e.style.fontWeight="bold";e.style.padding=".25rem";e.style.position="relative";e.style.display="inline-block";var i=document.createElement("span");i.style.fontSize="12px";e.style.fontWeight="normal";i.style["font-family"]="sans-serif";i.style.visibility="hidden";i.style["background-color"]="rgba(50, 50, 50, .75)";i.style.margin="0 .25rem";i.style.color="#FAFAFA";i.style.padding=".5rem 1rem";i.style["border-radius"]=".25rem";i.style.width="20rem";i.style.position="absolute";i.innerText=t;e.onmouseover=function(){i.style.visibility="visible"};e.onmouseleave=function(){i.style.visibility="hidden"};e.appendChild(i);return e},getFormInputLabel:function(t){var e=document.createElement("label");e.appendChild(document.createTextNode(t));return e},getCheckboxLabel:function(t){var e=this.getFormInputLabel(t);e.style.fontWeight="normal";return e},getHeader:function(t){var e=document.createElement("h3");if(typeof t==="string"){e.textContent=t}else{e.appendChild(t)}return e},getCheckbox:function(){var t=this.getFormInputField("checkbox");t.style.display="inline-block";t.style.width="auto";return t},getMultiCheckboxHolder:function(t,e,i){var s=document.createElement("div");if(e){e.style.display="block";s.appendChild(e)}for(var r in t){if(!t.hasOwnProperty(r))continue;t[r].style.display="inline-block";t[r].style.marginRight="20px";s.appendChild(t[r])}if(i)s.appendChild(i);return s},getSelectInput:function(t){var e=document.createElement("select");if(t)this.setSelectOptions(e,t);return e},getSwitcher:function(t){var e=this.getSelectInput(t);e.style.backgroundColor="transparent";e.style.display="inline-block";e.style.fontStyle="italic";e.style.fontWeight="normal";e.style.height="auto";e.style.marginBottom=0;e.style.marginLeft="5px";e.style.padding="0 0 0 3px";e.style.width="auto";return e},getSwitcherOptions:function(t){return t.getElementsByTagName("option")},setSwitcherOptions:function(t,e,i){this.setSelectOptions(t,e,i)},setSelectOptions:function(t,e,i){i=i||[];t.innerHTML="";for(var s=0;s<e.length;s++){var r=document.createElement("option");r.setAttribute("value",e[s]);r.textContent=i[s]||e[s];t.appendChild(r)}},getTextareaInput:function(){var t=document.createElement("textarea");t.style=t.style||{};t.style.width="100%";t.style.height="300px";t.style.boxSizing="border-box";return t},getRangeInput:function(t,e,i){var s=this.getFormInputField("range");s.setAttribute("min",t);s.setAttribute("max",e);s.setAttribute("step",i);return s},getFormInputField:function(t){var e=document.createElement("input");e.setAttribute("type",t);return e},afterInputReady:function(t){},getFormControl:function(t,e,i,s){var r=document.createElement("div");r.classList.add("form-control");if(t)r.appendChild(t);if(e.type==="checkbox"&&t){t.insertBefore(e,t.firstChild);if(s)t.appendChild(s)}else{if(s)t.appendChild(s);r.appendChild(e)}if(i)r.appendChild(i);return r},getIndentedPanel:function(){var t=document.createElement("div");t.style=t.style||{};t.style.paddingLeft="10px";t.style.marginLeft="10px";t.style.borderLeft="1px solid #ccc";return t},getTopIndentedPanel:function(){var t=document.createElement("div");t.style=t.style||{};t.style.paddingLeft="10px";t.style.marginLeft="10px";return t},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(t){var e=document.createElement("p");e.innerHTML=t;return e},getCheckboxDescription:function(t){return this.getDescription(t)},getFormInputDescription:function(t){return this.getDescription(t)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(t,e,i){var s=document.createElement("button");s.type="button";this.setButtonText(s,t,e,i);return s},setButtonText:function(t,e,i,s){t.innerHTML="";if(i){t.appendChild(i);t.innerHTML+=" "}t.appendChild(document.createTextNode(e));if(s)t.setAttribute("title",s)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(t){var e=document.createElement("th");e.textContent=t;return e},getTableCell:function(){var t=document.createElement("td");return t},getErrorMessage:function(t){var e=document.createElement("p");e.style=e.style||{};e.style.color="red";e.appendChild(document.createTextNode(t));return e},addInputError:function(t,e){},removeInputError:function(t){},addTableRowError:function(t){},removeTableRowError:function(t){},getTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.innerHTML="<div style='float: left; width: 130px;' class='tabs' id='"+e+"'></div><div class='content' style='margin-left: 120px;' id='"+e+"'></div><div style='clear:both;'></div>";return i},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.innerHTML="<div class='tabs' style='margin-left: 10px;' id='"+e+"'></div><div style='clear:both;'></div><div class='content' id='"+e+"'></div>";return i},applyStyles:function(t,e){for(var i in e){if(!e.hasOwnProperty(i))continue;t.style[i]=e[i]}},closest:function(t,e){while(t&&t!==document){if(t[h]){if(t[h](e)){return t}else{t=t.parentNode}}else{return false}}return false},insertBasicTopTab:function(t,e){e.firstChild.insertBefore(t,e.firstChild.firstChild)},getTab:function(t,e){var i=document.createElement("div");i.appendChild(t);i.id=e;i.style=i.style||{};this.applyStyles(i,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"});return i},getTopTab:function(t,e){var i=document.createElement("div");i.id=e;i.appendChild(t);i.style=i.style||{};this.applyStyles(i,{float:"left",border:"1px solid #ccc",borderWidth:"1px 1px 0px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",paddingLeft:"5px",paddingRight:"5px",borderBottomRightRadius:0,borderBottomLeftRadius:0,fontWeight:"bold",cursor:"pointer"});return i},getTabContentHolder:function(t){return t.children[1]},getTopTabContentHolder:function(t){return t.children[1]},getTabContent:function(){return this.getIndentedPanel()},getTopTabContent:function(){return this.getTopIndentedPanel()},markTabActive:function(t){this.applyStyles(t.tab,{opacity:1,background:"white"});t.container.style.display=""},markTabInactive:function(t){this.applyStyles(t.tab,{opacity:.5,background:""});t.container.style.display="none"},addTab:function(t,e){t.children[0].appendChild(e)},addTopTab:function(t,e){t.children[0].appendChild(e)},getBlockLink:function(){var t=document.createElement("a");t.style.display="block";return t},getBlockLinkHolder:function(){var t=document.createElement("div");return t},getLinksHolder:function(){var t=document.createElement("div");return t},createMediaLink:function(t,e,i){t.appendChild(e);i.style.width="100%";t.appendChild(i)},createImageLink:function(t,e,i){t.appendChild(e);e.appendChild(i)},getFirstTab:function(t){return t.firstChild.firstChild},getInputGroup:function(t,i){return e}});l.defaults.themes.bootstrap2=l.AbstractTheme.extend({getRangeInput:function(t,e,i){return this._super(t,e,i)},getGridContainer:function(){var t=document.createElement("div");t.classList.add("container-fluid");return t},getGridRow:function(){var t=document.createElement("div");t.classList.add("row-fluid");return t},getFormInputLabel:function(t){var e=this._super(t);e.style.display="inline-block";e.style.fontWeight="bold";return e},setGridColumnSize:function(t,e){t.classList.add("span"+e)},getSelectInput:function(t){var e=this._super(t);e.style.width="auto";e.style.maxWidth="98%";return e},getFormInputField:function(t){var e=this._super(t);e.style.width="98%";return e},afterInputReady:function(t){if(t.controlgroup)return;t.controlgroup=this.closest(t,".control-group");t.controls=this.closest(t,".controls");if(this.closest(t,".compact")){t.controlgroup.className=t.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," ");t.controls.className=t.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," ");t.style.marginBottom=0}if(this.queuedInputErrorText){var e=this.queuedInputErrorText;delete this.queuedInputErrorText;this.addInputError(t,e)}},getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("well","well-small");t.style.paddingBottom=0;return t},getInfoButton:function(t){var e=document.createElement("span");e.classList.add("icon-info-sign","pull-right");e.style.padding=".25rem";e.style.position="relative";e.style.display="inline-block";var i=document.createElement("span");i.style["font-family"]="sans-serif";i.style.visibility="hidden";i.style["background-color"]="rgba(50, 50, 50, .75)";i.style.margin="0 .25rem";i.style.color="#FAFAFA";i.style.padding=".5rem 1rem";i.style["border-radius"]=".25rem";i.style.width="25rem";i.style.transform="translateX(-27rem) translateY(-.5rem)";i.style.position="absolute";i.innerText=t;e.onmouseover=function(){i.style.visibility="visible"};e.onmouseleave=function(){i.style.visibility="hidden"};e.appendChild(i);return e},getFormInputDescription:function(t){var e=document.createElement("p");e.classList.add("help-inline");e.textContent=t;return e},getFormControl:function(t,e,i,s){var r=document.createElement("div");r.classList.add("control-group");var n=document.createElement("div");n.classList.add("controls");if(t&&e.getAttribute("type")==="checkbox"){r.appendChild(n);t.classList.add("checkbox");t.appendChild(e);n.appendChild(t);if(s)n.appendChild(s);n.style.height="30px"}else{if(t){t.classList.add("control-label");r.appendChild(t)}if(s)n.appendChild(s);n.appendChild(e);r.appendChild(n)}if(i)n.appendChild(i);return r},getHeaderButtonHolder:function(){var t=this.getButtonHolder();t.style.marginLeft="10px";return t},getButtonHolder:function(){var t=document.createElement("div");t.classList.add("btn-group");return t},getButton:function(t,e,i){var s=this._super(t,e,i);s.classList.add("btn","btn-default");return s},getTable:function(){var t=document.createElement("table");t.classList.add("table","table-bordered");t.style.width="auto";t.style.maxWidth="none";return t},addInputError:function(t,e){if(!t.controlgroup){this.queuedInputErrorText=e;return}if(!t.controlgroup||!t.controls)return;t.controlgroup.classList.add("error");if(!t.errmsg){t.errmsg=document.createElement("p");t.errmsg.classList.add("help-block","errormsg");t.controls.appendChild(t.errmsg)}else{t.errmsg.style.display=""}t.errmsg.textContent=e},removeInputError:function(t){if(!t.controlgroup){delete this.queuedInputErrorText}if(!t.errmsg)return;t.errmsg.style.display="none";t.controlgroup.classList.remove("error")},getTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("tabbable","tabs-left");i.innerHTML="<ul class='nav nav-tabs'  id='"+e+"'></ul><div class='tab-content well well-small' id='"+e+"'></div>";return i},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("tabbable","tabs-over");i.innerHTML="<ul class='nav nav-tabs' id='"+e+"'></ul><div class='tab-content well well-small'  id='"+e+"'></div>";return i},getTab:function(t,e){var i=document.createElement("li");i.classList.add("nav-item");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTopTab:function(t,e){var i=document.createElement("li");i.classList.add("nav-item");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTabContentHolder:function(t){return t.children[1]},getTopTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");t.classList.add("tab-pane");return t},getTopTabContent:function(){var t=document.createElement("div");t.classList.add("tab-pane");return t},markTabActive:function(t){t.tab.classList.add("active");t.container.classList.add("active")},markTabInactive:function(t){t.tab.classList.remove("active");t.container.classList.remove("active")},addTab:function(t,e){t.children[0].appendChild(e)},addTopTab:function(t,e){t.children[0].appendChild(e)},getProgressBar:function(){var t=document.createElement("div");t.classList.add("progress");var e=document.createElement("div");e.classList.add("bar");e.style.width="0%";t.appendChild(e);return t},updateProgressBar:function(t,e){if(!t)return;t.firstChild.style.width=e+"%"},updateProgressBarUnknown:function(t){if(!t)return;t.classList.add("progress","progress-striped","active");t.firstChild.style.width="100%"},getInputGroup:function(t,e){if(!t)return;var i=document.createElement("div");i.classList.add("input-append");i.appendChild(t);for(var s=0;s<e.length;s++){e[s].classList.add("btn");i.appendChild(e[s])}return i}});l.defaults.themes.bootstrap3=l.AbstractTheme.extend({getSelectInput:function(t){var e=this._super(t);e.classList.add("form-control");return e},setGridColumnSize:function(t,e){t.classList.add("col-md-"+e)},afterInputReady:function(t){if(t.controlgroup)return;t.controlgroup=this.closest(t,".form-group");if(this.closest(t,".compact")){t.controlgroup.style.marginBottom=0}if(this.queuedInputErrorText){var e=this.queuedInputErrorText;delete this.queuedInputErrorText;this.addInputError(t,e)}},getTextareaInput:function(){var t=document.createElement("textarea");t.classList.add("form-control");return t},getRangeInput:function(t,e,i){return this._super(t,e,i)},getFormInputField:function(t){var e=this._super(t);if(t!=="checkbox"){e.classList.add("form-control")}return e},getFormControl:function(t,e,i,s){var r=document.createElement("div");if(t&&e.type==="checkbox"){r.classList.add("checkbox");t.appendChild(e);t.style.fontSize="14px";r.style.marginTop="0";if(s)r.appendChild(s);r.appendChild(t);e.style.position="relative";e.style.cssFloat="left"}else{r.classList.add("form-group");if(t){t.classList.add("control-label");r.appendChild(t)}if(s)r.appendChild(s);r.appendChild(e)}if(i)r.appendChild(i);return r},getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("well","well-sm");t.style.paddingBottom=0;return t},getInfoButton:function(t){var e=document.createElement("span");e.classList.add("glyphicon","glyphicon-info-sign","pull-right");e.style.padding=".25rem";e.style.position="relative";e.style.display="inline-block";var i=document.createElement("span");i.style["font-family"]="sans-serif";i.style.visibility="hidden";i.style["background-color"]="rgba(50, 50, 50, .75)";i.style.margin="0 .25rem";i.style.color="#FAFAFA";i.style.padding=".5rem 1rem";i.style["border-radius"]=".25rem";i.style.width="25rem";i.style.transform="translateX(-27rem) translateY(-.5rem)";i.style.position="absolute";i.innerText=t;e.onmouseover=function(){i.style.visibility="visible"};e.onmouseleave=function(){i.style.visibility="hidden"};e.appendChild(i);return e},getFormInputDescription:function(t){var e=document.createElement("p");e.classList.add("help-block");e.innerHTML=t;return e},getHeaderButtonHolder:function(){var t=this.getButtonHolder();t.style.marginLeft="10px";return t},getButtonHolder:function(){var t=document.createElement("div");t.classList.add("btn-group");return t},getButton:function(t,e,i){var s=this._super(t,e,i);s.classList.add("btn","btn-default");return s},getTable:function(){var t=document.createElement("table");t.classList.add("table","table-bordered");t.style.width="auto";t.style.maxWidth="none";return t},addInputError:function(t,e){if(!t.controlgroup){this.queuedInputErrorText=e;return}t.controlgroup.classList.add("has-error");if(!t.errmsg){t.errmsg=document.createElement("p");t.errmsg.classList.add("help-block","errormsg");t.controlgroup.appendChild(t.errmsg)}else{t.errmsg.style.display=""}t.errmsg.textContent=e},removeInputError:function(t){if(!t.controlgroup){delete this.queuedInputErrorText}if(!t.errmsg)return;t.errmsg.style.display="none";t.controlgroup.classList.remove("has-error")},getTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.innerHTML="<ul class='col-md-2 nav nav-pills nav-stacked' id='"+e+"' role='tablist'></ul>"+"<div class='col-md-10 tab-content well well-small'  id='"+e+"'></div>";return i},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.innerHTML="<ul class='nav nav-tabs' id='"+e+"' role='tablist'></ul>"+"<div class='tab-content well well-small'  id='"+e+"'></div>";return i},getTab:function(t,e){var i=document.createElement("li");i.setAttribute("role","presentation");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);s.setAttribute("aria-controls",e);s.setAttribute("role","tab");s.setAttribute("data-toggle","tab");i.appendChild(s);return i},getTopTab:function(t,e){var i=document.createElement("li");i.setAttribute("role","presentation");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);s.setAttribute("aria-controls",e);s.setAttribute("role","tab");s.setAttribute("data-toggle","tab");i.appendChild(s);return i},getTabContent:function(){var t=document.createElement("div");t.classList.add("tab-pane");t.setAttribute("role","tabpanel");return t},getTopTabContent:function(){var t=document.createElement("div");t.classList.add("tab-pane");t.setAttribute("role","tabpanel");return t},markTabActive:function(t){t.tab.classList.add("active");t.container.classList.add("active")},markTabInactive:function(t){t.tab.classList.remove("active");t.container.classList.remove("active")},getProgressBar:function(){var t=0,e=100,i=0;var s=document.createElement("div");s.classList.add("progress");var r=document.createElement("div");r.classList.add("progress-bar");r.setAttribute("role","progressbar");r.setAttribute("aria-valuenow",i);r.setAttribute("aria-valuemin",t);r.setAttribute("aria-valuenax",e);r.innerHTML=i+"%";s.appendChild(r);return s},updateProgressBar:function(t,e){if(!t)return;var i=t.firstChild;var s=e+"%";i.setAttribute("aria-valuenow",e);i.style.width=s;i.innerHTML=s},updateProgressBarUnknown:function(t){if(!t)return;var e=t.firstChild;t.classList.add("progress","progress-striped","active");e.removeAttribute("aria-valuenow");e.style.width="100%";e.innerHTML=""},getInputGroup:function(t,e){if(!t)return;var i=document.createElement("div");i.classList.add("input-group");i.appendChild(t);var s=document.createElement("div");s.classList.add("input-group-btn");i.appendChild(s);for(var r=0;r<e.length;r++){s.appendChild(e[r])}return i}});l.defaults.themes.bootstrap4=l.AbstractTheme.extend({getSelectInput:function(t){var e=this._super(t);e.classList.add("form-control");return e},setGridColumnSize:function(t,e){t.classList.add("col-md-"+e)},afterInputReady:function(t){if(t.controlgroup)return;t.controlgroup=this.closest(t,".form-group");if(this.closest(t,".compact")){t.controlgroup.style.marginBottom=0}},getTextareaInput:function(){var t=document.createElement("textarea");t.classList.add("form-control");return t},getRangeInput:function(t,e,i){return this._super(t,e,i)},getFormInputField:function(t){var e=this._super(t);if(t!=="checkbox"){e.classList.add("form-control")}return e},getFormControl:function(t,e,i){var s=document.createElement("div");if(t&&e.type==="checkbox"){s.classList.add("checkbox");t.appendChild(e);t.style.fontSize="14px";s.style.marginTop="0";s.appendChild(t);e.style.position="relative";e.style.cssFloat="left"}else{s.classList.add("form-group");if(t){t.classList.add("form-control-label");s.appendChild(t)}s.appendChild(e)}if(i)s.appendChild(i);return s},getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("card","card-body","bg-light");return t},getFormInputDescription:function(t){var e=document.createElement("p");e.classList.add("form-text");e.innerHTML=t;return e},getHeaderButtonHolder:function(){var t=this.getButtonHolder();t.style.marginLeft="10px";return t},getButtonHolder:function(){var t=document.createElement("div");t.classList.add("btn-group");return t},getButton:function(t,e,i){var s=this._super(t,e,i);s.classList.add("btn","btn-secondary");return s},getTable:function(){var t=document.createElement("table");t.classList.add("table-bordered","table-sm");t.style.width="auto";t.style.maxWidth="none";return t},addInputError:function(t,e){if(!t.controlgroup)return;t.controlgroup.classList.add("has-error");if(!t.errmsg){t.errmsg=document.createElement("p");t.errmsg.classList.add("form-text","errormsg");t.controlgroup.appendChild(t.errmsg)}else{t.errmsg.style.display=""}t.errmsg.textContent=e},removeInputError:function(t){if(!t.errmsg)return;t.errmsg.style.display="none";t.controlgroup.classList.remove("has-error")},getTabHolder:function(t){var e=document.createElement("div");var i=typeof t==="undefined"?"":t;e.innerHTML="<div class='col-md-2' id='"+i+"'><ul class='nav flex-column nav-pills'></ul></div><div class='tab-content col-md-10' id='"+i+"'></div>";e.classList.add("row");return e},addTab:function(t,e){t.children[0].children[0].appendChild(e)},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.innerHTML="<ul class='nav nav-tabs' id='"+e+"'></ul><div class='card-body tab-content' id='"+e+"'></div>";return i},getTab:function(t,e){var i=document.createElement("li");i.classList.add("nav-item");var s=document.createElement("a");s.classList.add("nav-link");s.setAttribute("style","padding:10px;");s.setAttribute("href","#"+e);s.setAttribute("data-toggle","tab");s.appendChild(t);i.appendChild(s);return i},getTopTab:function(t,e){var i=document.createElement("li");i.classList.add("nav-item");var s=document.createElement("a");s.classList.add("nav-link");s.setAttribute("href","#"+e);s.setAttribute("data-toggle","tab");s.appendChild(t);i.appendChild(s);return i},getTabContent:function(){var t=document.createElement("div");t.classList.add("tab-pane");t.setAttribute("role","tabpanel");return t},getTopTabContent:function(){var t=document.createElement("div");t.classList.add("tab-pane");t.setAttribute("role","tabpanel");return t},markTabActive:function(t){t.tab.classList.add("active");t.container.classList.add("active")},markTabInactive:function(t){t.tab.classList.remove("active");t.container.classList.remove("active")},getProgressBar:function(){var t=0,e=100,i=0;var s=document.createElement("div");s.classList.add("progress");var r=document.createElement("div");r.classList.add("progress-bar");r.setAttribute("role","progressbar");r.setAttribute("aria-valuenow",i);r.setAttribute("aria-valuemin",t);r.setAttribute("aria-valuenax",e);r.innerHTML=i+"%";s.appendChild(r);return s},updateProgressBar:function(t,e){if(!t)return;var i=t.firstChild;var s=e+"%";i.setAttribute("aria-valuenow",e);i.style.width=s;i.innerHTML=s},updateProgressBarUnknown:function(t){if(!t)return;var e=t.firstChild;t.classList.add("progress","progress-striped","active");e.removeAttribute("aria-valuenow");e.style.width="100%";e.innerHTML=""},getInputGroup:function(t,e){if(!t)return;var i=document.createElement("div");i.classList.add("input-group");i.appendChild(t);var s=document.createElement("div");s.classList.add("input-group-btn");i.appendChild(s);for(var r=0;r<e.length;r++){s.appendChild(e[r])}return i}});l.defaults.themes.foundation=l.AbstractTheme.extend({getChildEditorHolder:function(){var t=document.createElement("div");t.style.marginBottom="15px";return t},getSelectInput:function(t){var e=this._super(t);e.style.minWidth="none";e.style.padding="5px";e.style.marginTop="3px";return e},getSwitcher:function(t){var e=this._super(t);e.style.paddingRight="8px";return e},afterInputReady:function(t){if(t.group)return;if(this.closest(t,".compact")){t.style.marginBottom=0}t.group=this.closest(t,".form-control");if(this.queuedInputErrorText){var e=this.queuedInputErrorText;delete this.queuedInputErrorText;this.addInputError(t,e)}},getFormInputLabel:function(t){var e=this._super(t);e.style.display="inline-block";return e},getFormInputField:function(t){var e=this._super(t);e.style.width="100%";e.style.marginBottom=t==="checkbox"?"0":"12px";return e},getFormInputDescription:function(t){var e=document.createElement("p");e.textContent=t;e.style.marginTop="-10px";e.style.fontStyle="italic";return e},getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("panel");t.style.paddingBottom=0;return t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();t.style.display="inline-block";t.style.marginLeft="10px";t.style.verticalAlign="middle";return t},getButtonHolder:function(){var t=document.createElement("div");t.classList.add("button-group");return t},getButton:function(t,e,i){var s=this._super(t,e,i);s.classList.add("small","button");return s},addInputError:function(t,e){if(!t.group){this.queuedInputErrorText=e;return}t.group.classList.add("error");if(!t.errmsg){t.insertAdjacentHTML("afterend",'<small class="error"></small>');t.errmsg=t.parentNode.getElementsByClassName("error")[0]}else{t.errmsg.style.display=""}t.errmsg.textContent=e},removeInputError:function(t){if(!t.group){delete this.queuedInputErrorText}if(!t.errmsg)return;t.group.classList.remove("error");t.errmsg.style.display="none"},getProgressBar:function(){var t=document.createElement("div");t.classList.add("progress");var e=document.createElement("span");e.classList.add("meter");e.style.width="0%";t.appendChild(e);return t},updateProgressBar:function(t,e){if(!t)return;t.firstChild.style.width=e+"%"},updateProgressBarUnknown:function(t){if(!t)return;t.firstChild.style.width="100%"},getInputGroup:function(t,i){if(!t)return e;var s=document.createElement("div");s.classList.add("input-group");t.classList.add("input-group-field");s.appendChild(t);for(var r=0;r<i.length;r++){var n=document.createElement("div");n.classList.add("input-group-button");n.style.verticalAlign="top";i[r].classList.remove("small");n.appendChild(i[r]);s.appendChild(n)}return s}});l.defaults.themes.foundation3=l.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var t=this._super();t.style.fontSize=".6em";return t},getFormInputLabel:function(t){var e=this._super(t);e.style.fontWeight="bold";return e},getTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("row");i.innerHTML='<dl class="tabs vertical two columns" id="'+e+'"></dl><div class="tabs-content ten columns" id="'+e+'"></div>';return i},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("row");i.innerHTML='<dl class="tabs horizontal" style="padding-left: 10px; margin-left: 10px;" id="'+e+'"></dl><div class="tabs-content twelve columns" style="padding: 10px; margin-left: 10px;" id="'+e+'"></div>';return i},setGridColumnSize:function(t,e){var i=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];t.classList.add("columns",i[e])},getTab:function(t,e){var i=document.createElement("dd");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTopTab:function(t,e){var i=document.createElement("dd");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTabContentHolder:function(t){return t.children[1]},getTopTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");t.classList.add("content","active");t.style.paddingLeft="5px";return t},getTopTabContent:function(){var t=document.createElement("div");t.classList.add("content","active");t.style.paddingLeft="5px";return t},markTabActive:function(t){t.tab.classList.add("active");t.container.style.display=""},markTabInactive:function(t){t.tab.classList.remove("active");t.container.style.display="none"},addTab:function(t,e){t.children[0].appendChild(e)},addTopTab:function(t,e){t.children[0].appendChild(e)}});l.defaults.themes.foundation4=l.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var t=this._super();t.style.fontSize=".6em";return t},setGridColumnSize:function(t,e){t.classList.add("columns","large-"+e)},getFormInputDescription:function(t){var e=this._super(t);e.style.fontSize=".8rem";return e},getFormInputLabel:function(t){var e=this._super(t);e.style.fontWeight="bold";return e}});l.defaults.themes.foundation5=l.defaults.themes.foundation.extend({getFormInputDescription:function(t){var e=this._super(t);e.style.fontSize=".8rem";return e},setGridColumnSize:function(t,e){t.classList.add("columns","medium-"+e)},getButton:function(t,e,i){var s=this._super(t,e,i);s.className=s.className.replace(/\s*small/g,"")+" tiny";return s},getTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.innerHTML='<dl class="tabs vertical" id="'+e+'"></dl><div class="tabs-content vertical" id="'+e+'"></div>';return i},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("row");i.innerHTML='<dl class="tabs horizontal" style="padding-left: 10px;" id="'+e+'"></dl><div class="tabs-content horizontal" style="padding: 10px;" id="'+e+'"></div>';return i},getTab:function(t,e){var i=document.createElement("dd");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTopTab:function(t,e){var i=document.createElement("dd");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTabContentHolder:function(t){return t.children[1]},getTopTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");t.classList.add("tab-content","active");t.style.paddingLeft="5px";return t},getTopTabContent:function(){var t=document.createElement("div");t.classList.add("tab-content","active");t.style.paddingLeft="5px";return t},markTabActive:function(t){t.tab.classList.add("active");t.container.style.display=""},markTabInactive:function(t){t.tab.classList.remove("active");t.container.style.display="none"},addTab:function(t,e){t.children[0].appendChild(e)},addTopTab:function(t,e){t.children[0].appendChild(e)}});l.defaults.themes.foundation6=l.defaults.themes.foundation5.extend({getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("callout","secondary");t.style="padding-left: 10px; margin-left: 10px;";return t},getButtonHolder:function(){var t=document.createElement("div");t.classList.add("button-group","tiny");t.style.marginBottom=0;return t},getFormInputLabel:function(t){var e=this._super(t);e.style.display="block";return e},getFormControl:function(t,e,i,s){var r=document.createElement("div");r.classList.add("form-control");if(t)r.appendChild(t);if(e.type==="checkbox"){t.insertBefore(e,t.firstChild)}else if(t){if(s)t.appendChild(s);t.appendChild(e)}else{if(s)r.appendChild(s);r.appendChild(e)}if(i)t.appendChild(i);return r},addInputError:function(t,e){if(!t.group)return;t.group.classList.add("error");if(!t.errmsg){var i=document.createElement("span");i.classList.add("form-error","is-visible");t.group.getElementsByTagName("label")[0].appendChild(i);t.classList.add("is-invalid-input");t.errmsg=i}else{t.errmsg.style.display="";t.className=""}t.errmsg.textContent=e},removeInputError:function(t){if(!t.errmsg)return;t.classList.remove("is-invalid-input");if(t.errmsg.parentNode){t.errmsg.parentNode.removeChild(t.errmsg)}},getTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("grid-x");i.innerHTML='<div class="medium-2 cell" style="float: left;"><ul class="vertical tabs" data-tabs id="'+e+'"></ul></div><div class="medium-10 cell" style="float: left;"><div class="tabs-content" data-tabs-content="'+e+'"></div></div>';return i},getTopTabHolder:function(t){var e=typeof t==="undefined"?"":t;var i=document.createElement("div");i.classList.add("grid-y");i.innerHTML='<div className="cell"><ul class="tabs" data-tabs id="'+e+'"></ul><div class="tabs-content" data-tabs-content="'+e+'"></div></div>';return i},insertBasicTopTab:function(t,e){e.firstChild.firstChild.insertBefore(t,e.firstChild.firstChild.firstChild)},getTab:function(t,e){var i=document.createElement("li");i.classList.add("tabs-title");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTopTab:function(t,e){var i=document.createElement("li");i.classList.add("tabs-title");var s=document.createElement("a");s.setAttribute("href","#"+e);s.appendChild(t);i.appendChild(s);return i},getTabContentHolder:function(t){return t.children[1].firstChild},getTopTabContentHolder:function(t){return t.firstChild.children[1]},getTabContent:function(){var t=document.createElement("div");t.classList.add("tabs-panel");t.style.paddingLeft="5px";return t},getTopTabContent:function(){var t=document.createElement("div");t.classList.add("tabs-panel");t.style.paddingLeft="5px";return t},markTabActive:function(t){t.tab.classList.add("is-active");t.tab.firstChild.setAttribute("aria-selected","true");t.container.classList.add("is-active");t.container.setAttribute("aria-selected","true")},markTabInactive:function(t){t.tab.classList.remove("is-active");t.tab.firstChild.removeAttribute("aria-selected");t.container.classList.remove("is-active");t.container.removeAttribute("aria-selected")},addTab:function(t,e){t.children[0].firstChild.appendChild(e)},addTopTab:function(t,e){t.firstChild.children[0].appendChild(e)},getFirstTab:function(t){return t.firstChild.firstChild.firstChild}});l.defaults.themes.html=l.AbstractTheme.extend({getFormInputLabel:function(t){var e=this._super(t);e.style.display="block";e.style.marginBottom="3px";e.style.fontWeight="bold";return e},getFormInputDescription:function(t){var e=this._super(t);e.style.fontSize=".8em";e.style.margin=0;e.style.display="inline-block";e.style.fontStyle="italic";return e},getIndentedPanel:function(){var t=this._super();t.style.border="1px solid #ddd";t.style.padding="5px";t.style.margin="10px";t.style.borderRadius="3px";return t},getTopIndentedPanel:function(){return this.getIndentedPanel()},getChildEditorHolder:function(){var t=this._super();t.style.marginBottom="8px";return t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();t.style.display="inline-block";t.style.marginLeft="10px";t.style.fontSize=".8em";t.style.verticalAlign="middle";return t},getTable:function(){var t=this._super();t.style.borderBottom="1px solid #ccc";t.style.marginBottom="5px";return t},addInputError:function(t,e){t.style.borderColor="red";if(!t.errmsg){var i=this.closest(t,".form-control");t.errmsg=document.createElement("div");t.errmsg.setAttribute("class","errmsg");t.errmsg.style=t.errmsg.style||{};t.errmsg.style.color="red";i.appendChild(t.errmsg)}else{t.errmsg.style.display="block"}t.errmsg.innerHTML="";t.errmsg.appendChild(document.createTextNode(e))},removeInputError:function(t){t.style.borderColor="";if(t.errmsg)t.errmsg.style.display="none"},getProgressBar:function(){var t=100,e=0;var i=document.createElement("progress");i.setAttribute("max",t);i.setAttribute("value",e);return i},updateProgressBar:function(t,e){if(!t)return;t.setAttribute("value",e)},updateProgressBarUnknown:function(t){if(!t)return;t.removeAttribute("value")}});l.defaults.themes.jqueryui=l.AbstractTheme.extend({getTable:function(){var t=this._super();t.setAttribute("cellpadding",5);t.setAttribute("cellspacing",0);return t},getTableHeaderCell:function(t){var e=this._super(t);e.classList.add("ui-state-active");e.style.fontWeight="bold";return e},getTableCell:function(){var t=this._super();t.classList.add("ui-widget-content");return t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();t.style.marginLeft="10px";t.style.fontSize=".6em";t.style.display="inline-block";return t},getFormInputDescription:function(t){var e=this.getDescription(t);e.style.marginLeft="10px";e.style.display="inline-block";return e},getFormControl:function(t,e,i,s){var r=this._super(t,e,i,s);if(e.type==="checkbox"){r.style.lineHeight="25px";r.style.padding="3px 0"}else{r.style.padding="4px 0 8px 0"}return r},getDescription:function(t){var e=document.createElement("span");e.style.fontSize=".8em";e.style.fontStyle="italic";e.textContent=t;return e},getButtonHolder:function(){var t=document.createElement("div");t.classList.add("ui-buttonset");t.style.fontSize=".7em";return t},getFormInputLabel:function(t){var e=document.createElement("label");e.style.fontWeight="bold";e.style.display="block";e.textContent=t;return e},getButton:function(t,e,i){var s=document.createElement("button");s.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all");if(e&&!t){s.classList.add("ui-button-icon-only");e.classList.add("ui-button-icon-primary","ui-icon-primary");s.appendChild(e)}else if(e){s.classList.add("ui-button-text-icon-primary");e.classList.add("ui-button-icon-primary","ui-icon-primary");s.appendChild(e)}else{s.classList.add("ui-button-text-only")}var r=document.createElement("span");r.classList.add("ui-button-text");r.textContent=t||i||".";s.appendChild(r);s.setAttribute("title",i);return s},setButtonText:function(t,e,i,s){t.innerHTML="";t.classList.add("ui-button","ui-widget","ui-state-default","ui-corner-all");if(i&&!e){t.classList.add("ui-button-icon-only");i.classList.add("ui-button-icon-primary","ui-icon-primary");t.appendChild(i)}else if(i){t.classList.add("ui-button-text-icon-primary");i.classList.add("ui-button-icon-primary","ui-icon-primary");t.appendChild(i)}else{t.classList.add("ui-button-text-only")}var r=document.createElement("span");r.classList.add("ui-button-text");r.textContent=e||s||".";t.appendChild(r);t.setAttribute("title",s)},getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("ui-widget-content","ui-corner-all");t.style.padding="1em 1.4em";t.style.marginBottom="20px";return t},afterInputReady:function(t){if(t.controls)return;t.controls=this.closest(t,".form-control");if(this.queuedInputErrorText){var e=this.queuedInputErrorText;delete this.queuedInputErrorText;this.addInputError(t,e)}},addInputError:function(t,e){if(!t.controls){this.queuedInputErrorText=e;return}if(!t.errmsg){t.errmsg=document.createElement("div");t.errmsg.classList.add("ui-state-error");t.controls.appendChild(t.errmsg)}else{t.errmsg.style.display=""}t.errmsg.textContent=e},removeInputError:function(t){if(!t.controls){delete this.queuedInputErrorText}if(!t.errmsg)return;t.errmsg.style.display="none"},markTabActive:function(t){t.tab.classList.remove("ui-widget-header");t.tab.classList.add("ui-state-active");t.container.style.display=""},markTabInactive:function(t){t.tab.classList.add("ui-widget-header");t.tab.classList.remove("ui-state-active");t.container.style.display="none"}});l.defaults.themes.barebones=l.AbstractTheme.extend({getFormInputLabel:function(t){var e=this._super(t);return e},getFormInputDescription:function(t){var e=this._super(t);return e},getIndentedPanel:function(){var t=this._super();return t},getChildEditorHolder:function(){var t=this._super();return t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t},getTable:function(){var t=this._super();return t},addInputError:function(t,e){if(!t.errmsg){var i=this.closest(t,".form-control");t.errmsg=document.createElement("div");t.errmsg.setAttribute("class","errmsg");i.appendChild(t.errmsg)}else{t.errmsg.style.display="block"}t.errmsg.innerHTML="";t.errmsg.appendChild(document.createTextNode(e))},removeInputError:function(t){t.style.borderColor="";if(t.errmsg)t.errmsg.style.display="none"},getProgressBar:function(){var t=100,e=0;var i=document.createElement("progress");i.setAttribute("max",t);i.setAttribute("value",e);return i},updateProgressBar:function(t,e){if(!t)return;t.setAttribute("value",e)},updateProgressBarUnknown:function(t){if(!t)return;t.removeAttribute("value")}});l.defaults.themes.materialize=l.AbstractTheme.extend({setGridColumnSize:function(t,e){t.classList.add("col s"+e)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("span")},getButton:function(t,e,i){if(t){e.classList.add("left");e.style.marginRight="5px"}var s=this._super(t,e,i);s.classList.add("waves-effect","waves-light","btn");s.style.fontSize="0.75rem";s.style.height="24px";s.style.lineHeight="24px";s.style.marginLeft="5px";s.style.padding="0 0.5rem";return s},getFormControl:function(t,e,i,s){var r,n=e.type;if(n&&n==="checkbox"){r=document.createElement("p");if(t){var a=document.createElement("span");a.innerHTML=t.innerHTML;t.innerHTML="";t.setAttribute("for",e.id);r.appendChild(t);t.appendChild(e);t.appendChild(a)}else{r.appendChild(e)}return r}r=this._super(t,e,i,s);if(!n||!n.startsWith("select"))r.classList.add("input-field");if(n&&n==="color"){e.style.height="3rem";e.style.width="100%";e.style.margin="5px 0 20px 0";e.style.padding="3px";if(t){t.style.transform="translateY(-14px) scale(0.8)";t.style["-webkit-transform"]="translateY(-14px) scale(0.8)";t.style["-webkit-transform-origin"]="0 0";t.style["transform-origin"]="0 0"}}return r},getDescription:function(t){var e=document.createElement("div");e.classList.add("grey-text");e.style.marginTop="-15px";e.innerHTML=t;return e},getHeader:function(t){var e=document.createElement("h5");if(typeof t==="string"){e.textContent=t}else{e.appendChild(t)}return e},getChildEditorHolder:function(){var t=document.createElement("div");t.marginBottom="10px";return t},getIndentedPanel:function(){var t=document.createElement("div");t.classList.add("card-panel");return t},getTable:function(){var t=document.createElement("table");t.classList.add("striped","bordered");t.style.marginBottom="10px";return t},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(t){var e=document.createElement("th");e.textContent=t;return e},getTableCell:function(){var t=document.createElement("td");return t},getTabHolder:function(){var t=['<div class="col s2">','   <ul class="tabs" style="height: auto; margin-top: 0.82rem; -ms-flex-direction: column; -webkit-flex-direction: column; flex-direction: column; display: -webkit-flex; display: flex;">',"   </ul>","</div>",'<div class="col s10">',"<div>"].join("\n");var e=document.createElement("div");e.classList.add("row","card-panel");e.innerHTML=t;return e},addTab:function(t,e){t.children[0].children[0].appendChild(e)},getTab:function(t){var e=document.createElement("li");e.classList.add("tab");this.applyStyles(e,{width:"100%",textAlign:"left",lineHeight:"24px",height:"24px",fontSize:"14px",cursor:"pointer"});e.appendChild(t);return e},markTabActive:function(t){this.applyStyles(t,{width:"100%",textAlign:"left",lineHeight:"24px",height:"24px",fontSize:"14px",cursor:"pointer",color:"rgba(238,110,115,1)",transition:"border-color .5s ease",borderRight:"3px solid #424242"})},markTabInactive:function(t){this.applyStyles(t,{width:"100%",textAlign:"left",lineHeight:"24px",height:"24px",fontSize:"14px",cursor:"pointer",color:"rgba(238,110,115,0.7)"})},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){return document.createElement("div")},addInputError:function(t,e){var i=t.parentNode,s;if(!i)return;this.removeInputError(t);s=document.createElement("div");s.classList.add("error-text","red-text");s.textContent=e;i.appendChild(s)},removeInputError:function(t){var e=t.parentElement,i;if(!e)return;i=e.getElementsByClassName("error-text");for(var s=0;s<i.length;s++)e.removeChild(i[s])},addTableRowError:function(t){},removeTableRowError:function(t){},getSelectInput:function(t){var e=this._super(t);e.classList.add("browser-default");return e},getTextareaInput:function(){var t=document.createElement("textarea");t.style.marginBottom="5px";t.style.fontSize="1rem";t.style.fontFamily="monospace";return t},getCheckbox:function(){var t=this.getFormInputField("checkbox");t.id=this.createUuid();return t},getModal:function(){var t=document.createElement("div");t.classList.add("card-panel","z-depth-3");t.style.padding="5px";t.style.position="absolute";t.style.zIndex="10";t.style.display="none";return t},createUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.random()*16|0,i=t=="x"?e:e&3|8;return i.toString(16)}))}});l.AbstractIconLib=i.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(t){if(this.mapping[t])return this.icon_prefix+this.mapping[t];else return null},getIcon:function(t){var e=this.getIconClass(t);if(!e)return null;var i=document.createElement("i");i.classList.add.apply(i.classList,e.split(" "));return i}});l.defaults.iconlibs.bootstrap2=l.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down",clear:"remove-circle",time:"time",calendar:"calendar"},icon_prefix:"icon-"});l.defaults.iconlibs.bootstrap3=l.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down",clear:"remove-circle",time:"time",calendar:"calendar"},icon_prefix:"glyphicon glyphicon-"});l.defaults.iconlibs.fontawesome3=l.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down",clear:"remove-circle",time:"time",calendar:"calendar"},icon_prefix:"icon-"});l.defaults.iconlibs.fontawesome4=l.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down",copy:"files-o",clear:"times-circle-o",time:"clock-o",calendar:"calendar"},icon_prefix:"fa fa-"});l.defaults.iconlibs.foundation2=l.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow",clear:"remove",time:"clock",calendar:"calendar"},icon_prefix:"foundicon-"});l.defaults.iconlibs.foundation3=l.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down",clear:"x-circle",time:"clock",calendar:"calendar"},icon_prefix:"fi-"});l.defaults.iconlibs.jqueryui=l.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s",clear:"circle-close",time:"time",calendar:"calendar"},icon_prefix:"ui-icon ui-icon-"});l.defaults.iconlibs.materialicons=l.AbstractIconLib.extend({mapping:{collapse:"arrow_drop_up",expand:"arrow_drop_down",delete:"delete",edit:"edit",add:"add",cancel:"cancel",save:"save",moveup:"arrow_upward",movedown:"arrow_downward",copy:"content_copy",clear:"highlight_off",time:"access_time",calendar:"calendar_today"},icon_class:"material-icons",icon_prefix:"",getIconClass:function(t){return this.icon_class},getIcon:function(t){var e=this.mapping[t];if(!e)return null;var i=document.createElement("i");i.classList.add(this.icon_class);var s=document.createTextNode(e);i.appendChild(s);return i}});l.defaults.templates["default"]=function(){return{compile:function(t){var e=t.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g);var i=e&&e.length;if(!i)return function(){return t};var s=[];var r=function(t){var i=e[t].replace(/[{}]+/g,"").trim().split(".");var r=i.length;var n;if(r>1){var a;n=function(e){a=e;for(t=0;t<r;t++){a=a[i[t]];if(!a)break}return a}}else{i=i[0];n=function(t){return t[i]}}s.push({s:e[t],r:n})};for(var n=0;n<i;n++){r(n)}return function(e){var r=t+"";var a;for(n=0;n<i;n++){a=s[n];r=r.replace(a.s,a.r(e))}return r}}}};l.defaults.templates.ejs=function(){if(!window.EJS)return false;return{compile:function(t){var e=new window.EJS({text:t});return function(t){return e.render(t)}}}};l.defaults.templates.handlebars=function(){return window.Handlebars};l.defaults.templates.hogan=function(){if(!window.Hogan)return false;return{compile:function(t){var e=window.Hogan.compile(t);return function(t){return e.render(t)}}}};l.defaults.templates.lodash=function(){if(!window._)return false;return{compile:function(t){return function(e){return window._.template(t)(e)}}}};l.defaults.templates.markup=function(){if(!window.Mark||!window.Mark.up)return false;return{compile:function(t){return function(e){return window.Mark.up(t,e)}}}};l.defaults.templates.mustache=function(){if(!window.Mustache)return false;return{compile:function(t){return function(e){return window.Mustache.render(t,e)}}}};l.defaults.templates.swig=function(){return window.swig};l.defaults.templates.underscore=function(){if(!window._)return false;return{compile:function(t){return function(e){return window._.template(t,e)}}}};l.defaults.theme="html";l.defaults.template="default";l.defaults.options={};l.defaults.options.prompt_before_delete=true;l.defaults.translate=function(t,e){var i=l.defaults.languages[l.defaults.language];if(!i)throw"Unknown language "+l.defaults.language;var s=i[t]||l.defaults.languages[l.defaults.default_language][t];if(typeof s==="undefined")throw"Unknown translate string "+t;if(e){for(var r=0;r<e.length;r++){s=s.replace(new RegExp("\\{\\{"+r+"}}","g"),e[r])}}return s};l.defaults.default_language="en";l.defaults.language=l.defaults.default_language;l.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",error_date:"Date must be in the format {{0}}",error_time:"Time must be in the format {{0}}",error_datetime_local:"Datetime must be in the format {{0}}",error_invalid_epoch:"Date must be greater than 1 January 1970",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand",flatpickr_toggle_button:"Toggle",flatpickr_clear_button:"Clear"};l.plugins={ace:{theme:""},SimpleMDE:{},sceditor:{},select2:{},selectize:{}};n(l.defaults.editors,(function(t,e){l.defaults.editors[t].options=e.options||{}}));l.defaults.resolvers.unshift((function(t){if(typeof t.type!=="string")return"multiple"}));l.defaults.resolvers.unshift((function(t){if(!t.type&&t.properties)return"object"}));l.defaults.resolvers.unshift((function(t){if(typeof t.type==="string")return t.type}));l.defaults.resolvers.unshift((function(t){if(t.type==="string"&&t.format==="signature")return"signature"}));l.defaults.resolvers.unshift((function(t){if(t.type==="integer"&&t.format==="rating")return"rating"}));l.defaults.resolvers.unshift((function(t){if(t.type==="boolean"){if(t.format==="checkbox"||t.options&&t.options.checkbox){return"checkbox"}return l.plugins.selectize.enable?"selectize":"select"}}));l.defaults.resolvers.unshift((function(t){if(t.type==="any")return"multiple"}));l.defaults.resolvers.unshift((function(t){if(t.type==="string"&&t.media&&t.media.binaryEncoding==="base64"){return"base64"}}));l.defaults.resolvers.unshift((function(t){if(t.type==="string"&&t.format==="url"&&t.options&&t.options.upload===true){if(window.FileReader)return"upload"}}));l.defaults.resolvers.unshift((function(t){if(t.type==="array"&&t.format==="table"){return"table"}}));l.defaults.resolvers.unshift((function(t){if(t.enumSource)return l.plugins.selectize.enable?"selectize":"select"}));l.defaults.resolvers.unshift((function(t){if(t["enum"]){if(t.type==="array"||t.type==="object"){return"enum"}else if(t.type==="number"||t.type==="integer"||t.type==="string"){return l.plugins.selectize.enable?"selectize":"select"}}}));l.defaults.resolvers.unshift((function(t){if(t.type==="array"&&t.items&&!Array.isArray(t.items)&&t.uniqueItems&&["string","number","integer"].indexOf(t.items.type)>=0){if(t.items.enum){return"multiselect"}else if(l.plugins.selectize.enable&&t.items.type==="string"){return"arraySelectize"}}}));l.defaults.resolvers.unshift((function(t){if(t.oneOf||t.anyOf)return"multiple"}));l.defaults.resolvers.unshift((function(t){if(["string","integer"].indexOf(t.type)!==-1&&["date","time","datetime-local"].indexOf(t.format)!==-1){return"datetime"}}));l.defaults.resolvers.unshift((function(t){if(t.type==="string"&&t.format==="starrating")return"starrating"}));(function(){if(window.jQuery||window.Zepto){var t=window.jQuery||window.Zepto;t.jsoneditor=l.defaults;t.fn.jsoneditor=function(t){var e=this;var i=this.data("jsoneditor");if(t==="value"){if(!i)throw"Must initialize jsoneditor before getting/setting the value";if(arguments.length>1){i.setValue(arguments[1])}else{return i.getValue()}}else if(t==="validate"){if(!i)throw"Must initialize jsoneditor before validating";if(arguments.length>1){return i.validate(arguments[1])}else{return i.validate()}}else if(t==="destroy"){if(i){i.destroy();this.data("jsoneditor",null)}}else{if(i){i.destroy()}i=new l(this.get(0),t);this.data("jsoneditor",i);i.on("change",(function(){e.trigger("change")}));i.on("ready",(function(){e.trigger("ready")}))}return this}}})();return l}))}).call(this,i(183)(t))}}]);
//# sourceMappingURL=214.a627508d231f6dab7695.js.map