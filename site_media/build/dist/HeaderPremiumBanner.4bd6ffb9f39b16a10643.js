(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[72],{1274:function(n,e,t){var i=t(2464);if(typeof i==="string")i=[[n.i,i,""]];if(i.locals)n.exports=i.locals;var a=t(15).default;var r=a("7bc8a660",i,false,{});if(false){}},2463:function(n,e,t){"use strict";var i=t(1274);var a=t.n(i);var r=a.a},2464:function(n,e,t){e=n.exports=t(14)(false);e.push([n.i,'@use "sass:map";\n.no-scroll[data-v-33faf4c4] {\n  position: relative;\n  z-index: 100;\n  overflow: hidden;\n}\n.premium-banner[data-v-33faf4c4] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 64px;\n  background-image: url(/site_media/version-71a486a605/images/coupon-banner-bg.svg);\n  background-size: 100% 100%;\n  font-size: 17px;\n  font-weight: 500;\n  color: #1F1F1F;\n  z-index: 301;\n  text-decoration: none;\n}\n.premium-banner[data-v-33faf4c4]:hover {\n    opacity: 1;\n    color: #1F1F1F;\n}\n.premium-banner p[data-v-33faf4c4] {\n    display: flex;\n    justify-content: center;\n    margin: 0;\n}\n.premium-banner p > span[data-v-33faf4c4] {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n}\n.premium-banner .b-sprite-global-premium-banner-star[data-v-33faf4c4] {\n    margin-right: 4px;\n}\n.premium-banner .btn[data-v-33faf4c4] {\n    margin-left: 16px;\n    padding: 8px 16px;\n    border: 0;\n    vertical-align: baseline;\n    background: #FFFFFF;\n    color: #479E7D;\n    font-weight: bold;\n    font-size: 13px;\n    line-height: 1.2em;\n}\n.premium-banner .countdown[data-v-33faf4c4] {\n    margin-top: -6px;\n    font-size: 13px;\n}\n.premium-banner .countdown span[data-v-33faf4c4] {\n      margin: 0 2px;\n}\n.premium-banner .call-to-action[data-v-33faf4c4] {\n    color: #479E7D;\n    font-weight: bold;\n    text-decoration: underline;\n}\n.premium-banner.mobile[data-v-33faf4c4] {\n  background-image: url(/site_media/version-71a486a605/images/coupon-banner-bg-mobile.svg);\n  font-size: 13px;\n  line-height: 1.25em;\n}\n.premium-banner.mobile.with-countdown[data-v-33faf4c4] {\n    height: 72px;\n}\n.viz-elm .premium-banner.mobile.with-countdown[data-v-33faf4c4] {\n      height: 64px;\n}\n.premium-banner.mobile p[data-v-33faf4c4] {\n    flex-direction: column;\n    align-items: center;\n}\n.premium-banner.mobile .btn[data-v-33faf4c4] {\n    margin: 6px 0 0;\n    padding: 5px 19px;\n    font-size: 12px;\n}\n.premium-banner.mobile .countdown[data-v-33faf4c4] {\n    display: block;\n    margin-top: 0;\n    padding: 0 64px;\n    font-size: 12px;\n    font-weight: normal;\n    text-align: center;\n}\n.premium-banner.mobile .countdown > span[data-v-33faf4c4] {\n      display: inline;\n      margin: 0;\n}\n.premium-banner.in-experiment[data-v-33faf4c4] {\n  height: 54px;\n  background: #1757D7;\n}\n.premium-banner.in-experiment[data-v-33faf4c4],\n  .premium-banner.in-experiment .btn[data-v-33faf4c4] {\n    font-weight: 600;\n    color: #FFFFFF;\n    font-size: 16px;\n}\n.premium-banner.in-experiment .btn[data-v-33faf4c4] {\n    padding: 0;\n    margin-left: 10px;\n    background: none;\n    text-decoration: underline;\n    box-shadow: none;\n}\n.premium-banner.in-experiment .icon[data-v-33faf4c4] {\n    margin-right: 12px;\n}\n.premium-banner.in-experiment .countdown[data-v-33faf4c4] {\n    margin: 0;\n    font-weight: normal;\n    font-size: 16px;\n}\n.premium-banner.in-experiment .countdown .icon[data-v-33faf4c4] {\n      margin-left: 0;\n}\n.premium-banner.in-experiment .coupon-text[data-v-33faf4c4] {\n    margin: 0;\n}\n.premium-banner.in-experiment .call-to-action[data-v-33faf4c4] {\n    margin: 0 12px;\n    font-weight: normal;\n    color: #FFFFFF;\n}\n.premium-banner.in-experiment.mobile[data-v-33faf4c4] {\n  height: 70px;\n}\n.premium-banner.in-experiment.mobile[data-v-33faf4c4],\n  .premium-banner.in-experiment.mobile .btn[data-v-33faf4c4] {\n    font-size: 14px;\n    line-height: 1.5em;\n}\n.premium-banner.in-experiment.mobile .btn[data-v-33faf4c4] {\n    margin: 0;\n}\n.premium-banner.in-experiment.mobile .icon[data-v-33faf4c4] {\n    margin-right: 8px;\n}\n.premium-banner.in-experiment.mobile .countdown[data-v-33faf4c4] {\n    padding: 0 8px;\n    font-weight: 600;\n    font-size: 14px;\n}\n.premium-banner.in-experiment.mobile .countdown .icon[data-v-33faf4c4] {\n      margin-right: 4px;\n      vertical-align: -4px;\n}\n.premium-banner.in-experiment.mobile .countdown .call-to-action[data-v-33faf4c4] {\n      margin: 0 4px;\n      white-space: nowrap;\n}\n.premium-banner.in-experiment.mobile .call-to-action[data-v-33faf4c4] {\n    margin: 0;\n    font-weight: 600;\n}\n.premium-banner.in-experiment.mobile .trial-text[data-v-33faf4c4] {\n    display: inline;\n}\n.premium-banner.in-experiment.mobile .start-trial[data-v-33faf4c4] {\n    display: inline;\n    margin-left: 4px;\n}\n@media (max-width: 335px) {\n.premium-banner.in-experiment.mobile .trial-text br[data-v-33faf4c4] {\n      display: none;\n}\n.premium-banner.in-experiment.mobile .start-trial[data-v-33faf4c4] {\n      white-space: nowrap;\n}\n}\n',""])},2553:function(n,e,t){"use strict";t.r(e);var i=function(){var n=this;var e=n.$createElement;var t=n._self._c||e;return n.currentRemaining>0||!n.showCountdown?t("router-link",{directives:[{name:"track",rawName:"v-track:click",value:{axId:n.axId,axType:"button"},expression:"{ axId, axType:'button' }",arg:"click"}],class:{"premium-banner":true,"with-countdown":n.showCountdown,"in-experiment":n.isInExperiment,mobile:n.mobile},attrs:{to:{name:"payment_brilliant_square_plans",query:{elementId:"clicked_b2_header"+(n.coupon?"_coupon":"")}}}},[n.content.showExcelMessage?t("p",[t("span",[t("span",{staticClass:"icon inline",class:{"b-sprite-global-premium-banner-star":!this.isInExperiment,"b-sprite-global-premium-banner-trophy":this.isInExperiment&&!this.mobile,"b-sprite-global-premium-banner-trophy-mobile":this.isInExperiment&&this.mobile}}),n._v("\n      Excel in math and science\n    ")]),n._v(" "),n.content.showGoPremiumButton?t("button",{staticClass:"btn"},[n._v("Go Premium")]):n._e()]):n._e(),n._v(" "),t("p",{class:n.content.paragraphClass},[t("span",{class:n.content.spanClass},[n.content.showIcon?t("span",{staticClass:"icon inline",class:n.content.iconClass}):n._e(),n._v("\n      "+n._s(n.content.bannerMainMessage)+"\n      "),n.content.breakAfterMainMessage?t("br"):n._e(),n._v("\n      "+n._s(n.content.countdownMessage)+"\n    ")]),n._v(" "),n.content.showCallToAction?t("span",{staticClass:"call-to-action",class:n.content.callToActionSpanClass},[n._v("\n      "+n._s(n.content.callToActionText)+"\n    ")]):n._e()])]):n._e()};var a=[];i._withStripped=true;var r=t(0);var s=t(3);var o=t(1);var l=t(9);const c="discounts_05_2021";const m={control:"control",visible20:"visible20",visible30:"visible30",visible40:"visible40",hidden20:"hidden20",hidden30:"hidden30",hidden40:"hidden40"};const p={control:0,visible20:20,visible30:30,visible40:40,hidden20:20,hidden30:30,hidden40:40};function u(n){return b(n)!==m.control}function b(n){const e=Object.values(m).find(e=>n(c,e));return e||m.control}function d(n){return b(n).startsWith("visible")}function f(n){return p[b(n)]}let h=class n extends s["default"]{constructor(){super(...arguments);this.startTime=0;this.currentRemaining=0;this.timerInterval=null}get baseContentIndex(){return{trialIsOver:{showExcelMessage:true,paragraphClass:"",spanClass:"",showIcon:false,iconClass:{"b-sprite-global-premium-banner-star":!this.isInExperiment,"b-sprite-global-premium-banner-trophy":this.isInExperiment&&!this.mobile,"b-sprite-global-premium-banner-trophy-mobile":this.isInExperiment&&this.mobile},showGoPremiumButton:!this.showCountdown,bannerMainMessage:""},trialAvailable:{showExcelMessage:true,paragraphClass:"countdown",spanClass:"",showCallToAction:true,callToActionSpanClass:"start-trial",callToActionText:"Start Trial",breakAfterMainMessage:this.mobile,bannerMainMessage:"Try premium free for 7 days.",countdownMessage:`Offer ends in ${this.countDown}`},couponAvailable:{showExcelMessage:true,paragraphClass:"countdown",spanClass:"coupon-text",showCallToAction:true,showIcon:this.isInExperiment,iconClass:this.mobile?"b-sprite-global-premium-banner-timer":"b-sprite-global-premium-banner-timer-mobile",bannerMainMessage:this.couponText}}}get loggedInPremiumBanners042021Mutations(){return{trialAvailable:{showIcon:true,spanClass:"trial-text",iconClass:this.mobile?"b-sprite-global-premium-banner-timer-mobile":"b-sprite-global-premium-banner-timer",callToActionText:"Start free trial",showExcelMessage:false}}}get discounts052021VisibleTreatmentMutations(){return{trialIsOver:{showCallToAction:true,paragraphClass:"countdown",callToActionSpanClass:"start-trial",callToActionText:"Go Premium",bannerMainMessage:`Subscribe${this.discountMessage}!`,showGoPremiumButton:false,showIcon:false},trialAvailable:{bannerMainMessage:`Try premium for 7 days${this.discountMessage}.`}}}get baseContentKey(){if(this.coupon){return"couponAvailable"}return this.trialAvailable?"trialAvailable":"trialIsOver"}get baseContent(){return this.baseContentIndex[this.baseContentKey]}loggedInPremiumBanners042021MutationsPipeline(n){if(!this.isInExperiment){return n}const e=this.loggedInPremiumBanners042021Mutations[this.baseContentKey]||{};return Object.assign(Object.assign({},n),e)}discounts052021VisibleTreatmentMutationsPipeline(n){if(!this.includedInDiscounts052021VisibleTreatment){return n}const e=this.discounts052021VisibleTreatmentMutations[this.baseContentKey]||{};return Object.assign(Object.assign({},n),e)}get discountMessage(){let n=null;if(this.includedInDiscounts052021VisibleTreatment){n=f(this.inExperiment)}if(this.coupon){n=`${this.coupon.percent_off}`}return n?` and save ${n}%`:""}get includedInDiscounts052021VisibleTreatment(){return d(this.inExperiment)}get trialAvailable(){return this.trialRemainingSeconds>0}get content(){return this.discounts052021VisibleTreatmentMutationsPipeline(this.loggedInPremiumBanners042021MutationsPipeline(this.baseContent))}get mobile(){return this.isMobile(this.$mq)}get isInExperiment(){return this.inExperiment("logged_in_premium_banners_04_2021","experiment")}get coupon(){return this.context.coupon}get axId(){if(this.user.available_trial_offering_until_ts){return"clicked_b2_header_free_trial"}if(this.coupon){return"clicked_b2_header_coupon"}return"clicked_b2_header"}get couponText(){var n;if((n=this.coupon)===null||n===void 0?void 0:n.trial_length_in_days){return`\n        Try Premium free for 7 days${this.discountMessage}. Offer ends in ${this.countDown}.\n      `}return`Subscribe in the next ${this.countDown}${this.discountMessage}${this.isInExperiment?"!":"."}`}get showCountdown(){const n=this.user.new_user_cohort_remaining_seconds>0;return n||this.coupon}get countDown(){let n="";let e;let t;let i;let a;if(this.isInExperiment){t=~~(this.currentRemaining/3600);i=~~(this.currentRemaining%3600/60);a=this.currentRemaining%60;if(t>0){n=`${n}${t.toString().padStart(2,"0")}h:`}if(t>0||i>0){n=`${n}${i.toString().padStart(2,"0")}m`;if(t===0){n=`${n}:${a.toString().padStart(2,"0")}s`}}else{n=`${a}s`}return n}e=~~(this.currentRemaining/86400);t=~~(this.currentRemaining%86400/3600);i=~~(this.currentRemaining%3600/60);a=this.currentRemaining%60;if(e>0){n=`${e}d `}if(t>0){n=`${n}${e>0?t.toString().padStart(2,"0"):t}h `}if(i>0){n=`${n}${i.toString().padStart(2,"0")}m `}n=`${n}${a.toString().padStart(2,"0")}s`;return n}get couponRemainingSeconds(){if(this.coupon){return this.coupon.remaining_seconds}return 0}get trialRemainingSeconds(){return this.user.new_user_cohort_remaining_seconds}get initialRemainingSeconds(){const n=this.trialRemainingSeconds;if(n>0){return n}return this.couponRemainingSeconds}timerTick(){const n=Math.round((new Date).getTime()/1e3)-this.startTime;this.currentRemaining=this.initialRemainingSeconds-n;if(this.currentRemaining<=0){clearInterval(this.timerInterval)}}startTimer(){this.startTime=Math.round(Date.now()/1e3);if(this.timerInterval===null){this.timerTick();this.timerInterval=setInterval(this.timerTick,250)}}created(){if(this.showCountdown){this.startTimer()}}destroyed(){clearInterval(this.timerInterval)}};h=Object(r["b"])([Object(o["a"])({computed:Object.assign(Object.assign(Object.assign(Object.assign({},Object(l["mapGetters"])("pageHeader",["isMobile"])),Object(l["mapGetters"])("globals",["inExperiment"])),Object(l["mapState"])("pageHeader",["context"])),Object(l["mapState"])("globals",["user"]))})],h);var g=h;var x=g;var v=t(2463);var w=t(5);var _=Object(w["a"])(x,i,a,false,null,"33faf4c4",null);if(false){var I}_.options.__file="frontend/components/header/HeaderPremiumBanner.vue";var M=e["default"]=_.exports}}]);
//# sourceMappingURL=HeaderPremiumBanner.4bd6ffb9f39b16a10643.js.map