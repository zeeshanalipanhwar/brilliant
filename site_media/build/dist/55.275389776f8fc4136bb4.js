(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[55],{1391:function(t,e,i){(function(t){if(true)t(i(121));else{}})((function(t){"use strict";t.defineExtension("annotateScrollbar",(function(t){if(typeof t=="string")t={className:t};return new e(this,t)}));t.defineOption("scrollButtonHeight",0);function e(t,e){this.cm=t;this.options=e;this.buttonHeight=e.scrollButtonHeight||t.getOption("scrollButtonHeight");this.annotations=[];this.doRedraw=this.doUpdate=null;this.div=t.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();function i(t){clearTimeout(n.doRedraw);n.doRedraw=setTimeout((function(){n.redraw()}),t)}var n=this;t.on("refresh",this.resizeHandler=function(){clearTimeout(n.doUpdate);n.doUpdate=setTimeout((function(){if(n.computeScale())i(20)}),100)});t.on("markerAdded",this.resizeHandler);t.on("markerCleared",this.resizeHandler);if(e.listenForChanges!==false)t.on("change",this.changeHandler=function(){i(250)})}e.prototype.computeScale=function(){var t=this.cm;var e=(t.getWrapperElement().clientHeight-t.display.barHeight-this.buttonHeight*2)/t.getScrollerElement().scrollHeight;if(e!=this.hScale){this.hScale=e;return true}};e.prototype.update=function(t){this.annotations=t;this.redraw()};e.prototype.redraw=function(t){if(t!==false)this.computeScale();var e=this.cm,i=this.hScale;var n=document.createDocumentFragment(),o=this.annotations;var a=e.getOption("lineWrapping");var r=a&&e.defaultTextHeight()*1.5;var s=null,h=null;function l(t,i){if(s!=t.line){s=t.line;h=e.getLineHandle(s)}if(h.widgets&&h.widgets.length||a&&h.height>r)return e.charCoords(t,"local")[i?"top":"bottom"];var n=e.heightAtLine(h,"local");return n+(i?0:h.height)}var d=e.lastLine();if(e.display.barWidth)for(var c=0,p;c<o.length;c++){var u=o[c];if(u.to.line>d)continue;var f=p||l(u.from,true)*i;var m=l(u.to,false)*i;while(c<o.length-1){if(o[c+1].to.line>d)break;p=l(o[c+1].from,true)*i;if(p>m+.9)break;u=o[++c];m=l(u.to,false)*i}if(m==f)continue;var g=Math.max(m-f,3);var v=n.appendChild(document.createElement("div"));v.style.cssText="position: absolute; right: 0px; width: "+Math.max(e.display.barWidth-1,2)+"px; top: "+(f+this.buttonHeight)+"px; height: "+g+"px";v.className=this.options.className;if(u.id){v.setAttribute("annotation-id",u.id)}}this.div.textContent="";this.div.appendChild(n)};e.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);if(this.changeHandler)this.cm.off("change",this.changeHandler);this.div.parentNode.removeChild(this.div)}}))}}]);
//# sourceMappingURL=55.275389776f8fc4136bb4.js.map