(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[214],{122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;t.renderExpressionIntoElement=c;var r=l(n(44));n(179);n(180);n(181);var a=l(n(182));var i=l(n(183));var o=l(n(185));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=i.default.inline;Object.assign(t,{delimiters:[{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true}],ignoredTags:["script","noscript","style","textarea","pre","code"],ignoredClasses:[],preProcess:a.default.replace,errorCallback:console.error});(0,o.default)(e,t)}function c(e,t){r.default.render(a.default.replace(e),t,i.default.inline)}},1974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"antisync",{enumerable:true,get:function e(){return r.default}});Object.defineProperty(t,"kicksize",{enumerable:true,get:function e(){return a.default}});Object.defineProperty(t,"period",{enumerable:true,get:function e(){return i.default}});Object.defineProperty(t,"playground",{enumerable:true,get:function e(){return o.default}});var r=l(n(1975));var a=l(n(1976));var i=l(n(1977));var o=l(n(1978));function l(e){return e&&e.__esModule?e:{default:e}}},1975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=f;var r=a(n(964));function a(e){return e&&e.__esModule?e:{default:e}}var i=400;var o=500;var l=25;var u=.1;var c=.059;var s=.25;var d=1;function f(e){var t=(0,r.default)(e,{width:i,height:o}),n=t.utils,a=t.Clock,f=t.createOverlay,v=t.toRadians,p=t.drawBackground;var g=[new a(30,30),new a(230,30)];function h(){var e=function e(t){return"".concat(t,"×")};var t=n.createSliderGroup({slider:{range:{min:0,max:10},step:1/10,start:d,pips:{mode:"count",values:3,density:15,format:{to:e}},tooltips:{to:e}},noButton:true}),r=t.slider,a=t.group,i=t.label;r.setColor("#bc9375");r.on("update",(function(e){d=Number.parseFloat(e[0])}));i.innerText="Simulation speed";n.appendElement(a)}h();function m(){var e=v(8);var t=e*Math.sqrt(l);g[0].reset(e,0);g[1].reset(0,t)}f({button:{label:"Reset",onclick:m}});m();function y(){n.clearCanvas();p(i,o);g.forEach((function(e){return e.drawKickWaves()}));g.forEach((function(e){return e.draw()}))}function b(){a.updateClocks(g,{gravity:l,friction:u,simulationSpeed:d,kickSize:c,couplingStrength:s,hasKickWaves:true,kickWavePropagationDistance:180,stopOn:function e(t){return t.angle<v(-11)}});y()}var w=n.animationLoop(b);w.start()}},1976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=c;var r=a(n(964));function a(e){return e&&e.__esModule?e:{default:e}}var i=400;var o=500;var l=0;var u=1;function c(e){var t=(0,r.default)(e,{width:i,height:o}),n=t.utils,a=t.Clock,c=t.createOverlay,s=t.toRadians,d=t.drawBackground;var f=n.createElement("div");n.applyStyles(f,{height:"20px"});n.appendElement(f);var v=new a(130,30);function p(){var e=s(8);v.reset(e,0)}p();c({button:{label:"Reset",onclick:p}});function g(){n.clearCanvas();d(i,o);v.drawKickWaves();v.draw(true)}function h(){a.updateClocks([v],{friction:.1,simulationSpeed:u,kickSize:l,couplingStrength:0,stopOn:function e(t){return t.angle<s(-11)},hasKickWaves:l>0,kickWavePropagationSpeed:400,kickWavePropagationDistance:200});g()}var m=n.animationLoop(h);m.start();function y(){var e=function e(t){return"".concat(t,"×")};var t=n.createSliderGroup({slider:{range:{min:0,max:10},step:1/10,start:u,pips:{mode:"count",values:3,density:15,format:{to:e}},tooltips:{to:e}},noButton:true}),r=t.slider,a=t.group,i=t.label;r.setColor("#bc9375");r.on("update",(function(e){u=Number.parseFloat(e[0])}));i.innerText="Simulation speed";n.appendElement(a)}function b(){var e=function e(t){return"".concat(t.toString(),"° per second")};var t=n.createSliderGroup({slider:{range:{min:0,max:12},start:l,tooltips:{to:e}},noButton:true}),r=t.slider,a=t.group,i=t.label;r.setColor("#bc9375");r.on("update",(function(e){l=s(Number.parseFloat(e[0]))}));i.innerText="Kick size";n.appendElement(a)}b();y()}},1977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=c;var r=a(n(964));function a(e){return e&&e.__esModule?e:{default:e}}var i=400;var o=500;var l=3;var u=4;function c(e){var t=(0,r.default)(e,{width:i,height:o}),n=t.utils,a=t.Clock,c=t.createOverlay,s=t.toRadians,d=t.drawBackground;var f=c({hasTimer:true,button:{}}),v=f.button,p=f.timerLabel;var g=false;var h=new a(130,30,u,0);function m(){n.clearCanvas();d(i,o);h.draw(false);p.innerText=h.timeMeasured.toFixed(l)}function y(){var e={friction:0,kickSize:0,couplingStrength:0,stopOn:function e(t){return t.velocity<0&&t.nextVelocity>=0},hasKickWaves:false};if(g){a.updateClocks([h],e);if(h.isStopped){g=false}}m()}var b=n.animationLoop(y);function w(){v.innerText="Start";v.onclick=k;h.reset(u,0);g=false}function k(){v.innerText="Reset";v.onclick=w;g=true}function x(){var e=function e(t){return"".concat(t,"°")};var t=n.createSliderGroup({slider:{range:{min:1,max:9},start:u,pips:{mode:"count",values:9,density:9,format:{to:e}},tooltips:{to:e}},noButton:true}),r=t.slider,a=t.group,i=t.label;r.setColor("#bc9375");r.on("end",w);r.on("update",(function(e){u=-s(Number.parseFloat(e[0]));if(!g){h.angle=u}}));i.innerText="Initial Amplitude";n.appendElement(a)}x();b.start();w();m()}},1978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=h;var r=a(n(964));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return u(e)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){var n=[];var r=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done);r=true){n.push(l.value);if(t&&n.length===t)break}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return n}function u(e){if(Array.isArray(e))return e}var c=400;var s=500;var d=25;var f=.1;var v=.06;var p=.25;var g=1;function h(e){var t=(0,r.default)(e,{width:c,height:s}),n=t.utils,a=t.Clock,o=t.createOverlay,l=t.toRadians,u=t.drawBackground;var h=[new a(30,30),new a(230,30)];function m(){var e=l(8);var t=e*Math.sqrt(d);h[0].reset(e,0);h[1].reset(0,t)}function y(){n.clearCanvas();u(c,s);h.forEach((function(e){return e.draw()}))}function b(){a.updateClocks(h,{gravity:d,friction:f,simulationSpeed:g,kickSize:v,couplingStrength:p});y()}function w(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{slider:{}};var t={label:"",onUpdate:function e(){},noButton:true};var r={pips:{mode:"range"},tooltips:true};var a=Object.assign({},r,e.slider);var o=Object.assign({},t,e,{slider:a});var l=n.createSliderGroup(o),u=l.group,c=l.slider,s=l.label,d=l.button;c.on("update",(function(e){var t=i(e,1),n=t[0];return o.onUpdate(Number.parseFloat(n))}));s.innerText=o.label;n.appendElement(u);return{group:u,slider:c,label:s,button:d}}function k(){w({label:"Gravity",onUpdate:function e(t){d=t},slider:{range:{min:0,max:50},start:d}})}function x(){w({label:"Friction",onUpdate:function e(t){f=t},slider:{range:{min:0,max:.5},start:f}})}function B(){w({label:"Simulation Speed",onUpdate:function e(t){g=t},slider:{range:{min:1/10,max:30},step:1/10,start:g}})}function C(){w({label:"Primary Kick Size",onUpdate:function e(t){v=t},slider:{range:{min:0,max:1},start:v}})}function S(){w({label:"Coupling Strength",onUpdate:function e(t){p=t},slider:{range:{min:-1,max:1},start:p}})}k();x();B();C();S();o({button:{label:"Reset",onclick:m}});m();var E=n.animationLoop(b);E.start()}},289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n(1974));function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}var i={createInteractive:function e(t){var n=document.getElementById(t.visualizationKey);n.innerHTML="";var a=t.authoredData.special;if(a===undefined){return}var i=r[a];if(i){i(t.visualizationKey)}else{throw new Error("Unknown clock visualization '".concat(a,"'"))}},createInteractiveSolvable:function e(){throw new Error("Interactive solvables not supported for Huygens' clock interactives")}};t.default=i},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.textContainsUnrenderedMath=v;t.useKatex=h;t.formPreloader=k;t.loadForElement=x;t.onLoad=B;t.loadForElementAsync=C;t.redrawExpression=S;t.controller=E;var r=a(n(122));function a(e){return e&&e.__esModule?e:{default:e}}var i={BrilliantLightBlue:"#95D3FE",BrilliantBlue:"#3D99F6",BrilliantDarkBlue:"#0C6AC7",BrilliantSeaGreen:"#1E93A5",BrilliantAqua:"#27D2E7",BrilliantLightGreen:"#67D94C",BrilliantGreen:"#20A900",BrilliantDarkGreen:"#456461",BrilliantYellow:"#CEBB00",BrilliantLightYellow:"#FEDF53",BrilliantYellowOrange:"#FCA04A",BrilliantOrange:"#EC7300",BrilliantRedOrange:"#FF664D",BrilliantRed:"#D61F06",BrilliantPink:"#E81990",BrilliantRosePink:"#F970BF",BrilliantViolet:"#BA33D6",BrilliantAmethyst:"#625CDB",BrilliantIndigo:"#302B94",BrilliantPurple:"#69047E",BrilliantPaleYellow:"#FFF7E6",BrilliantBeige:"#FBE6B8",BrilliantSandyBrown:"#FEDABE",BrilliantPeachy:"#FCC9A1",BrilliantTan:"#DBA97F",BrilliantLightBrown:"#B4825D",BrilliantMediumLightBrown:"#AA7956",BrilliantBronze:"#815331",BrilliantBrown:"#624F41",BrilliantWhite:"#FFFFFF",BrilliantLightGray:"#FBFBFB",BrilliantMediumLightGray:"#F0F0F0",BrilliantMediumGray:"#D8D8D8",BrilliantGray:"#BBBBBB",BrilliantMediumDarkGray:"#919191",BrilliantDarkGray:"#777777",BrilliantBlack:"#333333",BrilliantDarkBlack:"#161616"};var o=false;var l=false;var u=[];var c=[];var s=/\\\(.*?\\\)/;var d=/\\\[.*?\\\]/;var f=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/data-answers-list=".*?"/g,/data-registered-choice=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g];function v(e){var t=e;for(var n=0;n<f.length;n+=1){t=t.replace(f[n],"")}return s.test(t)||d.test(t)}function p(e){return v(e.innerHTML)}function g(){return window.location.pathname==="/latex-image-export/"}function h(){return document.body.classList.contains("use_katex")&&!g()}function m(e){if(h()){(0,r.default)(e);return}try{window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,e])}catch(e){}}function y(){u.forEach(m);u=[]}function b(){if(l||o){return}if(h()){l=true;return}o=true;var e=document.createElement("script");var t=g()?"TeX-AMS_SVG":"TeX-AMS_HTML";e.type="text/javascript";e.src="".concat(document.body.dataset.mediaHost,"/site_media/version-99mq9F5EZ8d8/js/mathjax/MathJax.js?config=").concat(t);e.addEventListener("load",(function(){if(!l){o=false;l=true;window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:false,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Macros:{bra:["{\\mathinner{\\langle{#1}|}}",1],ket:["{\\mathinner{|{#1}\\rangle}}",1],braket:["{\\mathinner{\\langle{#1}\\rangle}}",1],Bra:["{\\left\\langle#1\\right|}",1],Ket:["{\\left|#1\\right\\rangle}",1],ketbra:["{\\ket{#1}\\bra{#2}}",2]},Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},"HTML-CSS":{imageFont:null},showMathMenu:false,positionToHash:false});window.MathJax.Hub.processSectionDelay=0;window.MathJax.Hub.Register.StartupHook("TeX color Ready",(function(){Object.assign(window.MathJax.Extension["TeX/color"].colors,i)}));c.forEach((function(e){return e()}));y()}}));setTimeout((function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}),0)}function w(e){if(h()){setTimeout((function(){return(0,r.default)(e)}))}else if(l){m(e)}else{u.push(e);if(!o){b()}}}function k(e){var t=e.find("input[type=text], textarea");var n="keydown.mjxpreload";t.on(n,(function(){t.off(n);b()}))}function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e.each==="function"){e.each((function(e,n){if(t||p(n)){w(n)}}))}else{var n=Array.isArray(e)?e:[e];n.forEach((function(e){if(t||p(e)){w(e)}}))}}function B(e){if(l){e()}else{c.push(e)}}function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise((function(n){if(h()){x(e,t);n()}else{B((function(){setTimeout((function(){x(e,t);window.MathJax.Hub.Queue((function(){return n()}))}))}))}}))}function S(e,t,n,r){if(h()){return n(e,t)}return new Promise((function(a){try{var i=window.MathJax.Hub.getAllJax(e)[0];if(!i){e.classList.add(r);n(e,t).then(a)}else{window.MathJax.Hub.Queue(["Text",i,t]);window.MathJax.Hub.Queue((function(){a()}))}}catch(e){a()}}))}function E(){var e=function e(){return w(document.body)};if(window.isLoaded){e()}else{window.addEventListener("load",e)}}},789:function(e,t,n){"use strict";n.r(t);n.d(t,"COLORS",(function(){return i}));n.d(t,"setSliderColor",(function(){return o}));n.d(t,"getAssetUrl",(function(){return c}));n.d(t,"getImageUrl",(function(){return s}));var r=n(900);var a=n.n(r);const i={red:"#e01f1f",orange:"#f59b0a",yellow:"#f5e10a",green:"#41d606",blue:"#0630d6",indigo:"#6e06d6",violet:"#cf06d6"};function o(e,t){const n=t[0]==="#"?t:i[t]||t;const r=e.querySelectorAll(".noUi-handle");r.forEach(e=>{e.style.backgroundColor=n});e.style.backgroundColor=n}const l=true?"https://ds055uzetaobb.cloudfront.net":undefined;function u(e){return e.startsWith("http")}function c(e){let t=e;if(!u(e)){t=l+t}if(false){}return t}function s(e){if(!u(e)){return c(`/site_media/version-1/images/visualizations/${e}`)}return c(e)}},816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initCanvasEnvironment=w;var r=u(n(977));var a=n(3);var i=n(789);var o=l(n(45));function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return f(e)||d(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function f(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t]}return n}}function v(e,t){return h(e)||g(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(e,t){var n=[];var r=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done);r=true){n.push(l.value);if(t&&n.length===t)break}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return n}function h(e){if(Array.isArray(e))return e}function m(e){var t=e.visualizationKey,n=e.opts;var r=document.createElement("div");r.classList.add("viz-canvas-wrapper","clearfix");if(r){if(n.width){r.style.maxWidth="".concat(n.width,"px")}if(a.isMobile){r.classList.add("viz-mobile")}}document.getElementById(t).appendChild(r);return r}function y(e){var t=e.wrapper,n=e.opts;var r=document.createElement("canvas");var a=window.devicePixelRatio||1;var i=1;t.appendChild(r);if(n.width){r.style.width="".concat(n.width,"px");r.style.maxWidth="100%"}function o(){if(n.width){var e=r.offsetWidth;i=e/n.width;r.width=n.width*a*i}if(n.height){var t=n.height*i;r.style.height="".concat(t,"px");r.height=n.height*a*i}r.getContext("2d").scale(a*i,a*i);r.scale=i;if(i===0){setTimeout(o,50)}}o();return{canvas:r,scale:i}}function b(e){var t=e.wrapper,n=e.canvas,a=e.canvasOpts;function l(e,t){Object.entries(t).forEach((function(t){var n=v(t,2),r=n[0],a=n[1];if(a!==null&&a!==undefined){e.setAttribute(r,a.toString())}}));return e}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=document.createElement(e);l(n,t);return n}function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Object.entries(t).forEach((function(t){var n=v(t,2),r=n[0],a=n[1];e.style[r]=a.toString()}));return e}function d(e){t.appendChild(e)}function f(e){var t;var n=e.attrs,r=e.classes;var a=Object.assign({href:"#"},n);var i=u("a",a);(t=i.classList).add.apply(t,c(r.split(/\s/g)));i.addEventListener("click",(function(e){return e.preventDefault()}));return i}function p(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return f({attrs:e,classes:"btn"})}function g(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return f({attrs:e,classes:"btn btn-accent"})}function h(e,t){var n=e.querySelector(".noUi-handle");var r=u("div");n.appendChild(r);r.classList.add("tooltip-container");var a=u("div");r.appendChild(a);a.classList.add("tooltip-contents");if(t.label){var i=u("span");a.appendChild(i);i.classList.add("tooltip-variable-name");i.innerText="".concat(t.label,": ")}var o=u("span");a.appendChild(o);o.classList.add("tooltip-variable-value");var l=function e(t){return Number.parseFloat(t).toFixed(2).toString()};var c=t.to||l;e.on("update",(function(e){var t=v(e,1),n=t[0];o.innerText=c(n)}))}function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t={start:1,range:{min:0,max:100}};var n=Object.assign({},t,e);var a=n.tooltips;n.tooltips=undefined;var o=u("div");o.classList.add("android-draggable");r.default.create(o,n);o.setColor=function(e){return(0,i.setSliderColor)(o,e)};o.on=function(e,t){return o.noUiSlider.on(e,t)};o.addEventListener("touchstart",(function(e){return e.stopPropagation()}));if(a){h(o,a)}return o}function y(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=u("div");t.classList.add("viz-canvas-slider-group","android-draggable");var n=u("span");t.appendChild(n);var r=u("span");var a=m(e.slider||{});r.classList.add("slider-wrapper");r.appendChild(a);t.appendChild(r);var i=null;if(e.noButton!==true){t.classList.add("with-button");i=f({attrs:e.button||{},classes:"viz-anim-toggle"});t.appendChild(i)}return{group:t,label:n,slider:a,button:i}}function b(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=Object.assign({src:e},t);var r=u("img",n);r.applyScale=function(e){r.style.visibility="hidden";r.addEventListener("load",(function(){var t=r.width*e;var n=r.height*e;setTimeout((function(){r.style.width="".concat(t,"px");r.style.height="".concat(n,"px");r.style.visibility="visible"}),1)}));return r};return r}function w(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=Number(e.value);if(Number.isNaN(n)){return null}if(t.places){return n.toFixed(t.places)}if(t.exp){return n.toExponential()}return n}function k(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:300;var n;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++){a[i]=arguments[i]}clearTimeout(n);n=setTimeout((function(){return e.apply(void 0,a)}),t)}}function x(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;var n=false;var r=false;if(!t){n=true}var a=function t(a){e(a);if(r){if(n){setTimeout(t,16)}else{window.requestAnimationFrame(t)}}};return{start:function e(){r=true;window.requestAnimationFrame(a)},stop:function e(){r=false}}}var B=null;function C(){if(!B){B=u("div",{class:"viz-canvas-overlay"});s(B,{width:"".concat(a.width*n.scale,"px"),maxWidth:"100%",height:"".concat(a.height*n.scale,"px")})}return B}function S(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=u(e,t);n.classList.add("viz-canvas-latex-element");o.controller();n.setContent=function(e){n.innerHTML=e;o.loadForElementAsync(n).then((function(){n.style.display="block"}))};return n}function E(){n.getContext("2d").clearRect(0,0,n.width,n.height)}function M(e,t){var r={x:0,y:0,scale:1,rotation:0,originX:0,originY:0};var a=Object.assign({},r,t);var i=n.getContext("2d");i.save();i.translate(a.x,a.y);i.scale(a.scale,a.scale);i.rotate(a.rotation);i.translate(-a.originX,-a.originY);i.drawImage(e,0,0);i.restore()}return{createElement:u,setAttributes:l,applyStyles:s,appendElement:d,createButton:p,createButtonAccent:g,createSlider:m,createSliderGroup:y,createImportedImage:b,drawImage:M,getNumberValue:w,debounce:k,animationLoop:x,createCanvasOverlay:C,createLatexElement:S,clearCanvas:E}}function w(e){var t=e.visualizationKey,n=e.opts;var r=m({visualizationKey:t,opts:n});if(!r){return null}var a=y({wrapper:r,opts:n}),i=a.canvas;var o=i.getContext("2d");var l=b({visualizationKey:t,wrapper:r,canvas:i,canvasOpts:n});return{canvas:i,context:o,wrapper:r,utils:l}}},964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=x;var r=n(816);var a=n(789);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function l(e,t,n){if(t)o(e.prototype,t);if(n)o(e,n);return e}var u=(0,a.getImageUrl)("HuygensClock/pendulum.png");var c=(0,a.getImageUrl)("HuygensClock/clock-back.png");var s=(0,a.getImageUrl)("HuygensClock/clock-front.png");var d=(0,a.getImageUrl)("HuygensClock/minute-hand.png");var f=(0,a.getImageUrl)("HuygensClock/hour-hand.png");var v=(0,a.getImageUrl)("HuygensClock/escape-fork.png");var p=(0,a.getImageUrl)("HuygensClock/escape-wheel.png");var g=(0,a.getImageUrl)("HuygensClock/escape-lever.png");var h=(0,a.getImageUrl)("HuygensClock/background.png");var m=(0,a.getImageUrl)("HuygensClock/pulse.png");var y=.2;var b=1/60;var w=10;var k=b/w;function x(e,t){var n=(0,r.initCanvasEnvironment)({visualizationKey:e,opts:t}),a=n.canvas,o=n.context,b=n.utils;var x=b.createImportedImage(u);var B=b.createImportedImage(c);var C=b.createImportedImage(s);var S=b.createImportedImage(d);var E=b.createImportedImage(f);var M=b.createImportedImage(v);var O=b.createImportedImage(p);var I=b.createImportedImage(g);var F=b.createImportedImage(h);var P=b.createImportedImage(m);function j(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1?arguments[1]:undefined;var n=b.createButtonAccent();t.appendChild(n);if(e.label){n.innerText=e.label}if(e.onclick){n.onclick=function(t){e.onclick();t.preventDefault()}}b.applyStyles(n,{display:"inline-block","margin-bottom":"0px","font-size":"15px","line-height":"1.6em","text-align":"center","vertical-align":"middle",cursor:"pointer","touch-action":"manipulation",padding:"3px 16px","border-width":"1px","border-style":"solid","border-image":"initial",outline:"none","border-radius":"4px",transition:"box-shadow 100ms linear, color 100ms linear","border-color":"rgb(3, 155, 229)",background:"rgb(3, 155, 229)",color:"rgb(255, 255, 255)","font-family":"Helvetica Neue"});return n}function T(e){var t=b.createElement("div");var n=b.createElement("span");n.innerText="Time elapsed: ";var r=b.createElement("strong");t.appendChild(n);t.appendChild(r);b.applyStyles(t,{"margin-top":"8px"});e.appendChild(t);return r}function _(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=b.createCanvasOverlay();b.appendElement(t);var n=b.createElement("div");t.appendChild(n);b.applyStyles(n,{position:"absolute",right:"8px",bottom:"8px","text-align":"right"});var r=null;if(e.button){r=j(e.button,n)}var a=null;if(e.hasTimer){a=T(n)}return{button:r,timerLabel:a}}function A(e){return e*Math.PI/180}function L(e,t){o.fillStyle="#FFF7E6";o.fillRect(0,0,e,t);var n=e/F.naturalWidth;b.drawImage(F,{scale:n})}var W=function(){function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;i(this,e);this.x=t;this.y=n;this.angle=r;this.nextVelocity=a;this.velocity=this.nextVelocity;this.numWheelClicks=0;this.timeMeasured=0;this.isStopped=false;this.kickWaves=[]}l(e,[{key:"reset",value:function e(t,n){this.angle=t;this.nextVelocity=n;this.velocity=this.nextVelocity;this.timeMeasured=0;this.isStopped=false}},{key:"draw",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;o.save();o.translate(this.x,this.y);var n=a.scale*.5;o.scale(n,n);o.translate(-39,-14);b.drawImage(B,{x:39,y:14});b.drawImage(x,{x:233,y:162,rotation:this.angle,originX:x.width/2});this.drawEscapement(t);b.drawImage(C,{x:73,y:100});var r=this.timeMeasured/6;var i=r/60;b.drawImage(S,{x:205,y:215,originX:S.width/2,originY:S.height-5,rotation:r*2*Math.PI/60});b.drawImage(E,{x:205,y:215,originX:E.width/2,originY:E.height-5,rotation:i*2*Math.PI/12});o.restore()}},{key:"drawKickWaves",value:function e(){this.kickWaves.forEach((function(e){var t=.1+.2*Math.min(e.distanceTraveled/100,1);b.drawImage(P,{x:e.x,y:e.y,originX:P.naturalWidth/2,originY:P.naturalHeight/2,rotation:e.direction==="left"?Math.PI:0,scale:t})}))}},{key:"drawEscapement",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var n=0;var r=0;var a=10;var i=30;if(t&&this.velocity>y){if(this.angle<0){n=Math.max(0,1+this.angle*a);r=n}else{n=Math.max(0,1-this.angle*i)}}var o=A(10);b.drawImage(M,{x:235,y:164,rotation:o*n,originX:34,originY:11});var l=-A(3);b.drawImage(I,{x:87,y:159,rotation:l*n,originX:7,originY:12});var u=A(30);b.drawImage(O,{x:167,y:229,rotation:u*(this.numWheelClicks+r),originX:52,originY:52})}},{key:"addForce",value:function e(t){this.nextVelocity+=t*k}},{key:"applyGravity",value:function e(t){this.addForce(-t*Math.sin(this.angle))}},{key:"applyFriction",value:function e(t){this.addForce(-Math.sign(this.velocity)*t)}},{key:"applyPrimaryKick",value:function e(t){this.nextVelocity+=t.kickSize;if(this.nextVelocity>y){this.numWheelClicks++}if(t.hasKickWaves){this.spawnKickWave("left");this.spawnKickWave("right")}}},{key:"applySecondaryKick",value:function e(t){this.nextVelocity-=t.kickSize*t.couplingStrength}},{key:"shouldKick",value:function e(){return this.angle<0&&this.angle+this.velocity*k>=0}},{key:"spawnKickWave",value:function e(t){this.kickWaves.push({x:this.x+(t==="right"?135:10),y:this.y+80,direction:t,distanceTraveled:0})}},{key:"updatePosition",value:function e(){var t=(this.velocity+this.nextVelocity)/2;this.angle+=t*k;this.velocity=this.nextVelocity;var n=A(.5);var r=A(.1);if(Math.abs(this.angle)<n&&Math.abs(this.velocity)<r){this.isStopped=true}}},{key:"updateKickWaves",value:function e(t){var n=t.kickWavePropagationSpeed*k;this.kickWaves.forEach((function(e){e.x+=(e.direction==="left"?-1:1)*n;e.distanceTraveled+=n}));this.kickWaves=this.kickWaves.filter((function(e){return e.distanceTraveled<t.kickWavePropagationDistance}))}}],[{key:"pulseImage",value:function e(){return P}},{key:"updateClocks",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r={gravity:25,friction:.1,simulationSpeed:1,kickSize:.06,couplingStrength:.25,hasKickWaves:true,kickWavePropagationDistance:200,kickWavePropagationSpeed:400};var a=Object.assign({},r,n);var i=w*a.simulationSpeed;for(var o=0;o<i&&!this.isStopped;o++){t.forEach((function(e){if(!e.isStopped){e.timeMeasured+=k;e.applyGravity(a.gravity);e.applyFriction(a.friction)}}));var l=t.map((function(e){return e.shouldKick()}));for(var u=0;u<t.length;u++){if(l[u]){for(var c=0;c<t.length;c++){if(c===u)t[c].applyPrimaryKick(a);else t[c].applySecondaryKick(a)}}}t.forEach((function(e){if(a.stopOn&&a.stopOn(e)){e.isStopped=true}if(!e.isStopped){e.updatePosition()}e.updateKickWaves(a)}))}}}]);return e}();return{context:o,utils:b,Clock:W,createOverlay:_,drawBackground:L,toRadians:A}}}}]);
//# sourceMappingURL=viz-02-huygens-clock.9894b5562e29659d77a6.js.map