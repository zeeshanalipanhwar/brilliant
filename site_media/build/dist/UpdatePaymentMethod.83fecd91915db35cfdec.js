(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[105],{2578:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div")};var o=[];n._withStripped=true;var r=i(0);var s=i(1);var c=i(9);var a=i(902);let d=class e extends s["e"]{mounted(){return Object(r["a"])(this,void 0,void 0,(function*(){yield a["b"]();const e=window.Stripe(this.publicKey);e.redirectToCheckout({sessionId:this.sessionId})}))}};d=Object(r["b"])([Object(s["a"])({computed:Object.assign({},Object(c["mapGetters"])("checkoutSession",["publicKey","sessionId"]))})],d);var u=d;var l=u;var p=i(5);var m=Object(p["a"])(l,n,o,false,null,null,null);if(false){var v}m.options.__file="frontend/views/premium/UpdatePaymentMethod.vue";var h=t["default"]=m.exports},902:function(e,t,i){"use strict";i.d(t,"b",(function(){return r}));i.d(t,"a",(function(){return c}));var n=i(0);var o=i(29);function r(){const e=[];if(window.StripeCheckout){e.push(Promise.resolve())}else{e.push(new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.stripe.com/checkout.js";t.async=true;t.addEventListener("load",()=>e());document.body.appendChild(t)}))}if(window.Stripe){e.push(Promise.resolve())}else{e.push(new Promise(e=>{const t=document.createElement("script");t.src="https://js.stripe.com/v3/";t.async=true;t.addEventListener("load",()=>e());document.head.appendChild(t)}))}return Promise.all(e)}function s(){if(window.StripeCheckout){return Promise.resolve(window.StripeCheckout)}return new Promise((e,t)=>{let i=0;const n=250;const o=60;const r=1e3/n*o;const s=setInterval(()=>{i+=1;if(window.StripeCheckout){clearInterval(s);e(window.StripeCheckout)}else if(i>=r){t()}},n)})}function c(e,t){return Object(n["a"])(this,void 0,void 0,(function*(){let i;try{i=yield s()}catch(e){throw new Error("Stripe not loaded")}const n={key:e.stripe_public_key,image:"https://brilliant.org/site_media/version-2kud5Np9Iv/images/brilliant-logo-sans-border.png",email:e.email,token:t.token,allowRememberMe:false,name:"Brilliant Premium",opened(){if(t.opened){t.opened()}Object(o["e"])("ui",{element_id:"stripe_checkout_modal_opened"})},closed(){if(t.closed){t.closed()}Object(o["e"])("ui",{element_id:"stripe_checkout_modal_closed"})}};return i.configure(n)}))}}}]);
//# sourceMappingURL=UpdatePaymentMethod.83fecd91915db35cfdec.js.map