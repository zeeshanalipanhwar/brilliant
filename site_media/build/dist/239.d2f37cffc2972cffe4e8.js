(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[239],{1021:function(t,e,n){var i=n(2077);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var a=n(28).default;var s=a("856a6c3e",i,false,{});if(false){}},1022:function(t,e,n){var i=n(2079);if(typeof i==="string")i=[[t.i,i,""]];if(i.locals)t.exports=i.locals;var a=n(28).default;var s=a("8f38e2fe",i,false,{});if(false){}},1023:function(t,e,n){},2076:function(t,e,n){"use strict";var i=n(1021);var a=n.n(i);var s=a.a},2077:function(t,e,n){e=t.exports=n(27)(false);e.push([t.i,'@use "sass:map";\n.no-scroll {\n  position: relative;\n  z-index: 100;\n  overflow: hidden;\n}\n.viz-admin-link {\n  margin-top: 12px;\n  font-size: 13px;\n}\n',""])},2078:function(t,e,n){"use strict";var i=n(1022);var a=n.n(i);var s=a.a},2079:function(t,e,n){e=t.exports=n(27)(false);e.push([t.i,'@use "sass:map";\n.no-scroll[data-v-86a15258] {\n  position: relative;\n  z-index: 100;\n  overflow: hidden;\n}\n.interactive[data-v-86a15258] {\n  position: relative;\n}\n.interactive .loading[data-v-86a15258] {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    padding: 40px 0;\n}\n.interactive .btn[data-v-86a15258] {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 40px;\n    padding: 0 8px;\n    border: 1px solid #C0C0C0;\n    border-radius: 6px;\n    font-size: 16px;\n    font-weight: 600;\n    box-shadow: none;\n    background: transparent;\n    color: rgba(0, 0, 0, 0.7);\n    transition: all 100ms linear;\n}\n.interactive .btn[data-v-86a15258]:hover {\n      border-color: fadeout(#000000, 50%);\n      background: transparent;\n      color: #000000;\n}\n.interactive .btn.quiz-nux[data-v-86a15258] {\n      margin-bottom: 230px;\n}\n.interactive .btn-accent[data-v-86a15258] {\n    background: #000000;\n    border-color: #000000;\n    color: #FFFFFF;\n}\n.interactive .btn-accent[data-v-86a15258]:hover {\n      opacity: 0.8;\n      background: #000000;\n      border-color: #000000;\n      color: #FFFFFF;\n}\n.interactive .btn-accent[disabled][data-v-86a15258] {\n      opacity: 0.2;\n}\n.interactive .btn-accent[disabled][data-v-86a15258]:hover {\n        opacity: 0.2;\n}\n.interactive.mobile .reset[data-v-86a15258] {\n  padding: 12px 0;\n  margin-bottom: 0;\n}\n.interactive.mobile .footer[data-v-86a15258] {\n  flex-direction: column-reverse;\n}\n.interactive.mobile .footer .btn[data-v-86a15258] {\n    flex: none;\n}\n.interactive.mobile .footer .btn + .btn[data-v-86a15258] {\n      margin: 0 0 20px;\n}\n.interactive.mobile .visualization[data-v-86a15258] {\n  margin-bottom: 0;\n}\n.header[data-v-86a15258] {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n.header .caption[data-v-86a15258] {\n    margin: 0;\n    font-size: 15px;\n    line-height: 1.5em;\n    font-weight: 600;\n    font-style: normal !important;\n    color: #333333;\n}\n.reset[data-v-86a15258] {\n  flex: none;\n  display: flex;\n  align-items: center;\n  color: #000;\n  font-weight: 500;\n  font-size: 15px;\n  opacity: 0.5;\n  line-height: 1.5em;\n  transition: opacity 100ms linear;\n}\n.reset[data-v-86a15258]:hover {\n    opacity: 0.8;\n}\n.reset[disabled][data-v-86a15258] {\n    opacity: 0.2;\n    cursor: default;\n}\n.reset span[data-v-86a15258] {\n    margin: 3px 0 0 6px;\n}\n.visualization[data-v-86a15258] {\n  margin-bottom: 24px;\n}\n.footer[data-v-86a15258] {\n  display: flex;\n  justify-content: space-between;\n}\n.footer .btn[data-v-86a15258] {\n    flex: 1;\n}\n.footer .btn + .btn[data-v-86a15258] {\n      margin-left: 24px;\n}\n\n/* Animation for when caption changes */\n.pop-in-enter[data-v-86a15258] {\n  -webkit-transform: translateY(10px);\n          transform: translateY(10px);\n  opacity: 0;\n}\n.pop-in-enter-active[data-v-86a15258] {\n  transition: all 0.5s ease;\n}\n.pop-in-leave-to[data-v-86a15258] {\n  -webkit-transform: translateY(-10px);\n          transform: translateY(-10px);\n  opacity: 0;\n}\n.pop-in-leave-active[data-v-86a15258] {\n  position: absolute;\n  transition: all 0.3s ease;\n}\n',""])},2080:function(t,e,n){"use strict";var i=n(1023);var a=n.n(i);var s=a.a},23:function(t,e,n){"use strict";n.d(e,"c",(function(){return i}));n.d(e,"a",(function(){return a}));n.d(e,"b",(function(){return s}));function i(t){return Object.entries(t).map(([t,e])=>`${t}=${e.toString()}`).join("&")}function a(t,e){const[n,a]=t.split("#");const s=n.includes("?")?"&":"?";const o=a?`#${a}`:"";return`${n}${s}${i(e)}${o}`}function s(t=window.location.search){const e=t.replace("?","").split("&");const n={};e.forEach(t=>{if(t.length>0){const[e,i]=t.split("=");n[e]=i}});return n}},264:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(51);function a(){let t="";if(typeof document!=="undefined"){document.cookie.split(";").forEach(e=>{if(e.indexOf("csrftoken")>=0){t=e.split("=")[1].trim()}})}else{t=Object(i["a"])().backend.server_side_rendering_data.cookies.csrftoken}return t}},480:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{class:{interactive:true,mobile:t.isMobile}},[t.interactive?n("header",{staticClass:"header"},[n("div",[t.caption!==""?n("transition",{attrs:{name:"pop-in",mode:"out-in"}},[n("div",{key:t.caption,staticClass:"caption",domProps:{innerHTML:t._s(t.caption)}})]):t._e()],1),t._v(" "),!t.isMobile?n("button",{staticClass:"reset btn-link",attrs:{disabled:!t.isResetEnabled},on:{click:function(e){e.preventDefault();return t.handleReset()}}},[t._v("\n      Reset\n      "),n("span",{staticClass:"css-sprite-quiz"})]):t._e()]):t._e(),t._v(" "),n("div",{ref:"visualization",staticClass:"visualization"},[n("div",{attrs:{id:t.visualizationkey}},[t._m(0)])]),t._v(" "),t.interactive&&t.isMobile?n("button",{staticClass:"reset btn-link",attrs:{disabled:!t.isResetEnabled},on:{click:function(e){e.preventDefault();return t.handleReset()}}},[t._v("\n    Reset\n    "),n("span",{staticClass:"css-sprite-quiz"})]):t._e(),t._v(" "),t.interactive&&!t.isNative?n("footer",{staticClass:"footer"},[n("button",{staticClass:"btn btn-flat",attrs:{id:"interactive-solvable-explanation-btn"},on:{click:function(e){e.preventDefault();return t.handleShowExplanation(e)}}},[t._v("\n      "+t._s(t.explanationButtonText)+"\n    ")]),t._v(" "),t.shouldShowCheckAnswer?n("button",{key:"check-answer",staticClass:"btn btn-flat btn-accent",attrs:{disabled:!t.isSubmitEnabled},on:{click:function(e){e.preventDefault();return t.handleCheckAnswer()}}},[t._v("\n      Check answer\n    ")]):n("button",{key:"continue",staticClass:"btn btn-flat btn-accent",attrs:{disabled:!t.isSolved},on:{click:function(e){e.preventDefault();return t.handleContinue(e)}}},[t._v("\n      "+t._s(t.continueButtonText)+"\n    ")])]):t._e()])};var a=[function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"loading"},[n("span",{staticClass:"spinner"})])}];i._withStripped=true;var s=n(1);var o=n(5);var r=n(63);var l=n(3);var c=n(12);var d=n(6);var u=n(23);const v="/api/v1/problems/attempts/update-state/";let p=class t extends o["e"]{constructor(){super(...arguments);this.interactive=null;this.isExplanationOpen=this.startWithExplanationOpen;this.isSolved=this.startSolved;this.isExpectingSolvedResponse=false;this.caption="";this.isMobile=l["isMobile"];this.isSubmitEnabled=false;this.isResetEnabled=false;this.continueButtonText="Continue"}get isLoggedIn(){return l["userIsAuthenticated"]||this.isNative}initializeInteractive(t){this.interactive=t;this.externalEvent("init",{isAutoCheck:this.interactive.solvableType==="auto-check"})}externalEvent(t,e={}){if(this.isNative){if(window.nativeVueEventBus){window.nativeVueEventBus.$emit(`interactive-solvable:${t}`,e)}}else{this.$emit("external",Object.assign({name:`${t}.${this.solvableId}`},e))}}handleShowExplanation(){this.externalEvent("show-explanation")}handleReset(){if(this.interactive){this.interactive.resetPressed()}}handleCheckAnswer(){if(!this.interactive){return}if(!this.isLoggedIn){this.externalEvent("show-signup-modal",{solvableType:this.interactive.solvableType})}else if(this.interactive.solvableType==="submittable"){this.isExpectingSolvedResponse=true;this.interactive.checkAnswerPressed()}}handleContinue(){this.externalEvent("continue")}updateContinueButtonText(){const t=document.querySelector(".solv-done-btn");if(t){this.continueButtonText=t.innerText}}get explanationButtonText(){return this.isExplanationOpen?"Hide explanation":"Show explanation"}get shouldShowCheckAnswer(){return this.interactive!==null&&this.interactive.solvableType==="submittable"&&!this.isSolved}setCaption(t){this.caption=t}setSubmitButtonEnabled(t){this.isSubmitEnabled=t;this.externalEvent("submit-enabled",{enabled:this.isSubmitEnabled})}setResetButtonEnabled(t){this.isResetEnabled=t}handleSaveStateRequest(t,e){if(this.interactive===null||this.isSolved){return}if(this.interactive.solvableType==="submittable"){if(!this.isLoggedIn){return}if(this.isExpectingSolvedResponse&&e!==undefined){this.isSolved=e;this.logAttemptToServer(t,e);this.isExpectingSolvedResponse=false}else{this.saveStateToServer(t)}}else if(this.interactive.solvableType==="auto-check"){if(e===true){if(this.isLoggedIn){this.isSolved=true;this.logAttemptToServer(t,e)}else{this.externalEvent("show-signup-modal",{solvableType:this.interactive.solvableType})}}else{if(this.isLoggedIn){this.saveStateToServer(t)}else{return}}}}saveStateToServer(t){if(!this.isLoggedIn){return}this.externalEvent("export-state",{state:t});if(!this.isNative&&this.attemptId>0){Object(d["c"])(v,Object(u["c"])({attempt_id:this.attemptId,state:JSON.stringify(t)}))}}logAttemptToServer(t,e){this.saveStateToServer(t);this.externalEvent("check-answer",{isSolved:e})}mounted(){const t={hasBeenSolved:this.startSolved,callbacks:{setCaption:t=>this.setCaption(t),setSubmitButtonEnabled:t=>this.setSubmitButtonEnabled(t),setResetButtonEnabled:t=>this.setResetButtonEnabled(t),saveState:(t,e)=>this.handleSaveStateRequest(t,e)}};Object(r["renderVisualizationFromVue"])(this.$refs.visualization,this.$props,t).then(t=>{this.initializeInteractive(t)});this.updateContinueButtonText();l["$window"].on("solution.show",()=>this.isExplanationOpen=true);l["$window"].on("solution.hide",()=>this.isExplanationOpen=false);l["$window"].on("instantresponse.updated",()=>this.updateContinueButtonText());l["$window"].on(`${c["EVT_VKEY_AFTER_UPDATE"]}.quizzes_problemset`,()=>this.updateContinueButtonText());if(window.nativeVueEventBus){window.nativeVueEventBus.$on("interactive-check-answer-tapped",()=>this.handleCheckAnswer())}}};Object(s["b"])([Object(o["c"])(String)],p.prototype,"visualizationkey",void 0);Object(s["b"])([Object(o["c"])(Number)],p.prototype,"attemptId",void 0);Object(s["b"])([Object(o["c"])(String)],p.prototype,"mediaurl",void 0);Object(s["b"])([Object(o["c"])(Boolean)],p.prototype,"startSolved",void 0);Object(s["b"])([Object(o["c"])(Boolean)],p.prototype,"startWithExplanationOpen",void 0);Object(s["b"])([Object(o["c"])(Number)],p.prototype,"solvableId",void 0);Object(s["b"])([Object(o["c"])({type:Boolean,default:false})],p.prototype,"isNative",void 0);p=Object(s["b"])([o["a"]],p);var h=p;var b=h;var f=n(2076);var m=n(2078);var x=n(2080);var g=n(10);var w=Object(g["a"])(b,i,a,false,null,"86a15258",null);if(false){var S}w.options.__file="frontend/legacy/InteractiveProblem.vue";var y=e["default"]=w.exports},51:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));let i=null;function a(){return i}function s(t){i=t}},6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n.d(e,"c",(function(){return d}));n.d(e,"b",(function(){return u}));var i=n(137);var a=n.n(i);var s=n(264);var o=n(23);var r=n(51);const l=()=>({"X-CSRFToken":Object(s["a"])(),"X-Requested-With":"XMLHttpRequest"});function c(t=""){const e={method:"GET",headers:l()};return a.a.get(t,e).then(t=>t.data).catch(t=>{console.log(t);throw t})}function d(t="",e={}){const n={method:"POST",headers:l()};return a.a.post(t,e,n).then(t=>t.data).catch(t=>{console.log(t);throw t})}function u(t){let e=Object(o["a"])(t,{ajax:true});const n=t.startsWith("http://")||t.startsWith("https://");const i=Object(r["a"])();const s={"X-Requested-With":"XMLHttpRequest"};if(i!=null&&!n){s.Cookie=v(i.backend.server_side_rendering_data.cookies);e=i.backend.response.base_url+t}e=e.split("#")[0];return a.a.get(e,{headers:s}).then(t=>{if(t.data.redirect_to){window.location=t.data.redirect_to;return{}}if(t.headers["content-type"].includes("text/html")){if(e!==t.request.responseURL){window.location=t.request.responseURL;return{}}}if(t.data.response&&e!==t.data.response.request_path){return Object.assign(Object.assign({},t.data),{$redirected:{to:t.data.response.request_path,from:e}})}return t.data}).catch(t=>{console.log(t);throw t})}function v(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("; ")}}}]);
//# sourceMappingURL=239.d2f37cffc2972cffe4e8.js.map