(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[76],{1145:function(e,s,t){"use strict";var a=t(908);var n=t.n(a);var i=n.a},1146:function(e,s,t){s=e.exports=t(14)(false);s.push([e.i,'@use "sass:map";\n.no-scroll[data-v-18d66281] {\n  position: relative;\n  z-index: 100;\n  overflow: hidden;\n}\n.assets-sidebar[data-v-18d66281] {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  float: left;\n  height: 100%;\n  width: 250px;\n  position: relative;\n  z-index: 1;\n  background: #F8F7F6;\n  border-right: 1px solid #C2C4CF;\n}\n.assets-sidebar .empty-display[data-v-18d66281] {\n    flex: 1 1 auto;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n.assets-sidebar .empty-display h2[data-v-18d66281], .assets-sidebar .empty-display p[data-v-18d66281] {\n      color: #899098;\n}\n.assets-sidebar .empty-display p[data-v-18d66281] {\n      font-size: 19px;\n}\n.assets-sidebar .filter-form[data-v-18d66281] {\n    display: flex;\n    flex-direction: column;\n    padding: 4px 0;\n    border-bottom: 1px solid #C2C4CF;\n}\n.assets-sidebar .filter-form section[data-v-18d66281] {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      padding: 4px 8px;\n}\n.assets-sidebar .filter-form section span[data-v-18d66281] {\n        margin-right: 8px;\n        color: #899098;\n        font-size: 12px;\n}\n.assets-sidebar .filter-form section select[data-v-18d66281], .assets-sidebar .filter-form section input[data-v-18d66281] {\n        flex: 1;\n        border-color: #161616;\n        border-radius: 7px;\n        height: 24px;\n        line-height: 1em;\n        margin-bottom: 0;\n        font-size: 12px;\n}\n.assets-sidebar .assets-list[data-v-18d66281] {\n    list-style-type: none;\n    margin: 0;\n    overflow-y: auto;\n    flex: 1 1 auto;\n}\n.assets-sidebar .assets-list > li[data-v-18d66281] {\n      padding: 8px 8px;\n      border-bottom: 1px solid #C2C4CF;\n      cursor: pointer;\n}\n.assets-sidebar .assets-list > li[data-v-18d66281]:hover {\n        background: #ECEDEF;\n}\n.assets-sidebar .assets-list > li.selected[data-v-18d66281], .assets-sidebar .assets-list > li.selected[data-v-18d66281]:hover {\n        background: #E7E7E9;\n        cursor: default;\n}\n.assets-sidebar .assets-list > li.hidden[data-v-18d66281] {\n        display: none;\n}\n.assets-sidebar .assets-list > li .asset-name[data-v-18d66281] {\n        margin-bottom: 0;\n        font-size: 14px;\n        line-height: 1.4em;\n}\n.assets-sidebar .assets-list > li .asset-type[data-v-18d66281] {\n        margin-bottom: 0;\n        color: #899098;\n        font-size: 12px;\n        line-height: 1.4em;\n}\n.assets-sidebar .btn-link[data-v-18d66281] {\n    color: #899098;\n}\n',""])},1152:function(e,s,t){var a=t(2241);if(typeof a==="string")a=[[e.i,a,""]];if(a.locals)e.exports=a.locals;var n=t(15).default;var i=n("e17bbf2e",a,false,{});if(false){}},1306:function(e,s,t){"use strict";var a=function(){var e=this;var s=e.$createElement;var t=e._self._c||s;return t("div",{staticClass:"assets-sidebar"},[e.lessonAssets.length?[t("div",{staticClass:"filter-form"},[t("section",{staticClass:"category-filter"},[t("span",[e._v("Show")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.assetTypeFilter,expression:"assetTypeFilter"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.assetTypeFilter=s.target.multiple?t:t[0]}}},e._l(e.filterOptions,(function(s){return t("option",{key:s,domProps:{value:s}},[e._v("\n            "+e._s(s)+"\n          ")])})),0)]),e._v(" "),t("section",{staticClass:"alias-filter"},[t("span",[e._v("Filter")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.assetAliasFilter,expression:"assetAliasFilter"}],attrs:{type:"text"},domProps:{value:e.assetAliasFilter},on:{input:function(s){if(s.target.composing){return}e.assetAliasFilter=s.target.value}}})])]),e._v(" "),t("ul",{staticClass:"assets-list"},e._l(e.lessonAssets,(function(s,a){return t("li",{key:"asset-"+a+(e.selectedAssetIndex===a?"-selected":""),class:{selected:e.selectedAssetIndex===a,hidden:!e.matchesFilter(s)},on:{click:function(){return e.$emit("select-asset",a)}}},[t("h3",{staticClass:"asset-name"},[e._v(e._s(s.alias))]),e._v(" "),t("p",{staticClass:"asset-type"},[e._v(e._s(e.getTypeDisplay(s.type)))])])})),0)]:t("div",{staticClass:"empty-display"},[t("h2",[e._v("Assets can include images, interactives, and diagrams.")]),e._v(" "),e.editable?[t("p",[e._v("Use the button below to create a new asset")]),e._v(" "),t("img",{attrs:{src:"/site_media/version-0/images/lessons/down-arrow.png"}})]:e._e()],2),e._v(" "),e._t("default")],2)};var n=[];a._withStripped=true;var i=t(0);var r=t(1);let o=class e extends r["e"]{constructor(){super(...arguments);this.assetTypeFilter="All";this.assetAliasFilter="";this.filterOptions=["All","Images","Videos","Diagrammars","Interactives"]}getTypeDisplay(e){if(e==="image"){return"Image"}if(e==="video"){return"Video"}if(e==="diagrammar"){return"Diagrammar"}return"Interactive"}matchesTypeFilter(e){switch(this.assetTypeFilter){case"Images":return e.type==="image";case"Videos":return e.type==="video";case"Diagrammars":return e.type==="diagrammar";case"Interactives":return this.getTypeDisplay(e.type)==="Interactive";case"All":default:return true}}matchesAliasFilter(e){if(this.assetAliasFilter){return!!e.alias.toLowerCase().match(this.assetAliasFilter.toLowerCase())}return true}matchesFilter(e){return this.matchesTypeFilter(e)&&this.matchesAliasFilter(e)}};Object(i["b"])([Object(r["c"])(Array)],o.prototype,"lessonAssets",void 0);Object(i["b"])([Object(r["c"])(Number)],o.prototype,"selectedAssetIndex",void 0);Object(i["b"])([Object(r["c"])(Boolean)],o.prototype,"editable",void 0);o=Object(i["b"])([Object(r["a"])({})],o);var l=o;var d=l;var c=t(1145);var v=t(5);var p=Object(v["a"])(d,a,n,false,null,"18d66281",null);if(false){var u}p.options.__file="frontend/views/lessons/editor/AssetSelector.vue";var h=s["a"]=p.exports},2240:function(e,s,t){"use strict";var a=t(1152);var n=t.n(a);var i=n.a},2241:function(e,s,t){s=e.exports=t(14)(false);s.push([e.i,'@use "sass:map";\n.no-scroll[data-v-27c45032] {\n  position: relative;\n  z-index: 100;\n  overflow: hidden;\n}\nmain[data-v-27c45032] {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  background: #FFFFFF;\n}\nmain header.header[data-v-27c45032] {\n    display: flex;\n    flex-direction: column;\n    border-bottom: 1px solid #C2C4CF;\n}\nmain header.header .nav-bar[data-v-27c45032] {\n      display: flex;\n      align-items: center;\n      padding: 16px;\n}\nmain header.header .nav-bar[data-v-27c45032]  .nav-btn {\n        display: flex;\n        align-items: center;\n        padding: 4px 8px;\n}\nmain header.header .nav-bar[data-v-27c45032]  .nav-btn + .nav-btn {\n          margin-left: 8px;\n}\nmain header.header .nav-bar .title-block[data-v-27c45032] {\n        flex: 1;\n        padding: 0 16px;\n}\nmain header.header .nav-bar .title-block h2[data-v-27c45032] {\n          margin: 0;\n}\n.page-body[data-v-27c45032] {\n  display: flex;\n  flex-direction: row;\n  overflow-y: auto;\n  height: 100%;\n}\n.page-body .assets-content[data-v-27c45032] {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    overflow-y: auto;\n    justify-content: center;\n    padding: 8px 16px;\n}\n.page-body .assets-content .versions-display[data-v-27c45032] {\n      display: flex;\n      flex-direction: column;\n      margin: 16px 0;\n}\n.page-body .assets-content .versions-display .version-selector[data-v-27c45032] {\n        display: block;\n        max-width: 200px;\n}\n.page-body .assets-content .versions-display .asset-preview[data-v-27c45032] {\n        width: 602px;\n}\n.page-body .assets-content .versions-display .asset-preview img[data-v-27c45032], .page-body .assets-content .versions-display .asset-preview video[data-v-27c45032] {\n          max-width: 100%;\n}\n',""])},2595:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this;var s=e.$createElement;var t=e._self._c||s;return t("main",[t("header",{staticClass:"header"},[t("div",{staticClass:"nav-bar"},[t("router-link",{staticClass:"nav-btn btn",attrs:{to:e.backButtonInfo.url,title:e.backButtonInfo.title}},[e._v("\n        â†\n      ")]),e._v(" "),!e.isSandboxLesson?t("AuthoringHomeButton"):e._e(),e._v(" "),t("div",{staticClass:"title-block"},[t("h2",[e._v(e._s(e.mainLessonVersion.title))])])],1)]),e._v(" "),t("div",{staticClass:"page-body"},[t("AssetSelector",{attrs:{lessonAssets:e.rawAssetList,selectedAssetIndex:e.selectedAssetIndex},on:{"select-asset":function(s){return e.handleAssetSelect(s)}}}),e._v(" "),t("div",{staticClass:"assets-content"},[e.selectedAssetVersions&&e.selectedAssetVersions.length?t("div",{staticClass:"versions-display"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedVersion,expression:"selectedVersion"}],staticClass:"version-selector",on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.selectedVersion=s.target.multiple?t:t[0]}}},e._l(e.selectableVersions,(function(s){return t("option",[e._v(e._s(s))])})),0),e._v(" "),e.selectedVersion?t("div",{staticClass:"version-card"},[t("h2",[e._v(e._s(e.selectedVersion))]),e._v(" "),t("div",{staticClass:"asset-preview"},[e.selectedAssetVersion.type=="image"?t("img",{attrs:{src:e.selectedAssetVersion.url,alt:e.selectedAssetVersion.alias}}):e.selectedAssetVersion.type=="video"?t("video",e._b({},"video",e.videoPreviewAttrs,false),[t("source",{attrs:{src:e.selectedAssetVersion.url}})]):e.selectedAssetVersion.type=="diagrammar"?t("DiagrammarPreview",{ref:"bigPreview",attrs:{asset:e.selectedAssetVersion,"interactive-key":"bigPreview"}}):t("InteractivePreview",{ref:"bigPreview",attrs:{interactive:e.selectedAssetVersion,"interactive-key":"bigPreview"}})],1)]):e._e()]):e._e()])],1)])};var n=[];a._withStripped=true;var i=t(0);var r=t(1);var o=t(9);var l=t(301);var d=t(1306);var c=t(961);var v=t(1307);var p=t(1308);let u=class e extends r["e"]{constructor(){super(...arguments);this.selectedAssetIndex=0;this.selectedVersion=""}get rawAssetList(){return Object.values(this.lessonAssets).map(e=>e[0].asset)}get selectedAssetAlias(){return Object.keys(this.lessonAssets)[this.selectedAssetIndex]}get selectableVersions(){return this.selectedAssetVersions.map(e=>e.lessonVersion)}get selectedAssetVersions(){return this.lessonAssets[this.selectedAssetAlias]}get selectedAssetVersion(){return this.selectedAssetVersions.filter(e=>e.lessonVersion===this.selectedVersion)[0].asset}get isSandboxLesson(){return["sandbox","none"].includes(this.$route.params.courseSlug)&&this.user.is_external_lesson_author}get backButtonInfo(){if(this.isSandboxLesson){return{title:"Authoring home",url:this.$router.resolve({name:"authors_dashboard"}).href}}return{title:"Back to course page",url:this.$router.resolve({name:"explorations_chapter",params:Object(l["f"])(this.$route)}).href}}isLegacyOrRetired(e){return e.version_state==="LEGACY"||e.version_state==="RETIRED"}get activeLessonVersions(){return this.lessonVersions.filter(e=>!this.isLegacyOrRetired(e))}get mainLessonVersion(){const e=this.lessonVersions.filter(e=>e.version_state==="PUBLISHED");if(e.length){return e[0]}if(this.activeLessonVersions.length){return this.activeLessonVersions[0]}return this.lessonVersions[0]}get currentViewFromHash(){const e=this.$route.hash.split("/")[1];if(e){return decodeURIComponent(e.trim())}return""}updatePathForSelectedAsset(){const e=this.currentViewFromHash;if(e!==this.selectedAssetAlias){const e=Object.assign(Object.assign({},this.$route),{hash:`#/${this.selectedAssetAlias}/`});this.$router.push(e)}}handleAssetSelect(e){this.selectedAssetIndex=e<Object.keys(this.lessonAssets).length?e:0;this.selectedVersion=this.selectedAssetVersions[0].lessonVersion;this.updatePathForSelectedAsset()}syncPathWithSelectedAsset(){if(Object.keys(this.lessonAssets).length===0){return}const e=this.currentViewFromHash;if(e){const s=Object.keys(this.lessonAssets).indexOf(e);if(s>=0){this.handleAssetSelect(s);return}}this.updatePathForSelectedAsset();this.selectedVersion=this.selectedAssetVersions[0].lessonVersion}mounted(){this.syncPathWithSelectedAsset()}};u=Object(i["b"])([Object(r["a"])({components:{AssetSelector:d["a"],AuthoringHomeButton:c["a"],DiagrammarPreview:v["a"],InteractivePreview:p["a"]},computed:Object.assign(Object.assign(Object.assign({},Object(o["mapState"])("lessonVersions",["lessonVersions"])),Object(o["mapGetters"])("lessonVersions",["lessonAssets"])),Object(o["mapState"])("globals",["user"])),metaInfo:{title:"Lesson Assets"}})],u);var h=u;var f=h;var m=t(2240);var b=t(5);var g=Object(b["a"])(f,a,n,false,null,"27c45032",null);if(false){var y}g.options.__file="frontend/views/lessons/editor/LessonAssetsVersionsList.vue";var x=s["default"]=g.exports},870:function(e,s,t){var a=t(954);if(typeof a==="string")a=[[e.i,a,""]];if(a.locals)e.exports=a.locals;var n=t(15).default;var i=n("0146e0f4",a,false,{});if(false){}},908:function(e,s,t){var a=t(1146);if(typeof a==="string")a=[[e.i,a,""]];if(a.locals)e.exports=a.locals;var n=t(15).default;var i=n("44f5c995",a,false,{});if(false){}},953:function(e,s,t){"use strict";var a=t(870);var n=t.n(a);var i=n.a},954:function(e,s,t){s=e.exports=t(14)(false);s.push([e.i,"",""])},961:function(e,s,t){"use strict";var a=function(){var e=this;var s=e.$createElement;var t=e._self._c||s;return t("router-link",{staticClass:"btn nav-btn",attrs:{to:{name:"authors_dashboard"},title:"Authoring home"}},[t("span",{staticClass:"b-sprite-quiz-v3-home"})])};var n=[];a._withStripped=true;var i=t(0);var r=t(1);let o=class e extends r["e"]{};o=Object(i["b"])([r["a"]],o);var l=o;var d=l;var c=t(953);var v=t(5);var p=Object(v["a"])(d,a,n,false,null,"c9ca534c",null);if(false){var u}p.options.__file="frontend/views/lessons/editor/AuthoringHomeButton.vue";var h=s["a"]=p.exports}}]);
//# sourceMappingURL=LessonAssetsVersionsList.ce9aaa144ef36d6d6169.js.map