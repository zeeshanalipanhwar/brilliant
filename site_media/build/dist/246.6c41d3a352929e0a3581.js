(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[246],{796:function(t,e,n){"use strict";n.r(e);n.d(e,"default",(function(){return l}));var r=n(848);var o=n.n(r);const i="dandy-draggable";const c="dandy-dragging";const s=".dandy-base";const a=".dandyDropZone";const u=".dandyDropBeacon";const d={subtree:true,childList:true,attributes:true,attributeOldValue:true,attributeFilter:[i]};function l(t){if(!t.ports.dandyIn){return()=>{}}let e=null;function n(n){const r=n;if(!r.currentTarget||!r.isPrimary||r.button!==0){return}p(t,r,e);r.target.releasePointerCapture(r.pointerId);const c=r.currentTarget.getBoundingClientRect();let s=r.clientX-c.left;let a=r.clientY-c.top;const u=L(r.currentTarget);if(u){const t=u.getBoundingClientRect();s=s+t.left;a=a+t.top}const d=new CustomEvent("dandydown",{detail:{clientX:r.clientX,clientY:r.clientY,offsetX:s,offsetY:a}});r.currentTarget.dispatchEvent(d);r.stopPropagation();r.preventDefault();document.addEventListener("pointermove",o);document.addEventListener("pointerup",i);document.addEventListener("pointercancel",i)}const r=new MutationObserver(t=>f(t,n));r.observe(t.root,d);v(t.root,n);const o=n=>{if(n.isPrimary){e=p(t,n,e);t.ports.dandyIn.send(n)}};const i=e=>{if(e.isPrimary){t.ports.dandyIn.send(e);t.ports.dandyIn.send({type:"cleardropzonesandbeacons"});document.removeEventListener("pointermove",o);document.removeEventListener("pointerup",i);document.removeEventListener("pointercancel",i);const n=t=>{t.stopPropagation()};document.addEventListener("click",n,true);setTimeout(()=>document.removeEventListener("click",n,true))}};const c=()=>{document.removeEventListener("pointermove",o);document.removeEventListener("pointerup",i);document.removeEventListener("pointercancel",i)};return c}function p(t,e,n){const r=t.root.querySelectorAll(".dandyDropBeacon");let o=null;let i=null;for(let t=0;t<r.length;t++){const n=r[t];const{left:c,right:s,top:a,bottom:u}=n.getBoundingClientRect();const d=(c+s)/2;const l=(a+u)/2;const p=Math.pow(e.clientX-d,2)+Math.pow(e.clientY-l,2);if(!o||p<o){o=p;i=n}}if(i&&i!==n){i.dispatchEvent(new Event("closestbeacon"))}return i}function f(t,e){t.forEach(t=>{if(t.type==="childList"){t.addedNodes.forEach(t=>v(t,e))}else if(t.type==="attributes"&&t.attributeName===i){m(t.target,e)}})}function v(t,e){if(!(t instanceof Element)){return}const n=t=>{t.addEventListener("pointerdown",e);t.addEventListener("touchstart",g)};const r=t.querySelectorAll(`[${i}]`);if(t.hasAttribute(i)){n(t)}r.forEach(n)}function m(t,e){const n=t;if(n.getAttribute(i)==="true"){n.addEventListener("pointerdown",e);n.addEventListener("touchstart",g)}else{n.removeEventListener("pointerdown",e);n.removeEventListener("touchstart",g)}}function g(t){t.preventDefault()}function E(t){const e=getComputedStyle(t);const n=e.getPropertyValue("transform");const r=e.getPropertyValue("perspective");const o=e.getPropertyValue("will-change");const i=e.getPropertyValue("filter");const c=e.getPropertyValue("contain");return n!=="none"||r!=="none"||o==="transform"||o==="perspective"||i!=="none"||c==="paint"}function y(t){if(E(t)){return t}if(t.parentElement){return y(t.parentElement)}return null}function L(t){const e=t.closest(s);if(e){return y(e)}return null}}}]);
//# sourceMappingURL=246.6c41d3a352929e0a3581.js.map