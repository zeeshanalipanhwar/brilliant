(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[222],{1374:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlochSphereProbe=t.BlochSphere=t.ProbeIcon=t.StateString=void 0;var n=s(r(779));var a=s(r(799));var o=r(830);var i=f(r(859));var u=f(r(1375));var l=s(r(1958));var c=f(r(842));function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){d=function e(t){return typeof t}}else{d=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return d(e)}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function y(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}function m(e,t){if(t&&(d(t)==="object"||typeof t==="function")){return t}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function C(e){return _(e)||S(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function S(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function _(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}var O="entangled";var T=a.default.cos,P=a.default.sin;var R=90;var I=120;var A={fill:o.WHITE,fontSize:14,letterSpacing:"0.3px",wordSpacing:"-1px"};var x={opacity:.5,strokeDasharray:"3,1"};var D=a.default.pi/16;var j=3;var k=18;function M(e){var t=e["0"].amplitude;var r=e["1"].amplitude;var n=t.toPolar().phi-r.toPolar().phi;var o=a.default.acos(t.toPolar().r)*2;return{azimuthal:n,polar:o}}var G=function e(t){var r=t.states;var a=null;if(r!==O){var i=M(r);a=[n.default.createElement(W,{polarAngle:i.polar,azimuthalAngle:i.azimuthal,offsetX:I/2-k,offsetY:8}),n.default.createElement(z,{amplitude:r["0"].amplitude,state:"0",x:I-12,y:R-26}),n.default.createElement(z,{amplitude:r["1"].amplitude,state:"1",x:I-12,y:R-8})]}else{a=[n.default.createElement(l.default,{offsetX:I/2-k,offsetY:8}),n.default.createElement("text",{style:A,"text-anchor":"end",x:I-12,y:R-26},"Entangled State")]}return n.default.createElement("svg",{style:{transform:"translate(0%, -100%)"},width:I,height:R},n.default.createElement("rect",{style:{fill:o.BLUE,stroke:o.BLUE},width:I,height:R,rx:o.OUTPUT_CORNER_RADIUS,ry:o.OUTPUT_CORNER_RADIUS}),n.default.createElement("rect",{style:{fill:o.BLUE,stroke:o.BLUE},x:0,y:R-o.OUTPUT_CORNER_RADIUS,width:o.OUTPUT_CORNER_RADIUS,height:o.OUTPUT_CORNER_RADIUS}),a)};var z=function e(t){var r=t.amplitude,a=t.state,o=t.x,i=t.y;return n.default.createElement("text",{style:A,x:o,y:i,"text-anchor":"end"},u.toSVG(r)," ",u.stateNameToString(a))};t.StateString=z;var L=function e(t){var r=t.fill,a=t.outline,i=t.iconColor;var u={fill:r,stroke:a};var l=c.gateSize();var f=l*.3;var s=l/2-f;return n.default.createElement("svg",{width:c.gateSize(),height:c.gateSize()},n.default.createElement("circle",{style:u,cx:l/2,cy:l/2,r:l/2-o.STROKE_WIDTH}),n.default.createElement(N,{offsetX:s,offsetY:s,color:i,radius:f}))};t.ProbeIcon=L;function B(e,t,r){var n=a.default.divide(e,a.default.norm(e));var o=n.get([0]);var i=n.get([1]);var u=n.get([2]);var l=a.default.matrix([[T(t)+o*o*(1-T(t)),o*i*(1-T(t))-u*P(t),o*u*(1-T(t))+i*P(t)],[i*o*(1-T(t))+u*P(t),T(t)+i*i*(1-T(t)),i*i*(1-T(t))-o*P(t)],[u*u*(1-T(t))-i*P(t),u*i*(1-T(t))+o*P(t),T(t)+u*u*(1-T(t))]]);return a.default.multiply(l,r)}var W=function e(t){var r=t.polarAngle,i=t.azimuthalAngle,u=t.offsetX,l=t.offsetY;var c=k*P(r)*T(i);var f=k*P(r)*P(i);var s=k*T(r);var d=a.default.matrix([-1,0,1]);var v=B(d,D,a.default.matrix([c,f,s]));var p=v.get([0]);var y=v.get([2]);var m=f>=-o.EPSILON;var h={stroke:o.WHITE,fill:"#FFA048",opacity:m?1:.75,strokeDasharray:m?"":"3,1"};return n.default.createElement("g",{transform:"translate(".concat(u,", ").concat(l,")")},n.default.createElement(N,{radius:k,offsetX:0,offsetY:0,color:o.WHITE}),n.default.createElement("line",{style:m?null:x,stroke:o.WHITE,x1:k,y1:k,x2:k+p,y2:k-y}),n.default.createElement("circle",{style:h,cx:k+p,cy:k-y,r:j}))};t.BlochSphere=W;var N=function e(t){var r=t.offsetX,o=t.offsetY,i=t.radius,u=t.color;var l=i*a.default.sin(D);return n.default.createElement("g",{style:{stroke:u,fill:"none"},transform:"translate(".concat(r,", ").concat(o,")")},n.default.createElement("path",{style:x,d:"\n                    M ".concat(i,",0\n                    A ").concat(l,",").concat(i," 0 1,1 ").concat(i,",").concat(i*2,"\n                ")}),n.default.createElement("path",{style:x,d:"\n                    M 0,".concat(i,"\n                    A ").concat(i,",").concat(l," 0 1,1 ").concat(i*2,",").concat(i,"\n                ")}),n.default.createElement("circle",{cx:i,cy:i,r:i}),n.default.createElement("path",{d:"\n                    M 0,".concat(i,"\n                    A ").concat(i,",").concat(l," 0 1,0 ").concat(i*2,",").concat(i,"\n                ")}),n.default.createElement("path",{d:"\n                    M ".concat(i,",0\n                    A ").concat(l,",").concat(i," 0 1,0 ").concat(i,",").concat(i*2,"\n                ")}))};function K(e,t,r){return Math.max(t,Math.min(e,r))}function U(e,t){return Math.max.apply(Math,C(e.filter((function(e){return e<=t}))))}function H(e,t,r){var n=[[]];for(var a=0;a<=t;a++){n[0].push(r[e][a])}var o=i.getStateValues(i.simulate(n));return o}var Y=function(e){b(t,e);function t(){var e;v(this,t);e=m(this,g(t).call(this));e.lastProbe={};return e}y(t,[{key:"measureAt",value:function e(t,r,n){if(t===this.lastProbe.row&&r===this.lastProbe.column){return this.lastProbe.states}this.lastProbe={row:t,column:r};if(!i.isQubitEntangledAfterColumn(t,r,n)){this.lastProbe.states=H(t,r,n);return this.lastProbe.states}this.lastProbe.states=O;return this.lastProbe.states}},{key:"render",value:function e(){var t=this.props,r=t.currentPageOffset,a=t.gridDivId,u=t.circuit;var l=document.querySelector("#".concat(a));var f=l.getBoundingClientRect();var s=i.getRowCenters(u);var d=i.getColumnCenters(u);var v=K(r.x,f.left,f.right);var p=Math.max(r.y,f.top+s[0]+c.gateSize()/2);var y=v-f.left;var m=p-f.top;var h=U(s,m-c.gateSize()/2);var g=U(d,y);var b=s.indexOf(h);var E=d.indexOf(g);var C=this.measureAt(b,E,u);var w=o.STROKE_WIDTH*2;var S={x:v-c.gateSize()/2,y:p-c.gateSize()/2};var _={x:v,y:f.top+h};var O=S.y-_.y;function T(e){var t=e.x,r=e.y;return{position:"absolute",left:t,top:r}}return n.default.createElement("div",null,n.default.createElement("div",{style:T(S)},n.default.createElement(L,{fill:o.BLUE,outline:o.BLUE,iconColor:o.WHITE})),n.default.createElement("div",{style:T(_)},n.default.createElement(G,{states:C})),n.default.createElement("svg",{style:T(_),width:w,height:O},n.default.createElement("line",{style:{stroke:o.BLUE,strokeWidth:w},x1:w/2,y1:0,x2:w/2,y2:O})))}}]);return t}(n.default.Component);t.BlochSphereProbe=Y},1375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toSVG=u;t.toHTML=l;t.stateNameToString=c;var n=o(r(779));var a=o(r(799));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.im<0?"-":"+";return"".concat(e.re.toFixed(2)," ").concat(t," ").concat(a.default.abs(e.im).toFixed(2))}function u(e){return n.default.createElement("tspan",null,i(e),n.default.createElement("tspan",{"font-style":"italic"},"i"))}function l(e){return n.default.createElement("span",null,i(e),n.default.createElement("i",null,"i"))}function c(e){return"|".concat(e,"âŸ©")}},1376:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Histogram=t.CheatTable=t.PerQubitProbability=void 0;var n=d(r(779));var a=d(r(799));var o=d(r(813));var i=r(916);var u=s(r(859));var l=s(r(1375));var c=r(830);var f=s(r(842));function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){v=function e(t){return typeof t}}else{v=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return v(e)}function p(e,t){return h(e)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(e,t){var r=[];var n=true;var a=false;var o=undefined;try{for(var i=e[Symbol.iterator](),u;!(n=(u=i.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){a=true;o=e}finally{try{if(!n&&i["return"]!=null)i["return"]()}finally{if(a)throw o}}return r}function h(e){if(Array.isArray(e))return e}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function E(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);return e}function C(e,t){if(t&&(v(t)==="object"||typeof t==="function")){return t}return w(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}var T=6*Math.PI/4;var P=8;var R={x:9,y:11};var I=Math.PI/2+T/2;var A=Math.PI/2-T/2;var x={x:R.x+P*Math.cos(I),y:R.y-P*Math.sin(I)};var D={x:R.x+P*Math.cos(A),y:R.y-P*Math.sin(A)};var j=32;function k(e,t,r){return e+(t-e)*r}function M(e){return"".concat(Math.round(e*100),"%")}var G=function e(t){var r=t.circuitSimulator;return n.default.createElement(i.ColumnContainer,{style:{width:"".concat(f.perQubitProbability().width,"px"),textAlign:"right"},spacing:f.VERTICAL_SPACING},Object.values(r.probabilities()).map((function(e){return n.default.createElement("div",{style:{height:"".concat(f.gateSize(),"px"),padding:"".concat((f.gateSize()-j)/2,"px 0")}},n.default.createElement("div",{style:{color:c.WHITE,backgroundColor:c.BLUE,borderRadius:c.OUTPUT_CORNER_RADIUS,display:"flex",height:"".concat(j,"px"),justifyContent:"space-between",alignItems:"center",padding:"0 4px"}},n.default.createElement("svg",{style:{display:"block",width:"18px",height:"18px",stroke:c.WHITE,fill:"none"}},n.default.createElement("path",{d:"M".concat(x.x,",").concat(x.y," \n                                A").concat(P,",").concat(P," \n                                0 1,1 \n                                ").concat(D.x,",").concat(D.y)}),n.default.createElement("line",{x1:R.x,y1:R.y,x2:R.x+P,y2:R.y,transform:"rotate(".concat(k(I,A,e)*(180/Math.PI)*-1,", \n                                ").concat(R.x,", \n                                ").concat(R.y,")")})),n.default.createElement("div",{style:{fontSize:"".concat(f.perQubitProbability().fontSize,"px")}},M(e))))})))};t.PerQubitProbability=G;var z=c.BLUE;var L=c.WHITE;var B={padding:"8px 16px",backgroundColor:z,borderRadius:"".concat(c.OUTPUT_CORNER_RADIUS,"px")};var W=function e(t){var r=t.circuitSimulator;var a=u.getStateValues(r,true);var o=Object.keys(a).sort().map((function(e){return[n.default.createElement("div",null,"(",l.toHTML(a[e].amplitude),")"),n.default.createElement("div",null,l.stateNameToString(e))]}));return n.default.createElement("div",{style:B},n.default.createElement(H,{rows:o}))};t.CheatTable=W;var N=50;var K=function(e){_(t,e);function t(e){var r;g(this,t);r=C(this,S(t).call(this,e));r.resetMeasurements(r.props.circuitSimulator);return r}E(t,[{key:"componentWillReceiveProps",value:function e(t){this.resetMeasurements(t.circuitSimulator)}},{key:"componentDidMount",value:function e(){var t=this;this.measurementLoop=window.setInterval((function(){return t.measureCircuit()}),N)}},{key:"componentWillUnmount",value:function e(){window.clearInterval(this.measurementLoop)}},{key:"measureCircuit",value:function e(){var t=this.state.stateProbabilities;if(t){var r=a.default.pickRandom(Object.keys(t),Object.values(t));this.setState((function(e){e.samples[r]++;return e}))}}},{key:"resetMeasurements",value:function e(t){var r=Object.entries(u.getStateValues(t)).sort();var n={};var a={};r.forEach((function(e){var t=p(e,2),r=t[0],o=t[1].amplitude;n[r]=0;a[r]=o.re*o.re+o.im*o.im}));this.setState({samples:n,stateProbabilities:a})}},{key:"getTotalMeasurements",value:function e(){return Object.entries(this.state.samples).reduce((function(e,t){var r=p(t,2),n=r[1];return e+n}),0)}},{key:"render",value:function e(){var t=this.state.samples;if(!t){return null}var r=this.getTotalMeasurements();var a=Object.keys(t).sort().map((function(e){return[n.default.createElement("div",null,l.stateNameToString(e)),n.default.createElement(U,{percentage:t[e]/r,width:60})]}));return n.default.createElement("div",{style:B},n.default.createElement(H,{rows:a}))}}]);return t}(n.default.Component);t.Histogram=K;var U=function e(t){var r=t.percentage,a=t.width;return n.default.createElement("div",{style:{width:"".concat(a,"px"),border:"1px solid ".concat(L),position:"relative"}},n.default.createElement("div",{style:{left:0,right:"".concat((1-r)*100,"%"),top:0,bottom:0,position:"absolute",backgroundColor:L}}))};var H=function e(t){var r=t.rows;var a=r.length;if(a<8){return n.default.createElement(Y,null,r.flat())}return n.default.createElement(V,{rows:r})};var Y=o.default.div.withConfig({displayName:"CircuitOutputs__CheatColumn",componentId:"rnj72q-0"})(["display:grid;grid-template-columns:auto auto;grid-auto-rows:min-content;column-gap:4px;row-gap:4px;color:",";"],L);var V=function e(t){var r=t.rows;var a=Math.ceil(r.length/2);var o=r.slice(0,a);var u=r.slice(a,r.length);return n.default.createElement(i.RowContainer,{style:{fontSize:"16px"},spacing:8},n.default.createElement(Y,null,o.flat()),n.default.createElement(Q,null),n.default.createElement(Y,null,u.flat()))};var Q=o.default.div.withConfig({displayName:"CircuitOutputs__VerticalRule",componentId:"rnj72q-1"})(["width:1px;background-color:",";opacity:0.4;"],L)},1824:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createQuantumCircuit=c;var n=l(r(779));var a=r(859);var o=r(830);var i=l(r(1846));var u=l(r(1847));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,l,c,f){try{(0,a.validateConfiguration)(r)}catch(t){return n.default.render(n.default.createElement(i.default,null,t.message),e)}if(r.startingCircuit===undefined){r.startingCircuit=(0,a.createEmpty)(r.rows,r.columns)}if(r.allowedGates===undefined){r.allowedGates=o.PALETTE_GATES}if(r.rowColors===undefined){r.rowColors=[]}var s=n.default.render(n.default.createElement(u.default,{circuitOutputs:r.circuitOutputs,allowedGates:r.allowedGates,startingCircuit:r.startingCircuit,blackBoxColumns:r.blackBoxColumns,rowColors:r.rowColors,interactiveSolvableType:r.interactiveSolvableType,successStates:r.successStates,visualizationKey:t,userState:l,solvableConfig:c,interactiveSlug:f}),e);return s.child}},1846:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(r(813));function a(e){return e&&e.__esModule?e:{default:e}}var o=n.default.div.withConfig({displayName:"ErrorMessage",componentId:"sc-1xlcaz0-0"})(["color:red;"]);var i=o;t.default=i},1847:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=m(r(779));var a=m(r(813));var o=y(r(859));var i=m(r(1848));var u=r(1376);var l=m(r(1959));var c=r(916);var f=m(r(1961));var s=m(r(1962));var d=r(830);var v=y(r(842));var p=r(13);function y(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){h=function e(t){return typeof t}}else{h=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return h(e)}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function E(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);return e}function C(e,t){if(t&&(h(t)==="object"||typeof t==="function")){return t}return S(e)}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function S(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}var T=a.default.div.withConfig({displayName:"QuantumCircuit__AppStyles",componentId:"sc-1ahq8ez-0"})(["user-select:none;font-family:Times New Roman;font-size:18px;color:",";line{stroke-width:",";}"],d.DARK_GRAY,d.STROKE_WIDTH);function P(e,t){return JSON.stringify(e)===JSON.stringify(t)}var R=function(e){_(t,e);function t(e){var r;g(this,t);r=C(this,w(t).call(this,e));Object.defineProperty(S(r),"onDragProbe",{configurable:true,enumerable:true,writable:true,value:function e(){r.setState({})}});var n=r.props,a=n.startingCircuit,i=n.interactiveSolvableType;if(e.userState&&r.validateUserState(e.userState)){r.state.circuit=o.clone(e.userState.circuit)}else{r.state.circuit=o.clone(a)}r.addGate=r.addGate.bind(S(r));r.removeGate=r.removeGate.bind(S(r));v.setLayout(r.state.circuit);if(e.solvableConfig){r.isInteractiveSolvable=true;r.solvableType=i||"submittable";r.solvableCallbacks=e.solvableConfig.callbacks;r.state.hasBeenSolved=e.solvableConfig.hasBeenSolved;r.state.guessedWrong=false;if(!e.successStates||e.successStates.length===0){throw new Error("One or more success states are required for interactive Quantum Circuit solvables")}r.updateSolvableContainer()}return r}E(t,[{key:"validateUserState",value:function e(t){if(t.circuit){var r=t.circuit.length>0&&(t.circuit.length!==this.props.startingCircuit.length||t.circuit[0].length!==this.props.startingCircuit[0].length);if(r){return false}for(var n=0;n<t.circuit.length;n+=1){for(var a=0;a<t.circuit[n].length;a+=1){var o=t.circuit[n][a];if(o.length===2){if(this.props.allowedGates.indexOf(o[0])<0){return false}}else if(o!=="-"&&this.props.allowedGates.indexOf(o)<0){return false}}}return true}return false}},{key:"isUnchanged",value:function e(){return P(this.props.startingCircuit,this.state.circuit)}},{key:"isSolved",value:function e(){if(this.props.successStates&&this.props.successStates.length){for(var t=0;t<this.props.successStates.length;t+=1){if(P(this.props.successStates[t].circuit,this.state.circuit)){return true}}}return false}},{key:"resetPressed",value:function e(){this.setState({circuit:o.clone(this.props.startingCircuit)})}},{key:"checkAnswerPressed",value:function e(){if(this.solvableType==="submittable"){this.setState({hasBeenSolved:this.isSolved(),guessedWrong:!this.isSolved()});this.solvableCallbacks.saveState(this.state,this.isSolved())}}},{key:"updateSolvableContainer",value:function e(){var t="Drag gates onto the circuit";var r="ðŸŽŠ You got it!";var n="ðŸ¤” Try that again.";if(this.state.hasBeenSolved){this.solvableCallbacks.setCaption(r)}else if(this.state.guessedWrong){this.solvableCallbacks.setCaption(n)}else{this.solvableCallbacks.setCaption(t)}if(this.isUnchanged()){this.solvableCallbacks.setResetButtonEnabled(false);if(this.solvableType==="submittable"){this.solvableCallbacks.setSubmitButtonEnabled(false)}}else{this.solvableCallbacks.setResetButtonEnabled(true);if(this.solvableType==="submittable"){this.solvableCallbacks.setSubmitButtonEnabled(true)}}}},{key:"componentDidUpdate",value:function e(t,r){if(this.solvableCallbacks){this.updateSolvableContainer()}if(P(this.state.circuit,r.circuit)){return}if(this.solvableType==="auto-check"){if(this.isSolved()){this.setState({hasBeenSolved:true})}this.solvableCallbacks.saveState(this.state,this.isSolved())}else if(this.solvableType==="submittable"){this.solvableCallbacks.saveState(this.state)}}},{key:"render",value:function e(){var t=this.state.circuit;var r=this.props,a=r.visualizationKey,s=r.blackBoxColumns,p=r.rowColors;var y=o.simulate(t);return n.default.createElement(T,null,n.default.createElement(f.default,{visualizationKey:a,gridDivId:d.GRID_DIV_ID,circuit:t}),n.default.createElement(c.ColumnContainer,{spacing:2*v.VERTICAL_SPACING,style:{alignItems:"center"}},n.default.createElement(l.default,{visualizationKey:a,circuit:t,circuitSimulator:y,blackBoxColumns:s,showPerQubitProbability:this.shouldShowPerQubitProbability(),rowColors:p,handlers:{addGate:this.addGate,removeGate:this.removeGate}}),n.default.createElement(i.default,{gates:this.props.allowedGates,shouldShowProbe:this.shouldShowBlochSphereProbe(),visualizationKey:a,onDragProbe:this.onDragProbe}),this.shouldShowCheatTable()?n.default.createElement(u.CheatTable,{circuitSimulator:y}):null,this.shouldShowHistogram()?n.default.createElement(u.Histogram,{circuitSimulator:y}):null))}},{key:"addGate",value:function e(t,r,n){this.setState((function(e){return{circuit:o.addGate(t,r,n,e.circuit)}}));this.trackChangeEvent()}},{key:"removeGate",value:function e(t,r){this.setState((function(e){return{circuit:o.removeGate(t,r,e.circuit)}}));this.trackChangeEvent()}},{key:"trackChangeEvent",value:function e(){(0,p.track)("ui",{action:"circuit_changed",visualization_type:"quantum_circuit",visualization_name:this.props.interactiveSlug})}},{key:"shouldShowBlochSphereProbe",value:function e(){return this.props.circuitOutputs.includes("BlochSphereProbe")}},{key:"shouldShowPerQubitProbability",value:function e(){return this.props.circuitOutputs.includes("PerQubitProbability")}},{key:"shouldShowHistogram",value:function e(){return this.props.circuitOutputs.includes("Histogram")}},{key:"shouldShowCheatTable",value:function e(){return this.props.circuitOutputs.includes("CheatTable")}},{key:"getConfigValue",value:function e(){var t=this;return new Promise((function(e){return e({circuit:t.state.circuit.slice()})}))}}]);return t}(n.default.Component);var I=(0,s.default)()(R);t.default=I},1848:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=d(r(779));var a=r(911);var o=r(1016);var i=r(916);var u=r(963);var l=r(1374);var c=r(830);var f=s(r(842));function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){v=function e(t){return typeof t}}else{v=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return v(e)}function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))}n.forEach((function(t){y(e,t,r[t])}))}return e}function y(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function b(e,t){if(t&&(v(t)==="object"||typeof t==="function")){return t}return E(e)}function E(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return C(e)}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return S(e,t)}var _=function e(t){var r=t.gates,a=t.shouldShowProbe,o=t.visualizationKey,l=t.onDragProbe;var s=8;var d=Math.floor(c.MAX_VIZ_WIDTH/(f.gateSize()+s));var v=Math.ceil(r.length/d);var p=Math.ceil(r.length/v);var y=[];for(var m=0;m<v;m++){var h=m*p;var g=Math.min((m+1)*p,r.length);var b=r.slice(h,g);y.push(n.default.createElement(i.RowContainer,{spacing:s},b.map((function(e){return n.default.createElement(u.DraggableCell,{visualizationKey:o,contents:e,draggable:true})}))))}return n.default.createElement(i.ColumnContainer,{style:{alignItems:"center"},spacing:s},y,a?n.default.createElement(R,{visualizationKey:o,onBeginDrag:l}):null)};var O=function(e){w(t,e);function t(){m(this,t);return b(this,C(t).apply(this,arguments))}g(t,[{key:"componentDidMount",value:function e(){var t=this.props.connectDragPreview;if(t){t((0,o.getEmptyImage)())}}},{key:"render",value:function e(){var t=this.props,r=t.connectDragSource,a=t.isDragging;var o=!a?c.BLUE:"#E7E7E7";var i=!a?c.WHITE:"#777777";var u={cursor:"grab"};return r(n.default.createElement("div",{className:"android-draggable",style:p({height:"".concat(f.gateSize(),"px")},u)},n.default.createElement(l.ProbeIcon,{fill:o,outline:i,iconColor:i})))}}]);return t}(n.default.Component);var T={beginDrag:function e(t){var r=t.onBeginDrag,n=t.visualizationKey;if(r){r()}return{visualizationKey:n}}};function P(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}var R=(0,a.DragSource)(c.DraggableTypes.PROBE,T,P)(O);var I=_;t.default=I},1958:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(r(779));var a=i(r(813));var o=r(830);function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.g.withConfig({displayName:"EntanglementIcon__EntanglementGroup",componentId:"nvrllf-0"})(["width:38px;height:34px;transform:translate(","px,","px);fill:none;stroke:none;> path{stroke:none;fill:",";}"],(function(e){return e.offsetX}),(function(e){return e.offsetY}),o.WHITE);var l=function e(t){var r=t.offsetX,a=t.offsetY;return n.default.createElement(u,{offsetX:r,offsetY:a},n.default.createElement("path",{d:"M17.7457 0.963954C20.5443 0.427442 23.3953 1.87395 25.1364 4.02102C27.2787 6.57254 28.2453 9.92086 28.4127 13.2036C28.4969 15.6593 28.0236 18.1179 27.1296 20.4015C25.7472 23.7389 23.7416 26.9084 20.8799 29.1674C20.4217 28.9048 19.9711 28.6301 19.527 28.3449C20.5993 27.3982 21.7031 26.4689 22.5694 25.3198C24.8409 22.3629 26.5166 18.8434 26.8506 15.0958C27.0737 11.7657 26.3695 8.26777 24.3871 5.53173C23.1789 3.84332 21.3127 2.51457 19.1956 2.37088C17.2044 2.29213 15.3688 3.41976 14.0963 4.87851C12.31 6.96465 11.4454 9.68965 11.1798 12.3884C10.6602 12.5451 10.1495 12.7292 9.64685 12.9335C9.75329 10.2697 10.4784 7.60365 11.8783 5.32515C13.198 3.21344 15.2492 1.44202 17.7457 0.963954Z",fill:"white"}),n.default.createElement("path",{d:"M9.9439 13.6446C13.0114 12.2729 16.4284 11.9664 19.7512 12.0421C21.8897 12.0583 24.0631 12.2096 26.108 12.8777C26.1576 13.403 26.1771 13.9306 26.1579 14.4584C23.8538 13.7019 21.4108 13.5201 18.9999 13.5367C16.4824 13.5592 13.9244 13.7668 11.5438 14.6431C8.13162 15.8697 5.02194 18.2314 3.33153 21.486C2.5823 23.0407 2.08221 24.853 2.59594 26.559C3.09621 28.7496 5.01777 30.3523 7.11245 30.9606C10.2849 31.9803 13.7288 31.2674 16.7146 29.9811C17.1491 30.3422 17.6071 30.6732 18.0674 31.0008C15.5357 32.2694 12.7175 33.0323 9.873 32.9569C7.6121 32.8745 5.29503 32.2087 3.53179 30.7479C1.65993 29.2546 0.672879 26.7804 0.909842 24.4074C1.12271 22.0164 2.31252 19.8105 3.85501 18.0109C5.53044 16.1319 7.62442 14.626 9.9439 13.6446Z",fill:"white"}),n.default.createElement("path",{d:"M29.1894 14.1264C31.5344 15.2729 33.574 17.0296 35.0916 19.1507C36.2542 20.8745 37.1261 22.8721 37.1713 24.9786C37.2303 27.2949 36.2155 29.6161 34.3959 31.0703C32.185 32.8489 29.2018 33.4935 26.415 33.1852C23.5099 32.9468 20.709 31.8593 18.2994 30.2384C15.3692 28.2774 13.2125 25.3512 11.7164 22.1932C10.7675 20.3256 10.1217 18.3079 9.77942 16.2427C10.2458 15.9878 10.7296 15.7669 11.221 15.5652C11.6091 18.5455 12.8111 21.3584 14.3846 23.8983C16.2419 26.9458 19.0647 29.4317 22.4164 30.7002C24.6945 31.5834 27.2059 31.9687 29.63 31.5719C31.688 31.1856 33.7517 30.1287 34.8312 28.2651C35.7785 26.6152 35.8913 24.5588 35.2426 22.7819C34.1959 19.7656 31.8419 17.3213 29.0809 15.791C29.0894 15.2347 29.1432 14.6803 29.1894 14.1264Z",fill:"white"}),n.default.createElement("path",{d:"M17.0468 17.7513C16.7868 17.7513 16.6068 17.8313 16.4468 17.9513C16.1168 18.1813 15.8368 18.6213 15.6768 19.1513C15.6568 19.2213 15.6468 19.2613 15.6468 19.2913C15.6468 19.3313 15.6868 19.3613 15.7068 19.3813H15.8468C16.0368 19.3813 16.0068 19.3813 16.0468 19.2913C16.1568 18.8713 16.3268 18.5413 16.5368 18.3313C16.6868 18.1813 16.8168 18.1213 16.9768 18.1213H17.0268C17.1468 18.1213 17.1668 18.1913 17.1668 18.3713C17.1668 18.5813 17.1568 18.6313 16.9468 19.1913C16.6768 19.9313 16.5568 20.3113 16.5068 20.5613C16.4968 20.6313 16.4968 20.7013 16.4968 20.7713C16.4968 21.7413 17.1768 22.1213 18.0868 22.2413C18.1568 22.2413 18.2268 22.2513 18.2268 22.2513C18.2268 22.2613 18.1268 22.6713 17.9968 23.1813C17.8668 23.6913 17.7668 24.1113 17.7668 24.1313C17.7668 24.1513 17.8068 24.1913 17.8268 24.2113H17.9568C18.1068 24.2113 18.1368 24.2013 18.1568 24.1513C18.1568 24.1413 18.2668 23.7113 18.3968 23.2013L18.6268 22.2713H18.7268C19.3268 22.2713 20.0068 21.9513 20.5668 21.4013C20.9868 20.9813 21.3068 20.4913 21.4868 19.9613C21.5368 19.8313 21.6468 19.3613 21.6968 19.1313C21.7468 18.8813 21.7768 18.6713 21.7768 18.5013C21.7768 18.1113 21.6268 17.7313 21.2668 17.7313C21.0068 17.7313 20.6768 17.9913 20.6768 18.3213C20.6768 18.3813 20.6868 18.4313 20.7168 18.4813C20.7468 18.5413 20.7568 18.5613 20.8968 18.6813C21.0968 18.8713 21.1968 19.1013 21.1968 19.3813C21.1968 19.5113 21.1668 19.6513 21.1268 19.8013C20.8668 20.6713 20.0568 21.5913 19.1768 21.8513C19.0668 21.8813 18.8768 21.9013 18.7868 21.9013C18.7468 21.9013 18.7268 21.9013 18.7268 21.8913C18.7268 21.8813 19.0968 20.4013 19.5468 18.6013C20.2668 15.7413 20.3568 15.3513 20.3568 15.2913C20.3568 15.2313 20.2968 15.2213 20.1568 15.2213C20.0368 15.2213 20.0268 15.2213 19.9968 15.2413C19.9768 15.2613 19.9168 15.5213 19.1468 18.5613L18.3268 21.8713H18.3168C18.2768 21.8713 18.0968 21.8313 18.0068 21.7913C17.8268 21.7413 17.7068 21.6613 17.5768 21.5513C17.4068 21.3813 17.3268 21.1813 17.3068 20.8913C17.2968 20.5813 17.3868 20.2513 17.7568 19.2513C17.9168 18.8313 17.9368 18.7513 17.9368 18.5813C17.9368 18.1213 17.5968 17.7513 17.0468 17.7513Z",fill:"white"}))};var c=l;t.default=c},1959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=p(r(779));var a=p(r(813));var o=v(r(999));var i=r(916);var u=r(830);var l=v(r(859));var c=r(1376);var f=r(963);var s=p(r(1960));var d=v(r(842));function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){y=function e(t){return typeof t}}else{y=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return y(e)}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function b(e,t){if(t&&(y(t)==="object"||typeof t==="function")){return t}return E(e)}function E(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return C(e)}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return S(e,t)}function _(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))}n.forEach((function(t){O(e,t,r[t])}))}return e}function O(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function T(e){return I(e)||R(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function R(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function I(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function A(e){return d.wireExtension()+d.gateSize()*e+d.horizontalSpacing()*(e-1)+d.wireExtension()}function x(e){return d.gateSize()*e+d.VERTICAL_SPACING*(e-1)}function D(e){return d.gateSize()/2+(d.gateSize()+d.VERTICAL_SPACING)*e}function j(e){var t=l.clone(e);for(var r=0;r<l.numRows(e);r++){for(var n=0;n<l.numColumns(e);n++){var a=e[r][n];if(l.isBinaryGatePair(a)){var o=l.getActionRow(a);var i=l.getActionGate(a);t[r][n]="CONTROL_".concat(i);t[o][n]="ACTION_".concat(i)}}}return t}function k(e){var t=[];for(var r=0;r<l.numRows(e);r++){for(var n=0;n<l.numColumns(e);n++){var a=e[r][n];if(l.isBinaryGatePair(a)){var o=l.getActionRow(a);t.push({column:n,fromRow:Math.min(r,o),toRow:Math.max(r,o)})}}}return t}function M(e,t){var r=d.gateSize()/2;return"\n        M".concat(r,",").concat(D(e),"\n        L").concat(r,",").concat(D(t),"\n    ")}function G(e){var t=e.fromRow,r=e.toRow,n=e.gutterTrack,a=e.jogStartTrack,o=e.jogEndTrack;var i=d.gateSize()/2;var u=d.gateSize()+n*d.horizontalSpacing();var l=D(t);var c=l+d.gateSize()/2+a*d.VERTICAL_SPACING;var f=D(r);var s=f-d.gateSize()/2-d.VERTICAL_SPACING+o*d.VERTICAL_SPACING;var v=4;return"\n        M ".concat(i,", ").concat(l,"\n        V ").concat(c-v,"\n        A ").concat(v,",").concat(v," 0 0,0 ").concat(i+v,",").concat(c,"\n\n        H ").concat(u-v,"\n        A ").concat(v,",").concat(v," 0 0,1 ").concat(u,",").concat(c+v,"\n\n        V ").concat(s-v,"\n        A ").concat(v,",").concat(v," 0 0,1 ").concat(u-v,",").concat(s,"\n\n        H ").concat(i+v,"\n        A ").concat(v,",").concat(v," 0 0,0 ").concat(i,",").concat(s+v,"\n\n        V ").concat(f,"\n    ")}var z=function e(t){var r=t.rows,a=t.colors;return n.default.createElement(i.ColumnContainer,{spacing:d.VERTICAL_SPACING},T(Array(r)).map((function(e,t){var r=a[t]||"none";return n.default.createElement(B,{color:r},"|0âŸ©")})))};function L(e){if(e==="none"){return{textColor:u.DARK_GRAY,backgroundColor:"transparent"}}return{textColor:u.WHITE,backgroundColor:o[e]}}var B=a.default.div.withConfig({displayName:"CircuitGrid__StartingQubit",componentId:"sc-6eq6kf-0"})(["height:32px;margin-top:","px;margin-bottom:","px;line-height:30px;width:24px;text-align:center;background-color:",";color:",";border-radius:4px;}"],(function(){return(d.gateSize()-32)/2}),(function(){return d.VERTICAL_SPACING+(d.gateSize()-32)/2}),(function(e){return L(e.color).backgroundColor}),(function(e){return L(e.color).textColor}));var W=a.default.div.withConfig({displayName:"CircuitGrid__CircuitLayersContainer",componentId:"sc-6eq6kf-1"})(["position:relative;width:","px;height:","px;> div{position:absolute;}"],(function(e){return A(e.columns)}),(function(e){return x(e.rows)}));var N=function e(t){var r=t.circuit,a=t.blackBoxColumns,o=t.onCellBeginDrag,u=t.onDropGateOnCell,l=t.visualizationKey;var c=j(r);return n.default.createElement(i.ColumnContainer,{spacing:d.VERTICAL_SPACING},c.map((function(e,t){return n.default.createElement(Q,{cells:e,visualizationKey:l,blackBoxColumns:a,onCellBeginDrag:function e(r){return o(t,r)},onDropGateOnCell:function e(r,n){return u(t,r,n)}})})))};var K=function e(t){var r=t.rows,a=t.columns;return n.default.createElement(i.ColumnContainer,{spacing:d.VERTICAL_SPACING},Array(r).fill(n.default.createElement(X,{numCells:a})))};var U=function e(t){var r=t.circuit,a=t.blackBoxColumns;var o=k(r);var i=Array.from(Array(l.numColumns(r)),(function(){return[]}));var c=o.reduce((function(e,t){var r=a&&t.column>=a.start&&t.column<=a.end;if(!r){e[t.column].push(t)}return e}),i);var f=c.map((function(e,t){var n=e.map((function(e){return _({obstructed:l.isControlWireObstructed(e,t,r)},e)}));n.sort((function(e,t){return e.fromRow-t.fromRow}));if(n.length===2&&n[0].obstructed&&n[1].obstructed){n[0].gutterTrack=u.WIRE_TRACK.OUTSIDE;n[1].gutterTrack=u.WIRE_TRACK.INSIDE;if(n[0].toRow===n[1].fromRow+1){n[0].jogStartTrack=u.WIRE_TRACK.MIDDLE;n[0].jogEndTrack=u.WIRE_TRACK.OUTSIDE;n[1].jogStartTrack=u.WIRE_TRACK.INSIDE;n[1].jogEndTrack=u.WIRE_TRACK.MIDDLE}else{n[0].jogStartTrack=u.WIRE_TRACK.MIDDLE;n[0].jogEndTrack=u.WIRE_TRACK.MIDDLE;n[1].jogStartTrack=u.WIRE_TRACK.MIDDLE;n[1].jogEndTrack=u.WIRE_TRACK.MIDDLE}}else{n=n.map((function(e){return _({},e,{gutterTrack:u.WIRE_TRACK.MIDDLE,jogStartTrack:u.WIRE_TRACK.MIDDLE,jogEndTrack:u.WIRE_TRACK.MIDDLE})}))}return n}));return n.default.createElement(H,null,f.map((function(e){return n.default.createElement("svg",{width:d.gateSize()+d.horizontalSpacing(),height:x(l.numRows(r))},e.map((function(e){if(!e.obstructed){return n.default.createElement(Y,{fromRow:e.fromRow,toRow:e.toRow})}return n.default.createElement(V,{fromRow:e.fromRow,toRow:e.toRow,gutterTrack:e.gutterTrack,jogStartTrack:e.jogStartTrack,jogEndTrack:e.jogEndTrack})})))})))};var H=a.default.div.withConfig({displayName:"CircuitGrid__WireColumnsGrid",componentId:"sc-6eq6kf-2"})(["display:flex;padding-left:","px;flex-direction:row;path{stroke:",";stroke-width:",";stroke-linejoin:round;}"],(function(){return d.wireExtension()}),u.DARK_GRAY,u.STROKE_WIDTH);var Y=function e(t){var r=t.fromRow,a=t.toRow;return n.default.createElement("path",{d:M(r,a)})};var V=function e(t){var r=t.fromRow,a=t.toRow,o=t.gutterTrack,i=t.jogStartTrack,u=t.jogEndTrack;return n.default.createElement("path",{d:G({fromRow:r,toRow:a,gutterTrack:o,jogStartTrack:i,jogEndTrack:u}),"fill-opacity":"0"})};var Q=function e(t){var r=t.cells,a=t.blackBoxColumns,o=t.onCellBeginDrag,i=t.onDropGateOnCell,l=t.visualizationKey;return n.default.createElement(F,null,r.map((function(e,t){var r=false;if(a){r=t>=a.start&&t<=a.end}return n.default.createElement(f.DraggableCell,{visualizationKey:l,contents:r?u.EMPTY_CELL:e,draggable:!r,droppable:!r,onBeginDrag:function e(){return o(t)},onDropGate:function e(r){return i(t,r)}})})))};var F=(0,a.default)(i.RowContainer).attrs({spacing:function e(){return d.horizontalSpacing()}}).withConfig({displayName:"CircuitGrid__CellRow",componentId:"sc-6eq6kf-3"})(["height:","px;padding-left:","px;padding-right:","px;"],(function(){return d.gateSize()}),(function(){return d.wireExtension()}),(function(){return d.wireExtension()}));var X=function e(t){var r=t.numCells;var a=A(r);var o=d.gateSize()/2;return n.default.createElement("svg",{width:a,height:d.gateSize()},n.default.createElement("symbol",{id:"emptyCell",overflow:"visible"},n.default.createElement("circle",{cx:"0",cy:"0",r:u.EMPTY_GATE_RADIUS,fill:"#FFFFFF"})),n.default.createElement("line",{stroke:u.DARK_GRAY,x1:"0",y1:o,x2:a,y2:o}))};var Z=function e(t){var r=t.start,a=t.end,o=t.label;var i=a-r+1;var l=d.gateSize()*i+d.horizontalSpacing()*(i-1);var c=d.wireExtension()+(d.gateSize()+d.horizontalSpacing())*r;return n.default.createElement("div",{style:{display:"flex",width:l,height:"100%",marginLeft:c,alignItems:"center",justifyContent:"center",backgroundColor:u.DARK_GRAY,color:u.WHITE,fontWeight:"bold",borderRadius:u.OUTPUT_CORNER_RADIUS}},o)};var q=function(e){w(t,e);function t(){m(this,t);return b(this,C(t).apply(this,arguments))}g(t,[{key:"enterBinaryGateMode",value:function e(t,r,n){this.props.handlers.removeGate(t,r);this.setState({binaryGateMode:{controlRow:t,column:r,actionGate:n}})}},{key:"exitBinaryGateMode",value:function e(){this.setState({binaryGateMode:null})}},{key:"placeBinaryGatePair",value:function e(t,r){var n=t.controlRow,a=t.column,o=t.actionGate;var i=[o,r];this.props.handlers.addGate(n,a,i);this.exitBinaryGateMode()}},{key:"render",value:function e(){var t=this;var r=this.props,a=r.circuit,o=r.circuitSimulator,f=r.showPerQubitProbability,d=r.handlers,v=r.blackBoxColumns,p=r.rowColors,y=r.visualizationKey;var m=this.state.binaryGateMode;return n.default.createElement(i.RowContainer,null,n.default.createElement(z,{rows:l.numRows(a),colors:p}),n.default.createElement(W,{rows:l.numRows(a),columns:l.numColumns(a)},n.default.createElement(U,{circuit:a,blackBoxColumns:v}),n.default.createElement(K,{rows:l.numRows(a),columns:l.numColumns(a)}),n.default.createElement("div",{id:u.GRID_DIV_ID},n.default.createElement(N,{visualizationKey:y,circuit:a,blackBoxColumns:v,onCellBeginDrag:function e(t,r){return d.removeGate(t,r)},onDropGateOnCell:function e(r,n,a){if(l.isBinaryGateName(a)){t.enterBinaryGateMode(r,n,a)}else{d.addGate(r,n,a)}}})),v?n.default.createElement(Z,{start:v.start,end:v.end,label:v.label}):null,m?n.default.createElement(s.default,{circuit:a,activeColumn:m.column,controlRow:m.controlRow,actionGate:m.actionGate,onActionGatePlaced:function e(r){return t.placeBinaryGatePair(m,r)},onCanceled:function e(){return t.exitBinaryGateMode()}}):null),f?n.default.createElement(c.PerQubitProbability,{circuitSimulator:o}):null)}}]);return t}(n.default.Component);t.default=q},1960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(r(779));var a=s(r(813));var o=r(916);var i=r(830);var u=f(r(859));var l=r(963);var c=f(r(842));function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return y(e)||p(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function y(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function m(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){m=function e(t){return typeof t}}else{m=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return m(e)}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}function E(e,t){if(t&&(m(t)==="object"||typeof t==="function")){return t}return C(e)}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function S(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)_(e,t)}function _(e,t){_=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return _(e,t)}var O=function(e){S(t,e);function t(e){var r;h(this,t);r=E(this,w(t).call(this,e));r.cachedOnCanceled=r.props.onCanceled;return r}b(t,[{key:"componentDidMount",value:function e(){document.body.addEventListener("click",this.cachedOnCanceled)}},{key:"componentWillUnmount",value:function e(){document.body.removeEventListener("click",this.cachedOnCanceled)}},{key:"render",value:function e(){var t=this.props,r=t.circuit,a=t.activeColumn,i=t.controlRow,l=t.actionGate,f=t.onActionGatePlaced;var s=u.numColumns(r);var d=u.numRows(r);var v=[];for(var p=0;p<s;p++){if(p!==a){v.push(n.default.createElement(T,{width:c.gateSize()+c.horizontalSpacing()}))}else{v.push(n.default.createElement(P,{controlRow:i,numRows:d,onActionGatePlaced:f,containsJoggedWires:u.containsJoggedWires(a,r)}))}}return n.default.createElement(o.RowContainer,{style:{height:"100%"}},n.default.createElement(T,{width:c.wireExtension()}),v,n.default.createElement(T,{width:c.wireExtension()-c.horizontalSpacing()}),n.default.createElement(R,{gateType:l}))}}]);return t}(n.default.Component);var T=a.default.div.withConfig({displayName:"BinaryGateOverlay__MaskColumn",componentId:"gi0euk-0"})(["background-color:",";width:","px;opacity:0.75;"],i.WHITE,(function(e){return e.width}));var P=function e(t){var r=t.controlRow,a=t.numRows,u=t.onActionGatePlaced,f=t.containsJoggedWires;var s=f?c.gateSize()+c.horizontalSpacing():c.gateSize();var v=d(Array(a)).map((function(e,t){if(r===t){return n.default.createElement(l.BorderlessGate,null,n.default.createElement(l.GateCircle,{fill:i.BLUE}))}var o=0;var f=0;if(t!==0){o+=c.VERTICAL_SPACING/2}if(t!==a-1){f+=c.VERTICAL_SPACING/2}if(t===r-1){f+=c.VERTICAL_SPACING/2}if(t===r+1){o+=c.VERTICAL_SPACING/2}return n.default.createElement(I,{topMargin:o,bottomMargin:f,onClick:function e(){return u(t)}})}));var p=n.default.createElement(o.ColumnContainer,{style:{width:s,outline:"".concat(i.STROKE_WIDTH,"px solid ").concat(i.DARK_GRAY),outlineOffset:"-".concat(i.STROKE_WIDTH,"px")}},v);if(f){return n.default.createElement(o.RowContainer,null,p,n.default.createElement(T,{width:c.horizontalSpacing()}))}return p};var R=function(e){S(t,e);function t(e){var r;h(this,t);r=E(this,w(t).call(this,e));r.handleMouseMove=r.handleMouseMove.bind(C(r));r.state.mousePosition={x:-999,y:-999};return r}b(t,[{key:"handleMouseMove",value:function e(t){this.setState({mousePosition:{x:t.clientX,y:t.clientY}})}},{key:"componentDidMount",value:function e(){document.body.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function e(){document.body.removeEventListener("mousemove",this.handleMouseMove)}},{key:"render",value:function e(){var t=this.state.mousePosition,r=t.x,a=t.y;var o={position:"fixed",pointerEvents:"none",left:r-c.gateSize()/2,top:a-c.gateSize()/2,zIndex:3};return n.default.createElement("div",{style:o},n.default.createElement(l.Cell,{contents:this.props.gateType}))}}]);return t}(n.default.Component);var I=function(e){S(t,e);function t(){var e;h(this,t);e=E(this,w(t).call(this));e.state.hovered=false;e.handleMouseEnter=e.handleMouseEnter.bind(C(e));e.handleMouseLeave=e.handleMouseLeave.bind(C(e));return e}b(t,[{key:"componentDidMount",value:function e(){this.target.addEventListener("mouseenter",this.handleMouseEnter);this.target.addEventListener("mouseleave",this.handleMouseLeave)}},{key:"componentWillUnmount",value:function e(){this.target.removeEventListener("mouseenter",this.handleMouseEnter);this.target.removeEventListener("mouseleave",this.handleMouseLeave)}},{key:"handleMouseEnter",value:function e(){this.setState({hovered:true})}},{key:"handleMouseLeave",value:function e(t){if(t.relatedTarget!==this.target){this.setState({hovered:false})}}},{key:"render",value:function e(){var t=this;var r=this.state.hovered;var a=this.props,o=a.topMargin,u=a.bottomMargin,l=a.onClick;var f={backgroundColor:i.BLUE,opacity:r?.5:0,height:c.gateSize(),width:c.gateSize(),marginTop:o,pointerEvents:"none",zIndex:1};var s=o+c.gateSize()+u;return n.default.createElement("div",{style:{height:s,zIndex:2},ref:function e(r){t.target=r},onClick:l},n.default.createElement("div",{style:f}))}}]);return t}(n.default.Component);var A=O;t.default=A},1961:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=f(r(779));var a=r(911);var o=r(830);var i=r(963);var u=r(1374);var l=c(r(842));function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function y(e,t){if(t&&(s(t)==="object"||typeof t==="function")){return t}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return b(e,t)}var E={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function C(e){var t=e.currentPageOffset;if(!t){return{display:"none"}}var r=t.x,n=t.y;r-=l.gateSize()/2;n-=l.gateSize()/2;var a="translate(".concat(r,"px, ").concat(n,"px)");return{transform:a,WebkitTransform:a}}var w=function(e){g(t,e);function t(){d(this,t);return y(this,h(t).apply(this,arguments))}p(t,[{key:"renderProbe",value:function e(t){var r=t.circuit,a=t.currentPageOffset,o=t.gridDivId;return n.default.createElement(u.BlochSphereProbe,{circuit:r,currentPageOffset:a,gridDivId:o})}},{key:"render",value:function e(){var t=this.props,r=t.item,a=t.itemType,u=t.isDragging,l=t.visualizationKey;var c=r&&r.visualizationKey===l;if(!u||!c){return null}var f=null;switch(a){case o.DraggableTypes.GATE:f=n.default.createElement("div",{style:C(this.props)},n.default.createElement(i.Cell,{contents:r.gateType}));break;case o.DraggableTypes.PROBE:f=this.renderProbe(this.props);break;default:throw new Error("Unknown draggable type ".concat(a))}return n.default.createElement("div",{style:E},f)}}]);return t}(n.default.Component);function S(e){return{item:e.getItem(),itemType:e.getItemType(),currentPageOffset:e.getClientOffset(),isDragging:e.isDragging()}}var _=(0,a.DragLayer)(S)(w);t.default=_},1962:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var n=i(r(1963));var a=r(911);var o=i(r(1969));function i(e){return e&&e.__esModule?e:{default:e}}function u(){if(!window.dragDropContext){window.dragDropContext=(0,a.DragDropContext)((0,n.default)(o.default))}return window.dragDropContext}},287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(1824);function a(e,t){var r=document.getElementById(e.visualizationKey);r.innerHTML="";return(0,n.createQuantumCircuit)(r,e.visualizationKey,e.authoredData,e.userState||{},t,e.slug)}var o={createInteractive:function e(t){return a(t,false)},createInteractiveSolvable:function e(t,r){return a(t,r)}};t.default=o},799:function(e,t,r){"use strict";var n=a(r(927));function a(e){return e&&e.__esModule?e:{default:e}}var o=n.default.create();o.config({predictable:true});o.import(r(929));o.import(r(936));o.import(r(937));o.import(r(938));o.import(r(940));o.import(r(941));o.import(r(942));o.import(r(943));o.import(r(944));o.import(r(945));e.exports=o},830:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PALETTE_GATES=t.RENDERABLE_GATES=t.DraggableTypes=t.WIRE_TRACK=t.BINARY_GATES=t.UNARY_GATES=t.EMPTY_CELL=t.OUTPUT_CORNER_RADIUS=t.EPSILON=t.MAX_VIZ_WIDTH=t.GRID_DIV_ID=t.EMPTY_GATE_RADIUS=t.STROKE_WIDTH=t.BLUE=t.DARK_GRAY=t.WHITE=void 0;function n(e){return i(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function i(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}var u="#FFFFFF";t.WHITE=u;var l="#333333";t.DARK_GRAY=l;var c="#4B6FEC";t.BLUE=c;var f=1;t.STROKE_WIDTH=f;var s=4;t.EMPTY_GATE_RADIUS=s;var d="gate-grid";t.GRID_DIV_ID=d;var v=288;t.MAX_VIZ_WIDTH=v;var p=1e-10;t.EPSILON=p;var y=8;t.OUTPUT_CORNER_RADIUS=y;var m="-";t.EMPTY_CELL=m;var h=["H","X","Y","Z","S","T","R8","XH"];t.UNARY_GATES=h;var g=["CX","CZ"];t.BINARY_GATES=g;var b=Object.freeze({INSIDE:1/3,MIDDLE:1/2,OUTSIDE:2/3});t.WIRE_TRACK=b;var E={GATE:"gate",PROBE:"probe"};t.DraggableTypes=E;var C=[].concat(h,n(g.map((function(e){return"CONTROL_".concat(e)}))),n(g.map((function(e){return"ACTION_".concat(e)}))),[m]);t.RENDERABLE_GATES=C;var w=[].concat(h,g);t.PALETTE_GATES=w},842:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.gateSize=s;t.horizontalSpacing=d;t.wireExtension=v;t.perQubitProbability=p;t.setLayout=y;t.VERTICAL_SPACING=void 0;var n=a(r(859));function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}var o={gateSize:32,horizontalSpacing:2,wireExtension:2,perQubitProbability:{fontSize:14,width:60}};var i={gateSize:32,horizontalSpacing:8,wireExtension:16,perQubitProbability:{fontSize:18,width:70}};var u={gateSize:48,horizontalSpacing:8,wireExtension:16,perQubitProbability:{fontSize:18,width:70}};var l={gateSize:56,horizontalSpacing:8,wireExtension:16,perQubitProbability:{fontSize:18,width:70}};var c=i;var f=8;t.VERTICAL_SPACING=f;function s(){return c.gateSize}function d(){return c.horizontalSpacing}function v(){return c.wireExtension}function p(){return c.perQubitProbability}function y(e){var t=n.numRows(e);var r=n.numColumns(e);if(t<=3&&r<=4){c=l}else if(t<=4&&r<=4){c=u}else if(r===5){c=i}else{c=o}}},859:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isBinaryGatePair=v;t.isBinaryGateName=p;t.getActionGate=y;t.getActionRow=m;t.createEmpty=h;t.numColumns=g;t.numRows=b;t.clone=E;t.addGate=O;t.getGateAt=P;t.removeGate=R;t.simulate=D;t.isQubitEntangledAfterColumn=j;t.getStateValues=M;t.validateConfiguration=U;t.getRowCenters=H;t.getColumnCenters=Y;t.isControlWireObstructed=V;t.containsJoggedWires=Q;var n=l(r(1825));var a=l(r(799));var o=r(830);var i=u(r(842));function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return d(e)||s(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){var r=[];var n=true;var a=false;var o=undefined;try{for(var i=e[Symbol.iterator](),u;!(n=(u=i.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){a=true;o=e}finally{try{if(!n&&i["return"]!=null)i["return"]()}finally{if(a)throw o}}return r}function d(e){if(Array.isArray(e))return e}function v(e){return typeof e!=="string"}function p(e){return o.BINARY_GATES.includes(e)}function y(e){return e[0]}function m(e){return e[1]}function h(e,t){var r=[];for(var n=0;n<e;n++){r.push([]);for(var a=0;a<t;a++){r[n].push(o.EMPTY_CELL)}}return r}function g(e){return e[0].length}function b(e){return e.length}function E(e){var t=[];for(var r=0;r<b(e);r++){t.push([]);for(var n=0;n<g(e);n++){t[r].push(e[r][n])}}return t}function C(e,t,r){for(var n=0;n<b(r);n++){var a=r[n][t];if(v(a)&&m(a)===e){return n}}return null}function w(e,t,r){var n=C(e,t,r);if(n!=null){r[n][t]=o.EMPTY_CELL}return r}function S(e,t,r,n){n[e][t]=r;w(e,t,n);return n}function _(e,t,r,n){var a=m(r);w(e,t,n);w(a,t,n);n[e][t]=r;n[a][t]=o.EMPTY_CELL;return n}function O(e,t,r,n){var a=E(n);if(v(r)){return _(e,t,r,a)}return S(e,t,r,a)}function T(e,t,r){return C(e,t,r)!=null}function P(e,t,r){return r[e][t]}function R(e,t,r){var n=E(r);n[e][t]=o.EMPTY_CELL;w(e,t,n);return n}function I(e){switch(e){case"H":return"h";case"X":return"x";case"XH":return"xh";case"Y":return"y";case"Z":return"z";case"S":return"s";case"T":return"t";case"R8":return"r8";case"CX":return"cx";case"CZ":return"cz";default:return"id"}}var A=new n.default(1);A.addGate("x",0,0);A.addGate("h",1,0);var x=A.save();function D(e){var t=new n.default(b(e));t.registerGate("xh",x);for(var r=0;r<b(e);r++){for(var a=0;a<e[r].length;a++){var i=e[r][a];if(v(i)){var u=y(i);var l=m(i);t.addGate(I(u),a,[r,l])}else if(i!==o.EMPTY_CELL){t.addGate(I(i),a,r)}}}t.run();return t}function j(e,t,r){for(var n=0;n<=t;n++){if(v(r[e][n])||T(e,n,r)){return true}}return false}var k=/\s*(-?\d\.\d*(?:\+|-)\d\.\d*i)\|(\d+)>\s(\d+\.?\d*)%/;function M(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=e.stateAsString(t).trim().split("\n");var n={};r.forEach((function(e){var t=e.match(k);if(t!==null){var r=c(t,4),o=r[1],i=r[2],u=r[3];n[i.toString()]={amplitude:a.default.complex(o),percent:parseFloat(u)}}}));return n}var G=5;var z=6;function L(e){var t=e.rows,r=e.columns,n=e.startingCircuit,a=e.successStates;if(t<1||t>G){throw new Error("You must have between 1 and ".concat(G," rows."))}if(r<1||r>z){throw new Error("You must have between 1 and ".concat(z," columns."))}if(n!==undefined){if(t!==n.length){throw new Error("You've said in your configuration that you have ".concat(t," rows, but your startingCircuit shows ").concat(n.length," rows"))}for(var o=0;o<n.length;o++){if(r!==n[o].length){throw new Error("You've said in your configuration that you have ".concat(r," columns, but in your startingCircuit in row #").concat(o+1,", we have a row with ").concat(n[o].length," columns"))}}}if(a!==undefined){a.filter((function(e){var t=e.circuit;return t.length>0})).forEach((function(e,n){var a=e.circuit;if(t!==a.length){throw new Error("Success state ".concat(n+1," has ").concat(a.length," rows, but ").concat(t," rows were expected."))}for(var o=0;o<a.length;o++){if(r!==a[o].length){throw new Error("Success state ".concat(n+1,", row ").concat(o+1," has ").concat(a[o].length," columns, but ").concat(r," columns were expected."))}}}))}}function B(e){if(!o.UNARY_GATES.includes(e)){throw new Error("\n            Your circuit includes a unary gate of type ".concat(e,". We don't support that!\n            Valid unary gates are: ").concat(o.UNARY_GATES,".\n        "))}}function W(e,t,r){if(e.length!==2){throw new Error("\n        Your circuit include a malformed binary gate. It looks like ".concat(e,". We expect binary gates to be in the form [gateType, actionRow].\n        Example: ['CX', 2]\n        "))}var n=y(e);var a=m(e);if(!p(n)){throw new Error("\n            Your circuit includes a binary gate that looks like ".concat(e,". We don't support that type of gate!\n            Valid binary gates are: ").concat(o.BINARY_GATES,".\n        "))}if(a<0||a>=r.length){throw new Error("\n        Your control gate of type ".concat(n," is trying to connect to wire ").concat(a,", which doesn't exist.\n        The rows are 0-indexed, so the top row is 0 and the last row (in this case) is ").concat(r.length-1,"\n        "))}var i=r[a][t];if(i!==o.EMPTY_CELL){throw new Error("\n            Your control gate in column #".concat(t," is targeting row #").concat(a,". This cell needs to be empty. It currently contains a ").concat(i,".\n        "))}}function N(e){for(var t=0;t<e.length;t++){for(var r=0;r<e[t].length;r++){var n=e[t][r];if(n!==o.EMPTY_CELL){if(v(n)){W(n,r,e)}else{B(n)}}}}}function K(e,t){var r=e.start,n=e.end;if(r<0||r>=t){throw new Error("The start column for your black box must fall between 0 and ".concat(t-1,". Currently, it starts at column ").concat(r))}if(n<0||n>=t){throw new Error("The end column for your black box must fall between 0 and ".concat(t-1,". Currently, it ends at column ").concat(n))}if(n<r){throw new Error("The end column for your black box must be greater than or equal to the start column. Currently, the start column is ".concat(r,", while the end column is earlier, at ").concat(n,"."))}}function U(e){L(e);if(e.startingCircuit!==undefined){N(e.startingCircuit)}if(e.blackBoxColumns!==undefined){K(e.blackBoxColumns,e.columns)}}function H(e){var t=[];var r=i.gateSize();for(var n=0;n<b(e);n++){t.push(r/2+n*(r+i.VERTICAL_SPACING))}return t}function Y(e){var t=[];var r=i.gateSize();for(var n=0;n<g(e);n++){t.push(i.wireExtension()+r/2+n*(r+i.horizontalSpacing()))}return t}function V(e,t,r){var n=e.fromRow,a=e.toRow;for(var o=n+1;o<a;o++){if(r[o][t]!=="-"||T(o,t,r)){return true}}return false}function Q(e,t){for(var r=0;r<b(t);r++){var n=t[r][e];if(v(n)){var a=m(n);var o={fromRow:Math.min(r,a),toRow:Math.max(r,a)};if(V(o,e,t)){return true}}}return false}},916:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ColumnContainer=t.RowContainer=void 0;var n=a(r(813));function a(e){return e&&e.__esModule?e:{default:e}}var o=n.default.div.withConfig({displayName:"Containers__RowContainer",componentId:"sc-7mfubf-0"})(["display:flex;flex-direction:row;> *{margin-right:","px;}*:last-child{margin-right:0px;}width:content;"],(function(e){return e.spacing}));t.RowContainer=o;var i=n.default.div.withConfig({displayName:"Containers__ColumnContainer",componentId:"sc-7mfubf-1"})(["display:flex;flex-direction:column;> *{margin-bottom:","px;}*:last-child{margin-bottom:0px;}"],(function(e){return e.spacing}));t.ColumnContainer=i},963:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GateCircle=t.BorderlessGate=t.Cell=t.DraggableCell=void 0;var n=f(r(779));var a=r(911);var o=r(1016);var i=f(r(813));var u=r(830);var l=c(r(842));function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function y(e,t){if(t&&(s(t)==="object"||typeof t==="function")){return t}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return b(e,t)}var E=function(e){g(t,e);function t(){d(this,t);return y(this,h(t).apply(this,arguments))}p(t,[{key:"componentDidMount",value:function e(){var t=this.props.connectDragPreview;if(t){t((0,o.getEmptyImage)())}}},{key:"render",value:function e(){var t=this.props,r=t.contents,a=t.connectDragSource,o=t.connectDropTarget,i=t.isOver,l=t.draggable,c=t.droppable;var f=r!==u.EMPTY_CELL&&l;var s={cursor:f?"grab":"auto",position:"relative"};var d={backgroundColor:u.BLUE,opacity:i&&c?.5:0,position:"absolute",zIndex:1,top:0,left:0,height:"100%",width:"100%"};var v=n.default.createElement("div",{style:s,className:f?"android-draggable":null},n.default.createElement("div",{style:d}),n.default.createElement(T,{contents:r}));if(f){v=a(v,{dropEffect:"move"})}if(c){v=o(v)}return v}}]);return t}(n.default.Component);var C={beginDrag:function e(t){var r=t.onBeginDrag,n=t.contents,a=t.visualizationKey;if(r){r()}var o=n.replace("ACTION_","").replace("CONTROL_","");return{gateType:o,visualizationKey:a}},canDrag:function e(t){return t.contents!==u.EMPTY_CELL&&t.draggable}};var w={drop:function e(t,r){if(t.onDropGate){t.onDropGate(r.getItem().gateType)}}};function S(e){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}function _(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}var O=(0,a.DragSource)(u.DraggableTypes.GATE,C,S)((0,a.DropTarget)(u.DraggableTypes.GATE,w,_)(E));t.DraggableCell=O;var T=function e(t){var r=t.contents;if(r===u.EMPTY_CELL){return n.default.createElement(P,null,n.default.createElement(I,{fill:u.WHITE}))}if(r.startsWith("CONTROL")){return n.default.createElement(P,null,n.default.createElement(I,{fill:u.DARK_GRAY}))}if(r==="ACTION_CX"){return n.default.createElement(P,null,n.default.createElement(x,null))}if(r==="ACTION_CZ"){return n.default.createElement(R,null,"Z")}return n.default.createElement(R,null,r)};t.Cell=T;var P=i.default.div.withConfig({displayName:"Cell__BorderlessGate",componentId:"sc-1js0ivj-0"})(["width:","px;height:","px;display:flex;align-items:center;justify-content:center;"],(function(){return l.gateSize()}),(function(){return l.gateSize()}));t.BorderlessGate=P;var R=i.default.div.withConfig({displayName:"Cell__UnaryGate",componentId:"sc-1js0ivj-1"})(["width:","px;height:","px;border:","px solid ",";background-color:#ffffff;color:",";display:flex;align-items:center;justify-content:center;"],(function(){return l.gateSize()}),(function(){return l.gateSize()}),u.STROKE_WIDTH,u.DARK_GRAY,u.DARK_GRAY);var I=function e(t){var r=t.fill;return n.default.createElement("svg",{width:u.EMPTY_GATE_RADIUS*2+u.STROKE_WIDTH*2,height:u.EMPTY_GATE_RADIUS*2+u.STROKE_WIDTH*2},n.default.createElement("circle",{cx:u.EMPTY_GATE_RADIUS+u.STROKE_WIDTH,cy:u.EMPTY_GATE_RADIUS+u.STROKE_WIDTH,r:u.EMPTY_GATE_RADIUS,stroke:u.DARK_GRAY,fill:r}))};t.GateCircle=I;var A=8;var x=function e(){return n.default.createElement("svg",{width:A*2+u.STROKE_WIDTH*2,height:A*2+u.STROKE_WIDTH*2,style:{stroke:u.DARK_GRAY}},n.default.createElement("circle",{cx:A+u.STROKE_WIDTH,cy:A+u.STROKE_WIDTH,r:A,fill:u.WHITE}),"//Vertical line",n.default.createElement("line",{x1:A+u.STROKE_WIDTH,y1:u.STROKE_WIDTH,x2:A+u.STROKE_WIDTH,y2:A*2+u.STROKE_WIDTH}),"//Horizontal line",n.default.createElement("line",{x1:u.STROKE_WIDTH,y1:A+u.STROKE_WIDTH,x2:A*2+u.STROKE_WIDTH,y2:A+u.STROKE_WIDTH}))}},999:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.black=t.purple=t.yellow=t.magenta=t.orange=t.green=t.red=t.blue=t.borderRadiusMedium=t.paddingLarge=t.paddingMedium=t.paddingSmall=t.fontSizeSmall=t.fontSizeDefault=t.white=t.lightMediumGray=void 0;var n="#f0f0f0";t.lightMediumGray=n;var a="#fff";t.white=a;var o="15px";t.fontSizeDefault=o;var i="13px";t.fontSizeSmall=i;var u="8px";t.paddingSmall=u;var l="16px";t.paddingMedium=l;var c="24px";t.paddingLarge=c;var f="4px";t.borderRadiusMedium=f;var s="#0C6AC7";t.blue=s;var d="#D61F06";t.red=d;var v="#20A900";t.green=v;var p="#EC7300";t.orange=p;var y="#E81990";t.magenta=y;var m="#FEDF53";t.yellow=m;var h="#302B94";t.purple=h;var g="#000000";t.black=g}}]);
//# sourceMappingURL=viz-02-quantum-circuit.925ac832c050c60d44fa.js.map